(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{152:function(e,t,a){e.exports=a(298)},157:function(e,t,a){},298:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),s=a.n(c),l=(a(157),a(10)),o=a(17),i=a(1),u=a.n(i),m=a(5),p=a(6),d=a(22),f=a.n(d),g=f.a.create({baseURL:"/auth",withCredentials:!0}),b=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/signup",t);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/login",t);case 2:return e.abrupt("return",w());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.put("/edit",t);case 2:return e.abrupt("return",w());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.put("/editPic",t);case 2:return e.abrupt("return",w());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/profile");case 2:return t=e.sent,a=t.data.user,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/logout");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=Object(n.createContext)(),y=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(p.a)(a,2),s=c[0],l=c[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var o=function(e){return l(e)};return r.a.createElement(k.Provider,{value:{user:s,loginUser:o,logoutUser:function(){return l(null)}}},t)},N=function(e){var t=e.children,a=Object(n.useContext)(k),c=a.user,s=a.logoutUser,i=Object(o.g)(),p=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:s(),i.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg fixed-top navbar-dark bg-dark my-navbar"},r.a.createElement(l.b,{className:"navbar-brand my-brand",to:"/"},r.a.createElement("h1",null,"pronogeeks")),r.a.createElement("button",{className:"navbar-toggler my-navbar-btn",type:"button","data-toggle":"collapse","data-target":"#my-navbar-toggle","aria-controls":"my-navbar-toggle","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"my-navbar-toggle"},r.a.createElement("ul",{className:"navbar-nav mt-2 mt-lg-0"},c?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link logout-btn",onClick:p},"D\xe9connexion")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/myGeekLeagues"},"Mes ligues Geek")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/pronogeeks/5f67f525d7b14148997ee3eb"},"Mes pronogeeks")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/profile"},r.a.createElement("img",{className:"profile-pic-navbar",src:c.photo,alt:"Profile"})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/login"},"Se connecter")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/signup"},"Cr\xe9er un compte")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/"},r.a.createElement("svg",{width:"1.6em",height:"1.6em",viewBox:"0 0 16 16",className:"bi bi-house-fill my-home-icon",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M8 3.293l6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"}),r.a.createElement("path",{fillRule:"evenodd",d:"M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"}))," ",r.a.createElement("span",{className:"sr-only"},"(current)"))))))),r.a.createElement("div",{className:"my-content"},t))},j=f.a.create({baseURL:"/api/fixtures",withCredentials:!0}),O=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/".concat(t));case 2:return a=e.sent,n=a.data.fixture,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=f.a.create({baseURL:"/api/pronogeeks",withCredentials:!0}),C=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){var r,c,s,l,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/".concat(n));case 2:if(r=e.sent,c=r.data.pronogeek){e.next=12;break}return e.next=7,S.post("/".concat(n),{homeProno:t,awayProno:a});case 7:return s=e.sent,l=s.data.pronogeek,e.abrupt("return",l);case 12:return e.next=14,S.put("/".concat(c._id),{homeProno:t,awayProno:a});case 14:return o=e.sent,i=o.data.pronogeek,e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),M=a(302),z=a(306),L=a(307),T=a(300),D=a(304),H=function(e){var t=e.size,a=void 0===t?"large":t,n=e.tip,c=void 0===n?"Chargement de la page...":n,s=e.color,l=void 0===s?"white":s,o=e.fontSize,i=void 0===o?"3rem":o,u=e.container,m=void 0===u||u;return r.a.createElement("div",{className:m?"loader-container":""},r.a.createElement(L.b,{size:a},r.a.createElement(T.a,{size:a,tip:c,style:{color:l,fontSize:"1.2rem"},indicator:r.a.createElement(D.a,{spin:!0,style:{color:l,fontSize:i,marginBottom:8}})})))},P=function(e){var t=e.fixtureID,a=e.saveAll,c=Object(n.useState)(null),s=Object(p.a)(c,2),l=s[0],o=s[1],i=Object(n.useState)(null),d=Object(p.a)(i,2),f=d[0],g=d[1],b=Object(n.useState)(!1),h=Object(p.a)(b,2),E=h[0],v=h[1],w=Object(n.useState)(null),x=Object(p.a)(w,2),y=x[0],N=x[1],j=Object(n.useState)(null),S=Object(p.a)(j,2),L=S[0],T=S[1],D=Object(n.useState)(!1),P=Object(p.a)(D,2),_=P[0],I=P[1],B=Object(n.useState)(!1),A=Object(p.a)(B,2),F=A[0],R=A[1],G=Object(n.useContext)(k).user;Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,c,s,l,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:a=e.sent,n=a.season,r=a.matchweek,new Date(a.date)-Date.now()<0&&v(!0),o(a),(c=G.seasons.filter((function(e){return e.season._id===n}))).length>0&&(c=c[0]),s={homeProno:"",awayProno:""},l=[],i=0,c.matchweeks.length>0&&(c.matchweeks.forEach((function(e,t){e.number.toString()===r.toString()&&(i=t)})),c.matchweeks[i].pronogeeks.length>0&&(l=c.matchweeks[i].pronogeeks.filter((function(e){return e.fixture===t})))),l.length>0&&(s=l[0]),g(s),N(s.homeProno),T(s.awayProno);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t)}),[t,G.seasons]);var U=function(){var e=Object(m.a)(u.a.mark((function e(){var a,n,r,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!(c.length>0&&void 0!==c[0])||c[0],n=c.length>1&&void 0!==c[1]?c[1]:4500,!(new Date(l.date).getTime()-Date.now()<0)){e.next=4;break}return e.abrupt("return",J("error","Erreur","Ce match est d\xe9j\xe0 commenc\xe9 ou fini. Tu ne peux plus changer ton prono."));case 4:if((y||0===parseInt(y))&&(L||0===parseInt(L))){e.next=6;break}return e.abrupt("return",J("warning","Attention","Tu n'as pas d\xe9fini de score pour le match ".concat(l.homeTeam.name," - ").concat(l.awayTeam.name,". Prono non enregistr\xe9.")));case 6:return r=!1,I(!0),e.next=10,C(y,L,t).catch((function(e){J("warning","Attention",e.response.data.message.fr),r=!0,I(!1)}));case 10:r||(a&&J("success","Enregistr\xe9","Pronogeek enregistr\xe9 pour ".concat(l.homeTeam.name," - ").concat(l.awayTeam.name)),I(!1),R(!0),setTimeout((function(){return R(!1)}),n));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){a&&new Date(l.date).getTime()-Date.now()>0&&(y||0===parseInt(y))&&(L||0===parseInt(L))&&U(!1,1e4)}),[a,L,y,l]);var q,V,J=function(e,t,a){M.a[e]({message:t,description:a,placement:"bottomRight",className:"notification-box"})},K=function(e){var t=(e=new Date(e)).getDay(),a=e.getMonth()<9?"0".concat(e.getMonth()+1):e.getMonth()+1,n=e.getMinutes()<=9?"0".concat(e.getMinutes()):e.getMinutes();switch(t){case 0:t="dimanche";break;case 1:t="lundi";break;case 2:t="mardi";break;case 3:t="mercredi";break;case 4:t="jeudi";break;case 5:t="vendredi";break;case 6:t="samedi";break;default:t=""}return{fullDate:"".concat(t," ").concat(e.getDate(),"/").concat(a,"/").concat(e.getFullYear()),fullTime:"".concat(e.getHours(),"h").concat(n)}};return l&&null!=y&&null!=L?r.a.createElement("div",{className:"fixture-line"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("img",{src:l.homeTeam.logo,alt:"logo",className:"team-logo"})),r.a.createElement("th",null,r.a.createElement("small",null,l.homeTeam.stadium,r.a.createElement("br",null),K(l.date).fullDate,r.a.createElement("br",null),"\xe0 ",K(l.date).fullTime)),r.a.createElement("th",null,r.a.createElement("img",{src:l.awayTeam.logo,alt:"logo",className:"team-logo"})))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:"score-teams-row"},r.a.createElement("td",{className:"team-name"},l.homeTeam.name),r.a.createElement("td",{className:"score-fixture"},l.goalsHomeTeam," - ",l.goalsAwayTeam),r.a.createElement("td",{className:"team-name"},l.awayTeam.name)),l.timeElapsed&&r.a.createElement("tr",{className:"pb-1"},r.a.createElement("td",null),r.a.createElement("td",{className:"fixture-status"},(q=l.statusShort,V=l.timeElapsed,"TBD"!==q&&"NS"!==q&&"1H"!==q&&"HT"!==q&&"2H"!==q&&"ET"!==q&&"P"!==q&&"BT"!==q&&"SUSP"!==q&&"INT"!==q&&"PST"!==q?"Match termin\xe9":"HT"===q?"Mi-temps":"".concat(V,"'"))),r.a.createElement("td",null)),r.a.createElement("tr",{className:"odds-section odds-top"},r.a.createElement("td",null,"Cote domicile :"),r.a.createElement("td",null,"Cote nul :"),r.a.createElement("td",null,"Cote ext\xe9rieur :")),r.a.createElement("tr",{className:"odds-section odds-bottom"},r.a.createElement("td",null,l.oddsWinHome),r.a.createElement("td",null,l.oddsDraw),r.a.createElement("td",null,l.oddsWinAway)),r.a.createElement("tr",{className:"prono-section"},r.a.createElement("td",{className:"prono-input-col"},r.a.createElement("label",null,"Buts domicile :"),r.a.createElement("input",{className:"prono-input",type:"number",name:"homeProno",value:y,min:0,onChange:function(e){return N(e.target.value)},placeholder:"Prono",disabled:E})),r.a.createElement("td",{className:"prono-input-col"},!F&&r.a.createElement(r.a.Fragment,null,!E&&r.a.createElement("small",{className:"legend-save-btn"},"Enregistrer prono"),r.a.createElement("button",{className:"btn my-btn save-prono",disabled:E,onClick:U},!_&&r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"})),_&&r.a.createElement(H,{fontSize:"1.5rem",tip:"",container:!1}))),F&&r.a.createElement(r.a.Fragment,null,!E&&r.a.createElement("small",{className:"legend-save-btn"},"Prono enregistr\xe9"),r.a.createElement("button",{className:"btn my-btn save-prono saved-prono",disabled:E,onClick:U},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))))),r.a.createElement("td",{className:"prono-input-col"},r.a.createElement("label",null,"Buts ext\xe9rieur :"),r.a.createElement("input",{className:"prono-input",type:"number",name:"awayProno",value:L,min:0,onChange:function(e){return T(e.target.value)},placeholder:"Prono",disabled:E}))))),f.points>0&&f.bonusFavTeam&&r.a.createElement("div",{className:"points-cell"},"Tu as scor\xe9 ",r.a.createElement("i",null,f.points,"pts")," ",f.exact&&"(".concat((f.points-30)/2,"*2)"),r.a.createElement("br",null),"dont 30pts bonus pour ton \xe9quipe de ",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:" rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}))),f.points>0&&!f.bonusFavTeam&&r.a.createElement("div",{className:"points-cell"},"Tu as scor\xe9 ",r.a.createElement("i",null,f.points,"pts")," ",f.exact&&"(".concat(f.points/2,"*2)")),0===f.points&&f.addedToProfile&&r.a.createElement("div",{className:"points-cell"},"Dommage, mauvais prono...")):r.a.createElement("div",{style:{padding:20,paddingTop:0}},r.a.createElement(z.a,{active:!0}))},_=f.a.create({baseURL:"/api/user",withCredentials:!0}),I=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/users");case 2:return t=e.sent,a=t.data.users,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/geek/".concat(t));case 2:return a=e.sent,n=a.data.user,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/".concat(t));case 2:return a=e.sent,n=a.data.newSeason,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/".concat(t,"/").concat(a));case 2:return n=e.sent,r=n.data.matchweek,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.put("/".concat(t,"/favTeam"),a);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/players/".concat(t));case 2:return a=e.sent,n=a.data.users,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.put("/".concat(t));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.delete("/".concat(t));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(e){var t=e.fixtureID,a=e.geekID,c=Object(n.useState)(null),s=Object(p.a)(c,2),l=s[0],o=s[1],i=Object(n.useState)(null),d=Object(p.a)(i,2),f=d[0],g=d[1],b=Object(n.useState)(!1),h=Object(p.a)(b,2),E=h[0],v=h[1],w=Object(n.useState)(null),x=Object(p.a)(w,2),k=x[0],y=x[1],N=Object(n.useState)(null),j=Object(p.a)(N,2),S=j[0],C=j[1],M=Object(n.useState)(null),L=Object(p.a)(M,2),T=L[0],D=L[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(a);case 2:t=e.sent,D(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(n.useEffect)((function(){T&&T.seasons.length>0&&function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,c,s,l,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:a=e.sent,n=a.season,r=a.matchweek,new Date(a.date)-Date.now()<0&&v(!0),o(a),(c=T.seasons.filter((function(e){return e.season._id===n}))).length>0&&(c=c[0]),s={homeProno:"",awayProno:""},l=[],i=0,c.matchweeks.length>0&&(c.matchweeks.forEach((function(e,t){e.number.toString()===r.toString()&&(i=t)})),c.matchweeks[i].pronogeeks.length>0&&(l=c.matchweeks[i].pronogeeks.filter((function(e){return e.fixture===t})))),l.length>0&&(s=l[0]),g(s),y(s.homeProno),C(s.awayProno);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t)}),[t,T]);var H,P,_=function(e){var t=(e=new Date(e)).getDay(),a=e.getMonth()<9?"0".concat(e.getMonth()+1):e.getMonth()+1,n=e.getMinutes()<=9?"0".concat(e.getMinutes()):e.getMinutes();switch(t){case 0:t="dimanche";break;case 1:t="lundi";break;case 2:t="mardi";break;case 3:t="mercredi";break;case 4:t="jeudi";break;case 5:t="vendredi";break;case 6:t="samedi";break;default:t=""}return{fullDate:"".concat(t," ").concat(e.getDate(),"/").concat(a,"/").concat(e.getFullYear()),fullTime:"".concat(e.getHours(),"h").concat(n)}};return l&&null!=k&&null!=S?r.a.createElement("div",{className:"fixture-line"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("img",{src:l.homeTeam.logo,alt:"logo",className:"team-logo"})),r.a.createElement("th",null,r.a.createElement("small",null,l.homeTeam.stadium,r.a.createElement("br",null),_(l.date).fullDate,r.a.createElement("br",null),"\xe0 ",_(l.date).fullTime)),r.a.createElement("th",null,r.a.createElement("img",{src:l.awayTeam.logo,alt:"logo",className:"team-logo"})))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:"score-teams-row"},r.a.createElement("td",{className:"team-name"},l.homeTeam.name),r.a.createElement("td",{className:"score-fixture"},l.goalsHomeTeam," - ",l.goalsAwayTeam),r.a.createElement("td",{className:"team-name"},l.awayTeam.name)),l.timeElapsed&&r.a.createElement("tr",{className:"pb-1"},r.a.createElement("td",null),r.a.createElement("td",{className:"fixture-status"},(H=l.statusShort,P=l.timeElapsed,"TBD"!==H&&"NS"!==H&&"1H"!==H&&"HT"!==H&&"2H"!==H&&"ET"!==H&&"P"!==H&&"BT"!==H&&"SUSP"!==H&&"INT"!==H&&"PST"!==H?"Match termin\xe9":"HT"===H?"Mi-temps":"".concat(P,"'"))),r.a.createElement("td",null)),r.a.createElement("tr",{className:"odds-section odds-top"},r.a.createElement("td",null,"Cote domicile :"),r.a.createElement("td",null,"Cote nul :"),r.a.createElement("td",null,"Cote ext\xe9rieur :")),r.a.createElement("tr",{className:"odds-section odds-bottom"},r.a.createElement("td",null,l.oddsWinHome),r.a.createElement("td",null,l.oddsDraw),r.a.createElement("td",null,l.oddsWinAway)),E&&r.a.createElement("tr",{className:"prono-section"},r.a.createElement("td",{className:"prono-input-col"},r.a.createElement("label",null,"Buts domicile :"),r.a.createElement("input",{className:"prono-input",type:"number",name:"homeProno",value:k,placeholder:"Prono",disabled:!0})),r.a.createElement("td",{className:"prono-input-col"},f.points>0&&f.bonusFavTeam&&r.a.createElement("div",{style:{margin:"0 10px"}},T.username," a scor\xe9 ",r.a.createElement("i",null,f.points,"pts")," ",f.exact&&"(".concat(f.potentialPoints,"*2)"),r.a.createElement("br",null),"dont 30 pts bonus pour son \xe9quipe de ",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:" rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}))),f.points>0&&!f.bonusFavTeam&&r.a.createElement("div",{style:{margin:"0 10px"}},T.username," a scor\xe9 ",r.a.createElement("i",null,f.points,"pts")," ",f.exact&&"(".concat(f.potentialPoints,"*2)")),0===f.points&&f.addedToProfile&&r.a.createElement("div",{style:{margin:"0 10px"}},"Mauvais prono...")),r.a.createElement("td",{className:"prono-input-col"},r.a.createElement("label",null,"Buts ext\xe9rieur :"),r.a.createElement("input",{className:"prono-input",type:"number",name:"awayProno",value:S,placeholder:"Prono",disabled:!0}))),!E&&r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,"Pronogeek non visible."),r.a.createElement("td",null))))):r.a.createElement("div",{style:{padding:20,paddingTop:0}},r.a.createElement(z.a,{active:!0}))},J=a(7),K=a(301),W=a(305),X=function(e){var t=e.confirm,a=void 0!==t&&t,c=Object(n.useContext)(k).user,s=K.a.useForm(),l=Object(p.a)(s,1)[0],i=Object(n.useState)(null),d=Object(p.a)(i,2),g=d[0],h=d[1],E=Object(n.useState)("Charger une photo"),v=Object(p.a)(E,2),w=v[0],x=v[1],y=Object(n.useState)(!1),N=Object(p.a)(y,2),j=N[0],O=N[1],S=Object(n.useState)(a),C=Object(p.a)(S,2),z=C[0],L=C[1],T=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@(([[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t.email).toLowerCase())){e.next=5;break}D("warning","Attention","Je crois qu'il y a une faute de frappe dans ton email..."),e.next=18;break;case 5:if(O(!0),a=null,!g){e.next=13;break}return e.next=10,f.a.post("https://api.cloudinary.com/v1_1/dlyw9xi3k/image/upload",g);case 10:n=e.sent,r=n.data.secure_url,a=r;case 13:return c=!1,e.next=16,b(Object(J.a)(Object(J.a)({},t),{},{photo:a})).catch((function(e){console.log(e.info),D("error","Erreur",e.response.data.message.fr),c=!0}));case 16:c||L(!0),O(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e,t,a){M.a[e]({message:t,description:a,placement:"bottomRight",className:"notification-box"})};return r.a.createElement("div",{className:"register-pages"},j?r.a.createElement(H,{tip:"Enregistrement du compte...",color:"rgb(4, 78, 199)"}):z?r.a.createElement("div",{className:"row signup-form"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-xl-6 offset-xl-3"},r.a.createElement("h3",null,"Merci pour ton inscription ! Un mail t'a \xe9t\xe9 envoy\xe9 pour confirmer ton adresse email."))):c?r.a.createElement(o.a,{to:"/profile"}):r.a.createElement("div",{className:"row signup-form"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-xl-6 offset-xl-3"},r.a.createElement("h2",null,"Cr\xe9er un compte"),r.a.createElement(K.a,{form:l,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:T},r.a.createElement(K.a.Item,{type:"email",label:"Email :",name:"email",rules:[{required:!0,message:"L'email est n\xe9cessaire pour cr\xe9er un compte."}]},r.a.createElement(W.a,{style:{borderRadius:15.8},placeholder:"roi.geek@pronogeeks.fr"})),r.a.createElement(K.a.Item,{label:"Pseudo :",name:"username",rules:[{required:!0,message:"Le pseudo est obligatoire et doit \xeatre unique."}]},r.a.createElement(W.a,{style:{borderRadius:15.8},placeholder:"RoiGeek"})),r.a.createElement(K.a.Item,{label:"Mot de passe :",name:"password",rules:[{required:!0,message:"Tu auras besoin d'un mot de passe pour te connecter !"}]},r.a.createElement(W.a.Password,{style:{borderRadius:15.8},placeholder:"********"})),r.a.createElement("label",{className:"first-file-label signup-file-label",htmlFor:"profile-pic-input-signup"},"Photo de profil :"),r.a.createElement("br",null),r.a.createElement("div",{className:"custom-file custom-file-signup"},r.a.createElement("label",{className:"profile-image custom-file-label",htmlFor:"profile-pic-input-signup"},w,r.a.createElement("input",{id:"profile-pic-input-signup",type:"file",name:"image",className:"custom-file-input",onChange:function(e){if(e.target.files.length>0){console.log("TEST");var t=e.target.files[0];if(t.size>1e6)return D("warning","Attention","La taille du fichier ne peux pas exc\xe9der 1Mo.");if("image/jpeg"!==t.type&&"image/png"!==t.type&&"image/jpg"!==t.type)return D("warning","Attention","La photo doit \xeatre au format JPG ou PNG.");x(t.name);var a=new FormData;a.append("file",e.target.files[0]),a.append("upload_preset","pronogeeks"),h(a)}}}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("button",{type:"submit",className:"btn my-btn submit-btn register-btn",style:{marginTop:10}},"Cr\xe9er mon compte"))),r.a.createElement("div",{className:"social-logins"},r.a.createElement("h4",null,"Se connecter avec :"),r.a.createElement("div",{className:"social-login-links"},r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/facebook")},r.a.createElement("img",{src:"/images/facebook-logo.png",alt:"Facebook"})),r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/google")},r.a.createElement("img",{src:"/images/google-logo.png",alt:"Google"})))))))},Y=function(e){var t=e.history,a=K.a.useForm(),c=Object(p.a)(a,1)[0],s=Object(n.useContext)(k),l=s.loginUser,i=s.user,d=function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(a).catch((function(e){return f(e.response.data.message)}));case 2:n=e.sent,l(n),t.push("/profile");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){M.a.warning({message:"Error",description:e,placement:"bottomRight",className:"notification-box"})};return i?r.a.createElement(o.a,{to:"/profile"}):r.a.createElement("div",{className:"register-pages"},r.a.createElement("div",{className:"row signup-form"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 col-xl-4 offset-xl-4"},r.a.createElement("h2",null,"Se connecter"),r.a.createElement(K.a,{form:c,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:d},r.a.createElement(K.a.Item,{type:"email",label:"Email :",name:"email",rules:[{required:!0,message:"L'email est n\xe9cessaire pour te connecter \xe0 ton compte"}]},r.a.createElement(W.a,{style:{borderRadius:15.8},placeholder:"roi.geek@pronogeeks.fr"})),r.a.createElement(K.a.Item,{label:"Mot de passe :",name:"password",rules:[{required:!0,message:"N'oublie pas ton mot de passe !"}]},r.a.createElement(W.a.Password,{style:{borderRadius:15.8},placeholder:"********"})),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("button",{type:"submit",className:"btn register-btn my-btn submit-btn"},"Me connecter"))),r.a.createElement("div",{className:"social-logins"},r.a.createElement("h4",null,"Se connecter avec :"),r.a.createElement("div",{className:"social-login-links"},r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/facebook")},r.a.createElement("img",{src:"/images/facebook-logo.png",alt:"Facebook"})),r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/google")},r.a.createElement("img",{src:"/images/google-logo.png",alt:"Google"})))))))},Z=function(){return Object(n.useContext)(k).user?r.a.createElement(o.a,{to:"/profile"}):r.a.createElement("div",{className:"my-content-homepage"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},r.a.createElement("div",{className:"home-div"},r.a.createElement("div",null,r.a.createElement("h2",null,"Bienvenue sur",r.a.createElement("br",null),r.a.createElement("img",{className:"logo-homepage",src:"/images/logo-blue-home.png",alt:"Logo"})),r.a.createElement("p",{className:"home-message"},"Mesure-toi aux ma\xeetres geeks des pronostics de Ligue 1",r.a.createElement("br",null),"et deviens expert pronogeekeur !")),r.a.createElement("div",{className:"home-register"},r.a.createElement(l.b,{className:"btn my-btn login-btn",to:"/login"},"Se connecter"),r.a.createElement(l.b,{className:"btn my-btn signup-btn",to:"/signup"},"Cr\xe9er un compte")),r.a.createElement("div",{className:"social-logins"},r.a.createElement("h4",null,"Se connecter avec :"),r.a.createElement("div",{className:"social-login-links"},r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/facebook")},r.a.createElement("img",{src:"/images/facebook-logo.png",alt:"Facebook"})),r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/google")},r.a.createElement("img",{src:"/images/google-logo.png",alt:"Google"}))))))))},$=function(e){var t=e.loading,a=e.history,c=Object(n.useContext)(k),s=c.user,o=c.loginUser,i=c.logoutUser,d=Object(n.useState)(!1),g=Object(p.a)(d,2),b=g[0],h=g[1],x=Object(n.useState)(!1),y=Object(p.a)(x,2),N=y[0],j=y[1],O=Object(n.useState)(!1),S=Object(p.a)(O,2),C=S[0],z=S[1],P=Object(n.useState)(""),_=Object(p.a)(P,2),I=_[0],B=_[1],A=Object(n.useState)(!1),F=Object(p.a)(A,2),R=F[0],U=F[1],V=Object(n.useState)(null),J=Object(p.a)(V,2),K=J[0],W=J[1],X=Object(n.useState)(null),Y=Object(p.a)(X,2),Z=Y[0],$=Y[1],Q=Object(n.useState)(null),ee=Object(p.a)(Q,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(null),re=Object(p.a)(ne,2),ce=re[0],se=re[1],le=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=t.target.files[0]).size>1e6)){e.next=3;break}return e.abrupt("return",ue("warning","Attention","La taille du fichier ne peux pas exc\xe9der 1Mo. La photo de profil reste inchang\xe9e."));case 3:if("image/jpeg"===a.type||"image/png"===a.type||"image/jpg"===a.type){e.next=5;break}return e.abrupt("return",ue("warning","Attention","Le fichier doit \xeatre au format JPG ou PNG. La photo de profil reste inchang\xe9e."));case 5:return h(!0),(n=new FormData).append("file",t.target.files[0]),n.append("upload_preset","pronogeeks"),e.next=11,f.a.post("https://api.cloudinary.com/v1_1/dlyw9xi3k/image/upload",n);case 11:return r=e.sent,c=r.data.secure_url,e.next=15,v({photo:c});case 15:s=e.sent,o(s),h(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,e.next=3,E({username:I}).catch((function(e){t=!1,ue("warning","Attention",e.response.data.message.fr)}));case 3:if(!t){e.next=11;break}return U(!0),e.next=7,w();case 7:a=e.sent,o(a),j(!1),U(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s._id,i(),a.push("/"),e.next=5,q(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){B(null===s||void 0===s?void 0:s.username),function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===s||void 0===s?void 0:s.seasons.length)>0)){e.next=12;break}return t=s.seasons[s.seasons.length-1].season._id.toString(),W(s.seasons[s.seasons.length-1].season._id.toString()),e.next=5,G(t);case 5:a=e.sent,n=a.sort((function(e,a){return a.seasons.filter((function(e){return e.season.toString()===t}))[0].totalPoints-e.seasons.filter((function(e){return e.season.toString()===t}))[0].totalPoints})),r=n.map((function(e){return e.username})).indexOf(s.username)+1,c=n.slice(0,20),se(r),$(n),ae(c);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[s]);var ue=function(e,t,a){M.a[e]({message:t,description:a,placement:"bottomRight",className:"notification-box"})},me=function(e){return 1===parseInt(e)?"1er(e)":"".concat(e,"\xe8me")};return R||t?r.a.createElement("div",{className:"my-profile-page"},r.a.createElement(H,null)):r.a.createElement("div",{className:"my-profile-page row"},r.a.createElement("div",{className:"my-profile col-10 offset-1 col-lg-4"},r.a.createElement("section",{className:"about-section"},r.a.createElement("h2",null,"Bonjour ",s.username,r.a.createElement("button",{onClick:function(){return j(!N)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"30px",height:"30px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})))),r.a.createElement("div",{className:"profile-details"},r.a.createElement("div",{className:"profile-picture-container"},!b&&r.a.createElement("img",{src:s.photo,alt:"Profile pic",className:"profile-pic"}),b&&r.a.createElement("div",{className:"profile-pic"},r.a.createElement(L.b,{size:"medium"},r.a.createElement(T.a,{size:"medium",tip:"Chargement de la photo...",style:{color:"rgb(26, 145, 254)"},indicator:r.a.createElement(D.a,{spin:!0,style:{color:"rgb(26, 145, 254)",fontSize:"2rem",marginBottom:8}})}))),r.a.createElement("label",{className:"first-file-label",htmlFor:"profile-pic-input"},"Changer de photo de profil :"),r.a.createElement("div",{className:"custom-file"},r.a.createElement("label",{className:"profile-image custom-file-label",htmlFor:"profile-pic-input"},"Charger une photo",r.a.createElement("input",{id:"profile-pic-input",type:"file",name:"image",className:"custom-file-input",onChange:le})))),s.seasons.length>0&&s.seasons[s.seasons.length-1].favTeam&&r.a.createElement("div",{className:"favteam-info"},r.a.createElement("div",null,r.a.createElement("img",{src:s.seasons[s.seasons.length-1].favTeam.logo,alt:"Logo \xe9quipe de coeur"})),r.a.createElement("h5",null,s.seasons[s.seasons.length-1].favTeam.name," est ton \xe9quipe de coeur",r.a.createElement("br",null),"pour la saison ",s.seasons[s.seasons.length-1].season.year," de ",s.seasons[s.seasons.length-1].season.leagueName,".")))),r.a.createElement("section",{className:"geekleagues-section"},r.a.createElement("h2",null,"Ligues Geek"),r.a.createElement(l.b,{to:"/myGeekLeagues/new",className:"btn my-btn new-league"},"Nouvelle ligue"),s.geekLeagues.length>0&&r.a.createElement("ul",{className:"list-group list-group-flush geekleagues-list-profile mt-4"},K&&!Z&&r.a.createElement("div",{className:"pt-4"},r.a.createElement(L.b,{size:"large"},r.a.createElement(T.a,{size:"large",tip:"Chargement des ligues...",style:{color:"white",fontSize:"1.2rem"},indicator:r.a.createElement(D.a,{spin:!0,style:{color:"white",fontSize:"3rem",marginBottom:8}})}))),Z&&r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center mb-2"},r.a.createElement("span",null,r.a.createElement("b",null,"Mes ligues")),r.a.createElement("span",null,r.a.createElement("b",null,"Mon classement"))),Z&&s.geekLeagues.map((function(e){return r.a.createElement(l.b,{to:"/myGeekLeagues/".concat(e._id),key:e._id},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("span",{style:{color:"rgb(4, 78, 199)"}},e.name),r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},me(Z.filter((function(t){var a=!1;return e.geeks.forEach((function(e){e._id===t._id&&(a=!0)})),a})).map((function(e){return e._id})).indexOf(s._id)+1)," / ",e.geeks.length)))}))))),K&&r.a.createElement("section",{className:"my-profile-ranking col-10 offset-1 col-lg-4 offset-lg-2"},!te&&r.a.createElement("div",{className:"pt-4"},r.a.createElement(L.b,{size:"large"},r.a.createElement(T.a,{size:"large",tip:"Chargement du classement...",style:{color:"white",fontSize:"1.2rem"},indicator:r.a.createElement(D.a,{spin:!0,style:{color:"white",fontSize:"3rem",marginBottom:8}})}))),te&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,s.seasons[s.seasons.length-1].season.leagueName," saison ",s.seasons[s.seasons.length-1].season.year,r.a.createElement("br",null),"Classement g\xe9n\xe9ral"),r.a.createElement("ul",{className:"list-group list-group-flush season-ranking"},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center mb-2"},r.a.createElement("span",null,r.a.createElement("b",null,me(ce)," : ",s.username)),r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},s.seasons[s.seasons.length-1].totalPoints," pts")),te.map((function(e,t){return r.a.createElement("li",{key:e._id,className:"list-group-item d-flex justify-content-between align-items-center"},e._id===s._id&&r.a.createElement("span",null,r.a.createElement("b",null,me(t+1)," : ",e.username)),e._id!==s._id&&r.a.createElement("span",null,me(t+1)," : ",e.username),r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},e.seasons.filter((function(e){return e.season.toString()===K.toString()}))[0].totalPoints," pts"))})))),r.a.createElement("div",{className:"delete-account"},r.a.createElement("button",{onClick:function(){return z(!C)},className:"btn my-btn delete-account-btn"},"Supprimer compte"))),N&&r.a.createElement("div",{id:"update-username-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"update-username-modal-title","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},"Changer de pseudo :"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return j(!1)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("label",{htmlFor:"pseudo-input-profile"},"Entrer un nouveau pseudo :"),r.a.createElement("input",{type:"text",id:"pseudo-input-profile",name:"username",value:I,onChange:function(e){return B(e.target.value)}})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"my-btn close",onClick:function(){return j(!1)}},"Fermer"),r.a.createElement("button",{type:"button",className:" my-btn save",onClick:oe},"Enregistrer"))))),C&&r.a.createElement("div",{id:"delete-account-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"delete-account-modal-title","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},"Supprimer mon compte"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return z(!1)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}))," Es-tu s\xfbr de vouloir supprimer ton compte ? Toutes tes donn\xe9es seront perdues...")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"my-btn close-delete",onClick:function(){return z(!1)}},"Annuler"),r.a.createElement("button",{type:"button",className:" my-btn delete-account-btn",onClick:ie},"Supprimer"))))))},Q=f.a.create({baseURL:"/api/seasons",withCredentials:!0}),ee=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.get("/".concat(t));case 2:return a=e.sent,n=a.data.season,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.get("/");case 2:return t=e.sent,a=t.data.seasons,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.get("/".concat(t,"/").concat(a));case 2:return n=e.sent,r=n.data.fixtures,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ne=function(e){var t=e.match.params.seasonID,a=e.loading,c=Object(n.useContext)(k).loginUser,s=Object(n.useState)(null),l=Object(p.a)(s,2),i=l[0],d=l[1],f=Object(n.useState)(!1),g=Object(p.a)(f,2),b=g[0],h=g[1],E=Object(n.useState)(null),v=Object(p.a)(E,2),x=v[0],y=v[1],N=function(e){var t=Object(n.useState)(e),a=Object(p.a)(t,2),r=a[0],c=a[1];return{value:r,onChange:function(e){return c(e.target.value)}}}("");Object(n.useEffect)((function(){var e=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(function(){var a=Object(m.a)(u.a.mark((function a(){var n,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(t);case 2:return n=a.sent,h(n),a.next=6,w();case 6:r=a.sent,c(r);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()(),function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t);case 2:a=e.sent,d(a.rankedTeams),n=a.fixtures.filter((function(e){return new Date(e.date).getTime()+72e5>Date.now()})),r=n[0].matchweek,c=n[0].date,n.forEach((function(e){return r=e.matchweek<r&&new Date(e.date).getTime()<new Date(c).getTime()?e.matchweek:r})),y(r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t)}),[t,c]);var j=function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==N.value){e.next=4;break}return e.abrupt("return",O("warning","Attention","Tu dois choisir une \xe9quipe de coeur avant de continuer."));case 4:return e.next=6,R(t,{favTeam:N.value});case 6:return O("success","\xc9quipe de coeur enregistr\xe9e."),e.next=9,w();case 9:a=e.sent,c(a),h(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e,t,a){M.a[e]({message:t,description:a,placement:"bottomRight",className:"notification-box"})};return r.a.createElement("div",{className:"pronogeeks-bg"},!i||a?r.a.createElement(H,{color:"rgb(4, 78, 199)"}):b?r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"choose-favteam"},r.a.createElement("label",{htmlFor:"favteam-select"},"Choisis une \xe9quipe de coeur pour cette saison.",r.a.createElement("br",null),"NB : Chaque bon prono sur un match de ton \xe9quipe de coeur te rapporte un bonus de 30 pts.",r.a.createElement("br",null),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}))," R\xe9fl\xe9chis bien, tu ne pourras plus changer ensuite..."),r.a.createElement("br",null),r.a.createElement("select",Object.assign({name:"favTeam",id:"favteam-select"},N),r.a.createElement("option",{value:"",disabled:!0},"S\xe9lectionner une \xe9quipe"),i.map((function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)}))),r.a.createElement("br",null),r.a.createElement("button",{className:"btn my-btn save-favteam-btn",onClick:j},"Confirmer"))):x?r.a.createElement(o.a,{to:"/pronogeeks/".concat(t,"/matchweek/").concat(x)}):r.a.createElement("div",{className:"loader-container"},r.a.createElement(L.b,{size:"large"},r.a.createElement(T.a,{size:"large",tip:"Chargement de la page...",style:{color:"rgb(4, 78, 199)",fontSize:"1.2rem"},indicator:r.a.createElement(D.a,{spin:!0,style:{color:"rgb(4, 78, 199)",fontSize:"3rem",marginBottom:8}})}))))},re=a(8),ce=f.a.create({baseURL:"/api/fetch",withCredentials:!0}),se=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.get("/fixtures/season/".concat(t,"/matchweek/").concat(a));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),le=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.get("/odds/season/".concat(t,"/matchweek/").concat(a));case 2:return n=e.sent,r=n.data.message,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),oe=function(e){var t=e.match.params,a=t.matchweekNumber,c=t.seasonID,s=e.history,l=e.loading,o=Object(n.useState)(null),i=Object(p.a)(o,2),d=i[0],f=i[1],g=Object(n.useState)(null),b=Object(p.a)(g,2),h=b[0],E=b[1],v=Object(n.useState)(null),x=Object(p.a)(v,2),y=x[0],N=x[1],j=Object(n.useState)(null),O=Object(p.a)(j,2),S=O[0],C=O[1],z=Object(n.useState)(null),L=Object(p.a)(z,2),T=L[0],D=L[1],_=Object(n.useState)(!1),I=Object(p.a)(_,2),B=I[0],R=I[1],G=Object(n.useState)(!1),U=Object(p.a)(G,2),q=U[0],V=U[1],J=Object(n.useState)(!1),K=Object(p.a)(J,2),W=K[0],X=K[1],Y=Object(n.useState)(null),Z=Object(p.a)(Y,2),$=Z[0],Q=Z[1],te=Object(n.useState)(null),ne=Object(p.a)(te,2),ce=ne[0],oe=ne[1],ie=Object(n.useState)(!1),ue=Object(p.a)(ie,2),me=ue[0],pe=ue[1],de=Object(n.useContext)(k),fe=de.loginUser,ge=de.user,be=function(e){var t=e.seasons.filter((function(e){return e.season._id.toString()===c.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===a.toString()}))[0];N(t.totalPoints),C(t.bonusPoints),D(t.numberCorrects)},he=function(){var e=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(c,a);case 2:if(!(t=e.sent).message){e.next=7;break}return e.abrupt("return",xe("warning","Actualisation abort\xe9e",t.message.fr));case 7:return E(null),E(t.fixtures),xe("success","Scores actualis\xe9s"),e.next=12,w();case 12:n=e.sent,fe(n),be(n);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(c,a);case 2:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",xe("warning","Actualisation abort\xe9e",t.fr));case 7:ve(c,a)&&xe("success","Cotes actualis\xe9es");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t,a);case 2:return(n=e.sent).sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()})),E(null),E(n),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),we=function(e){var t=(e=new Date(e)).getMonth()<9?"0".concat(e.getMonth()+1):e.getMonth()+1,a=e.getMinutes()<=9?"0".concat(e.getMinutes()):e.getMinutes();return"".concat(e.getDate(),"/").concat(t,"/").concat(e.getFullYear()," \xe0 ").concat(e.getHours(),"h").concat(a)},xe=function(e,t,a){M.a[e]({message:t,description:a,placement:"bottomRight",className:"notification-box"})};Object(n.useEffect)((function(){var e=function(e){var t=e.seasons.filter((function(e){return e.season._id.toString()===c.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===a.toString()}))[0];N(t.totalPoints),C(t.bonusPoints),D(t.numberCorrects)},t=function(){var t=Object(m.a)(u.a.mark((function t(){var n,r,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se(c,a);case 2:return n=t.sent,r=n.fixtures,E(null),E(r),xe("success","Scores actualis\xe9s"),t.next=9,w();case 9:s=t.sent,fe(s),e(s);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(c,a);case 2:ve(c,a)&&xe("success","Cotes actualis\xe9es");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(h&&ge){var r=h.map((function(e){return new Date(e.date).getTime()})),s=Math.min.apply(Math,Object(re.a)(r)),l=Math.max.apply(Math,Object(re.a)(r)),o=s-Date.now()<6048e5,i=h.map((function(e){return new Date(e.lastScoreUpdate).getTime()})),p=Math.max.apply(Math,Object(re.a)(i));oe(p);var d=Date.now()-l<1728e5,f=Date.now()-p>18e5;o&&d&&f&&!q&&("SUPER GEEK"===ge.role||"GEEK ADMIN"===ge.role)&&(V(!0),t(),oe(Date.now()));var g=h.map((function(e){return new Date(e.lastOddsUpdate).getTime()})),b=Math.max.apply(Math,Object(re.a)(g));Q(b);var v=Date.now()-l>0,x=Date.now()-b>864e5;!o||v||!x||W||"SUPER GEEK"!==ge.role&&"GEEK ADMIN"!==ge.role||(X(!0),n(),Q(Date.now()))}}),[h,q,W,a,c,ge]),Object(n.useEffect)((function(){var e=function(e){var t=e.seasons.filter((function(e){return e.season._id.toString()===c.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===a.toString()}))[0];N(t.totalPoints),C(t.bonusPoints),D(t.numberCorrects)},t=function(){var e=Object(m.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:return e.next=4,F(t,a);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();(function(){var n=Object(m.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(c,a);case 2:return n.next=4,w();case 4:r=n.sent,fe(r),e(r);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()(),function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t);case 2:a=e.sent,f(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(c),ve(c,a)}),[a,c]);var ke=function(){E(null),s.push("/pronogeeks/".concat(c,"/matchweek/").concat(parseInt(a)-1))},ye=function(){E(null),s.push("/pronogeeks/".concat(c,"/matchweek/").concat(parseInt(a)+1))};return h&&d&&!l?r.a.createElement("div",{className:"pronogeeks-bg matchweek-page"},r.a.createElement("div",{className:"save-all"},r.a.createElement("button",{onClick:function(){var e=h.map((function(e){return new Date(e.date).getTime()}));if(Math.max.apply(Math,Object(re.a)(e))<Date.now())return xe("warning","Pronos termin\xe9s pour cette journ\xe9e.");pe(!0),setTimeout((function(){return pe(!1)}),1e3)},className:"btn my-btn save-all-btn"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"40px",height:"40px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"})),"\xa0",r.a.createElement("span",null,"Enregistrer tout")),r.a.createElement("div",{className:"save-all-info"},r.a.createElement("p",null,"Enregistrer tous les pronos de la journ\xe9e."))),"GEEK ADMIN"===ge.role&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn admin-btn top",onClick:he},"Actualiser les scores"),r.a.createElement("button",{className:"btn my-btn admin-btn top",onClick:Ee},"Actualiser les cotes")),r.a.createElement("h2",null,r.a.createElement("svg",{onClick:function(){return R(!B)},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgb(4, 78, 199)",width:"40px",height:"40px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"})),d.leagueName," saison ",d.year," :",r.a.createElement("br",null),"journ\xe9e ",a),r.a.createElement("ul",{onClick:function(){return R(!1)},className:"list-group list-group-flush list-fixtures col-10 offset-1 col-md-8 offset-md-2 col-xl-6 offset-xl-3"},r.a.createElement("div",{className:"previous-next-btns"},1!==parseInt(a)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:ke},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})))),S>0&&r.a.createElement("div",{className:"score-top"},"Ton total J",a," : ",y," pts",r.a.createElement("br",null),"dont ",S," pts bonus (",T,"/10)"),!S&&r.a.createElement("div",{className:"score-top"},"Ton total J",a," : ",y," pts"),38!==parseInt(a)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:ye},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}))))),r.a.createElement("div",{className:"list-fixtures-header"},r.a.createElement("div",{className:"header-title"},"Domicile"),r.a.createElement("div",null,"|"),r.a.createElement("div",{className:"header-title"},"Ext\xe9rieur")),h.map((function(e){return r.a.createElement("li",{className:"list-group-item",key:e._id,style:{background:"none"}},r.a.createElement(P,{fixtureID:e._id,saveAll:me}))})),r.a.createElement("div",{className:"previous-next-btns"},r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:ke},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})))),S>0&&r.a.createElement("div",{className:"score-bottom"},"Ton total J",a," : ",y," pts",r.a.createElement("br",null),"dont ",S," pts bonus (",T,"/10)"),!S&&r.a.createElement("div",{className:"score-bottom"},"Ton total J",a," : ",y," pts"),r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:ye},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})))))),"GEEK ADMIN"===ge.role&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn admin-btn",onClick:he},"Actualiser les scores"),r.a.createElement("button",{className:"btn my-btn admin-btn",onClick:Ee},"Actualiser les cotes")),B&&r.a.createElement("div",{className:"rules-box"},r.a.createElement("span",{onClick:function(){return R(!1)}},"X"),r.a.createElement("h4",null,"R\xe8gles des pronogeeks :"),r.a.createElement("hr",null),r.a.createElement("ul",null,r.a.createElement("li",null,"Les statuts et r\xe9sultats des matchs sont actualis\xe9s en moyenne toutes les 30 minutes (\xe0 partir de 7 jours avant le d\xe9but de la journ\xe9e) et les points de pronogeeks avec. (derni\xe8re mise \xe0 jour le ",we(ce),")"),r.a.createElement("br",null),r.a.createElement("li",null,"Les cotes sont actualis\xe9es une fois par jour (\xe0 partir de 7 jours avant le d\xe9but de la journ\xe9e). Une fois un match commenc\xe9, ses cotes ne changent plus. (derni\xe8re mise \xe0 jour le ",we($),")"),r.a.createElement("br",null),r.a.createElement("li",null,"Il n'est plus possible de changer son pronogeek apr\xe8s le coup d'envoi."),r.a.createElement("br",null),r.a.createElement("li",null,"Un pronogeek ",r.a.createElement("b",null,"correct")," (bon vainqueur ou match nul) rapporte le nombre de points indiqu\xe9s dans les cotes de la rencontre."),r.a.createElement("br",null),r.a.createElement("li",null,"Un pronogeek ",r.a.createElement("b",null,"exact")," (score exact bien pronogeek\xe9) rapporte le double de la cote correspondante."),r.a.createElement("br",null),r.a.createElement("li",null,"Un pronogeek correct sur un match de son ",r.a.createElement("b",null,"\xe9quipe de coeur")," (qu'elle soit gagnante ou perdante) rapporte 30 points bonus."),r.a.createElement("br",null),r.a.createElement("li",null,"D\xe9tail des bonus par journ\xe9e de ",d.leagueName," :",r.a.createElement("ul",null,r.a.createElement("li",null,"Moins de 5 pronos corrects : 0pt bonus"),r.a.createElement("li",null,"5 pronos corrects: 50pts bonus"),r.a.createElement("li",null,"6 pronos corrects: 100pts bonus"),r.a.createElement("li",null,"7 pronos corrects: 200pts bonus"),r.a.createElement("li",null,"8 pronos corrects: 300pts bonus"),r.a.createElement("li",null,"9 pronos corrects: 500pts bonus"),r.a.createElement("li",null,"10 pronos corrects: 700pts bonus")))))):r.a.createElement("div",{className:"pronogeeks-bg"},r.a.createElement(H,{color:"rgb(4, 78, 199)"}))},ie=a(303),ue=f.a.create({baseURL:"/api/geekLeagues",withCredentials:!0}),me=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.post("/",t);case 2:return a=e.sent,n=a.data.geekLeague,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.get("/".concat(t));case 2:return a=e.sent,n=a.data.geekLeague,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.get("/ranking/".concat(t,"/season/").concat(a,"/matchweek/").concat(n));case 2:return r=e.sent,c=r.data.geeks,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),fe=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.get("/");case 2:return t=e.sent,a=t.data.geekLeagues,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.put("/".concat(t),{name:a,geeks:n});case 2:return r=e.sent,c=r.data.geekLeague,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),be=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.get("out/".concat(t));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.delete("/".concat(t));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=ie.a.Option,ve=function(e){var t=e.history,a=e.loading,c=Object(n.useContext)(k),s=c.user,l=c.loginUser,o=K.a.useForm(),i=Object(p.a)(o,1)[0],d=Object(n.useState)(null),f=Object(p.a)(d,2),g=f[0],b=f[1],h=Object(n.useState)(!1),E=Object(p.a)(h,2),v=E[0],x=E[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,a=t.filter((function(e){return e._id!==(null===s||void 0===s?void 0:s._id)})),b(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]);var y=function(){var e=Object(m.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.name&&a.geeks&&!(a.geeks.length<1)){e.next=2;break}return e.abrupt("return",N("warning","Attention","Tous les champs sont requis."));case 2:return x(!0),e.next=5,me(a);case 5:return n=e.sent,N("success",'Ligue "'.concat(a.name,'" cr\xe9\xe9e')),t.push("/myGeekLeagues/".concat(n._id)),x(!1),e.next=11,w();case 11:r=e.sent,l(r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e,t,a){M.a[e]({message:t,description:a,placement:"bottomRight",className:"notification-box"})};return r.a.createElement("div",{className:"geekleague-bg"},!g||v||a?r.a.createElement(H,null):r.a.createElement("div",{className:"geekleague-form"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-xl-6 offset-xl-3"},r.a.createElement("h2",null,"Cr\xe9er une ligue"),r.a.createElement(K.a,{form:i,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:y},r.a.createElement(K.a.Item,{type:"text",label:"Nom de la ligue :",name:"name",rules:[{required:!0,message:"Le nom de ligue est n\xe9cessaire."}]},r.a.createElement(W.a,{style:{borderRadius:15.8},placeholder:"Ma Ligue Geek"})),r.a.createElement(K.a.Item,{type:"text",label:"S\xe9lectionne d'autres geeks :",name:"geeks",rules:[{required:!0,message:"Tu ne peux pas cr\xe9er de ligue sans autres geeks."}]},r.a.createElement(ie.a,{mode:"multiple",style:{width:"100%",borderRadius:15.8,overflow:"hidden",textAlign:"left"},placeholder:"Ajoute des geeks \xe0 ta ligue !",optionLabelProp:"label",optionFilterProp:"label"},null===g||void 0===g?void 0:g.map((function(e){return r.a.createElement(Ee,{key:e._id,value:e._id,label:e.username},r.a.createElement("div",{className:"demo-option-label-item"},r.a.createElement("span",{role:"img","aria-label":e.username},r.a.createElement("img",{src:e.photo,alt:"profile",className:"profile-pic-preview"})),"\xa0\xa0",e.username))})))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("button",{type:"submit",className:"btn my-btn create-league-btn",style:{marginTop:10}},"Cr\xe9er ligue"))))))},we=ie.a.Option,xe=function(e){var t=e.match.params.geekLeagueID,a=e.history,c=e.loading,s=Object(n.useContext)(k),o=s.user,i=s.loginUser,d=Object(n.useState)(null),f=Object(p.a)(d,2),g=f[0],b=f[1],h=Object(n.useState)(null),E=Object(p.a)(h,2),v=E[0],x=E[1],y=Object(n.useState)(!1),N=Object(p.a)(y,2),j=N[0],O=N[1],S=Object(n.useState)(!1),C=Object(p.a)(S,2),M=C[0],z=C[1],L=Object(n.useState)(!1),T=Object(p.a)(L,2),D=T[0],P=T[1],_=Object(n.useState)(null),B=Object(p.a)(_,2),A=B[0],F=B[1],R=K.a.useForm(),G=Object(p.a)(R,1)[0];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(t);case 2:a=e.sent,b(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=6;break}return e.next=3,I();case 3:t=e.sent,a=t.filter((function(e){var t=!0;return g.geeks.forEach((function(a){a._id.toString()===e._id.toString()&&(t=!1)})),t})),F(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[g]);var U=function(){var e=Object(m.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(t,a.name,a.geeks);case 2:return n=e.sent,O(!1),b(n),e.next=7,w();case 7:r=e.sent,i(r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(t);case 2:return e.next=4,w();case 4:n=e.sent,i(n),a.push("/myGeekLeagues");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(m.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(t);case 2:return e.next=4,w();case 4:n=e.sent,i(n),a.push("/myGeekLeagues");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(e){return 1===parseInt(e)?"1er(e)":"".concat(e,"\xe8me")};return r.a.createElement("div",{className:"geekleague-bg geekleague-details"},g&&v&&!c?r.a.createElement("div",{className:"geekleague-page container"},r.a.createElement("h2",null,'Ligue "',g.name,'"',g.creator.toString()===o._id.toString()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){O(!j),z(!1)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"30px",height:"30px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}))),r.a.createElement("button",{onClick:function(){z(!M),O(!1)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"30px",height:"30px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})))),g.creator.toString()!==o._id.toString()&&r.a.createElement("button",{onClick:function(){return P(!D)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"30px",height:"30px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})))),r.a.createElement("div",{className:"row geekleague-seasons",onClick:function(){O(!1),z(!1),P(!1)}},v.map((function(e){return r.a.createElement("div",{key:e._id,className:"league-season-ranking-container col-12 col-lg-6"},r.a.createElement("div",{className:"league-season-ranking"},r.a.createElement("h4",null,e.leagueName," saison ",e.year,r.a.createElement("br",null),"Classement g\xe9n\xe9ral"),r.a.createElement("ul",{className:"list-group list-group-flush geekleague-ranking-detail mt-2"},g.geeks.sort((function(t,a){var n;return t.seasons||a.seasons?t.seasons?a.seasons?t.seasons.length>0&&a.seasons.length>0?n=a.seasons.filter((function(t){return t.season.toString()===e._id.toString()}))[0].totalPoints-t.seasons.filter((function(t){return t.season.toString()===e._id.toString()}))[0].totalPoints:t.seasons.length>0&&a.seasons.length<1?n=-1:t.seasons.length<1&&a.seasons.length>0?n=1:t.seasons.length<1&&a.seasons.length<1&&(n=-1):n=-1:n=1:n=-1,n})).map((function(t,a){var n;return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",key:t._id},t._id===o._id&&r.a.createElement("span",null,r.a.createElement("b",null,J(a+1)," : ",t.username)),t._id!==o._id&&r.a.createElement("span",null,J(a+1)," : ",t.username),t.seasons.length>0&&r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},null===(n=t.seasons.filter((function(t){return t.season.toString()===e._id.toString()}))[0])||void 0===n?void 0:n.totalPoints," pts"),t.seasons.length<1&&r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},"0 pts"))}))),r.a.createElement(l.b,{to:"/myGeekLeagues/".concat(t,"/season/").concat(e._id)},r.a.createElement("button",{className:"btn my-btn see-more-btn"},"D\xe9tails par journ\xe9e"))))}))),j&&r.a.createElement("div",{className:"my-modal-edit-geekleague"},r.a.createElement("div",{className:"my-modal-body"},r.a.createElement("span",{className:"close-edit-modal",onClick:function(){return O(!1)}},"X"),r.a.createElement("h5",{className:"modal-title"},'Modifier "',g.name,'" :'),r.a.createElement("hr",null),r.a.createElement(K.a,{form:G,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:U},r.a.createElement(K.a.Item,{type:"text",label:"Nom de la ligue :",name:"name",color:"black"},r.a.createElement(W.a,{style:{borderRadius:15.8},placeholder:g.name})),r.a.createElement(K.a.Item,{type:"text",label:"Ajoute d'autres geeks :",name:"geeks"},r.a.createElement(ie.a,{mode:"multiple",style:{width:"100%",borderRadius:15.8,overflow:"hidden",textAlign:"left",outline:"none"},placeholder:"Ajoute des geeks \xe0 ta ligue !",optionLabelProp:"label",optionFilterProp:"label"},null===A||void 0===A?void 0:A.map((function(e){return r.a.createElement(we,{key:e._id,value:e._id,label:e.username},r.a.createElement("div",{className:"demo-option-label-item"},r.a.createElement("span",{role:"img","aria-label":e.username},r.a.createElement("img",{src:e.photo,alt:"profile",className:"profile-pic-preview"})),"\xa0\xa0",e.username))})))),r.a.createElement("button",{type:"submit",className:" my-btn save"},"Enregistrer")))),M&&r.a.createElement("div",{className:"my-modal-delete-geekleague"},r.a.createElement("div",{className:"my-modal-body"},r.a.createElement("span",{className:"close-delete-modal",onClick:function(){return z(!1)}},"X"),r.a.createElement("h5",{className:"modal-title"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),'\xa0 Es-tu s\xfbr de vouloir supprimer "',g.name,'" ?'),r.a.createElement("hr",null),r.a.createElement("button",{type:"button",className:" my-btn delete",onClick:q},"Oui, supprimer"),r.a.createElement("button",{type:"button",className:" my-btn return",onClick:function(){return z(!1)}},"Non ! Annuler"))),D&&r.a.createElement("div",{className:"my-modal-delete-geekleague"},r.a.createElement("div",{className:"my-modal-body"},r.a.createElement("span",{className:"close-delete-modal",onClick:function(){return P(!1)}},"X"),r.a.createElement("h5",{className:"modal-title"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),'\xa0 Es-tu s\xfbr de vouloir sortir de "',g.name,'" ?'),r.a.createElement("hr",null),r.a.createElement("button",{type:"button",className:" my-btn delete",onClick:V},"Oui, sortir"),r.a.createElement("button",{type:"button",className:" my-btn return",onClick:function(){return P(!1)}},"Non ! Annuler")))):r.a.createElement(H,null))},ke=function(e){var t=e.loading,a=Object(n.useState)(null),c=Object(p.a)(a,2),s=c[0],o=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"geekleague-bg geekleagues-list"},!s||t?r.a.createElement(H,null):r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Mes Ligues Geek"),r.a.createElement("div",{className:"my-geekleagues row"},s.map((function(e){return r.a.createElement("div",{key:e._id,className:"col-10 col-lg-6 geekleague-card-container"},r.a.createElement("div",{className:"geekleague-card"},r.a.createElement("h4",null,e.name),r.a.createElement("h6",null,"Cr\xe9\xe9e par ",e.creator.username," en ",new Date(e.createdAt).getMonth().length>1?new Date(e.createdAt).getMonth():"0".concat(new Date(e.createdAt).getMonth()),"/",new Date(e.createdAt).getFullYear()),r.a.createElement(l.b,{to:"/myGeekLeagues/".concat(e._id),className:"btn my-btn new-league geekleagues-page-btn"},"Voir le d\xe9tail")))}))),r.a.createElement(l.b,{to:"/myGeekLeagues/new",className:"btn my-btn new-league geekleagues-page-btn"},"Cr\xe9er une ligue")))},ye=function(e){var t=e.match.params,a=t.geekLeagueID,c=t.seasonID,s=e.loading,o=Object(n.useContext)(k).user,i=Object(n.useState)(null),d=Object(p.a)(i,2),f=d[0],g=d[1],b=Object(n.useState)(null),h=Object(p.a)(b,2),E=h[0],v=h[1],w=Object(n.useState)(null),x=Object(p.a)(w,2),y=x[0],N=x[1],j=Object(n.useState)(null),O=Object(p.a)(j,2),S=O[0],C=O[1],M=Object(n.useState)(null),z=Object(p.a)(M,2),L=z[0],T=z[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t);case 2:a=e.sent,g(a),(n=a.fixtures.filter((function(e){return new Date(e.date).getTime()<Date.now()}))).length>0?(r=n[n.length-1].matchweek,v(r),N(r)):(v(1),N(1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(c),function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(t);case 2:a=e.sent,C(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(a)}),[a,c]),Object(n.useEffect)((function(){E&&function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(a,c,E);case 2:t=e.sent,T(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[E,a,c]);var D=function(e){return 1===parseInt(e)?"1er(e)":"".concat(e,"\xe8me")};return r.a.createElement("div",{className:"geekleague-bg geekleague-details"},!s&&S&&E&&f&&L&&y?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10 offset-1 col-lg-6 offset-lg-3"},r.a.createElement("h2",null,"Classement ",S.name),r.a.createElement("div",{className:"ranking-geekleague-matchweek"},r.a.createElement("div",null,r.a.createElement("div",{className:"previous-next-btns geekleague-btns"},E>1&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:function(){T(null),v(E-1)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})))),r.a.createElement("h4",null,"J",E," de ",f.leagueName,", saison ",f.year),E<y&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:function(){T(null),v(E+1)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})))))),r.a.createElement("ul",{className:"list-group list-group-flush geekleague-ranking-detail mt-2"},L.map((function(e,t){return r.a.createElement("li",{key:e._id,className:"list-group-item d-flex justify-content-between align-items-center"},o._id===e._id&&r.a.createElement("span",null,r.a.createElement("b",null,D(t+1)," : ",e.username)),o._id!==e._id&&r.a.createElement("span",null,D(t+1)," : ",e.username," ",r.a.createElement(l.b,{to:"/geek/".concat(e._id,"/pronogeeks/").concat(c,"/matchweek/").concat(E)},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgba(156, 0, 99, 0.8)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})))),e.seasons.length>0&&e.seasons.filter((function(e){return e.season.toString()===c.toString()})).length>0&&e.seasons.filter((function(e){return e.season.toString()===c.toString()}))[0].matchweeks.length>0&&e.seasons.filter((function(e){return e.season.toString()===c.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===E.toString()})).length>0&&r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},e.seasons.filter((function(e){return e.season.toString()===c.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===E.toString()}))[0].totalPoints," pts"),(e.seasons.length<1||e.seasons.filter((function(e){return e.season.toString()===c.toString()})).length<1||e.seasons.filter((function(e){return e.season.toString()===c.toString()}))[0].matchweeks.length<1||e.seasons.filter((function(e){return e.season.toString()===c.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===E.toString()})).length<1)&&r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},"0 pts"))}))))))):r.a.createElement(H,null))},Ne=function(e){var t=e.match.params,a=t.matchweekNumber,c=t.seasonID,s=t.geekID,l=e.history,o=e.loading,i=Object(n.useState)(null),d=Object(p.a)(i,2),f=d[0],g=d[1],b=Object(n.useState)(null),h=Object(p.a)(b,2),E=h[0],v=h[1],w=Object(n.useState)(null),x=Object(p.a)(w,2),k=x[0],y=x[1],N=Object(n.useState)(null),j=Object(p.a)(N,2),O=j[0],S=j[1],C=Object(n.useState)(null),M=Object(p.a)(C,2),z=M[0],L=M[1],T=Object(n.useState)(null),D=Object(p.a)(T,2),P=D[0],_=D[1],I=Object(n.useState)(!0),A=Object(p.a)(I,2),F=A[0],R=A[1],G=Object(n.useState)(!1),U=Object(p.a)(G,2),q=U[0],J=U[1],K=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t,a);case 2:return(n=e.sent).sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()})),v(null),new Date(n[0].date).getTime()>Date.now()&&R(!1),v(n),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(s);case 2:t=e.sent,_(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]),Object(n.useEffect)((function(){P&&function(e){if(e.seasons.length<1||e.seasons.filter((function(e){return e.season._id.toString()===c.toString()})).length<1||e.seasons.filter((function(e){return e.season._id.toString()===c.toString()}))[0].matchweeks.length<1||e.seasons.filter((function(e){return e.season._id.toString()===c.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===a.toString()})).length<1)return J(!0);var t=e.seasons.filter((function(e){return e.season._id.toString()===c.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===a.toString()}))[0];y(t.totalPoints),S(t.bonusPoints),L(t.numberCorrects)}(P),function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t);case 2:a=e.sent,g(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(c),K(c,a)}),[a,c,P]);var W=function(){v(null),R(!0),l.push("/geek/".concat(s,"/pronogeeks/").concat(c,"/matchweek/").concat(parseInt(a)-1))},X=function(){v(null),R(!0),l.push("/geek/".concat(s,"/pronogeeks/").concat(c,"/matchweek/").concat(parseInt(a)+1))};return E&&f&&!o&&P?!F||q?r.a.createElement("div",{className:"pronogeeks-bg matchweek-page"},r.a.createElement("h2",null,f.leagueName," saison ",f.year," :",r.a.createElement("br",null),"Pronos de ",P.username," J",a),r.a.createElement("ul",{className:"list-group list-group-flush list-fixtures col-10 offset-1 col-md-8 offset-md-2 col-xl-6 offset-xl-3"},r.a.createElement("div",{className:"previous-next-btns"},1!==parseInt(a)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:W},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})))),O>0&&r.a.createElement("div",{className:"score-top"},"Total J",a," : ",k," pts",r.a.createElement("br",null),"dont ",O," pts bonus (",z,"/10)"),!O&&r.a.createElement("div",{className:"score-top"},"Total J",a," : ",k," pts"),38!==parseInt(a)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:X},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})))))),r.a.createElement("h4",{className:"not-accessible"},"Les pronos de ",P.username," ne sont pas encore accessibles.")):r.a.createElement("div",{className:"pronogeeks-bg matchweek-page"},r.a.createElement("h2",null,f.leagueName," saison ",f.year," :",r.a.createElement("br",null),"Pronos de ",P.username," J",a),r.a.createElement("ul",{className:"list-group list-group-flush list-fixtures col-10 offset-1 col-md-8 offset-md-2 col-xl-6 offset-xl-3"},r.a.createElement("div",{className:"previous-next-btns"},1!==parseInt(a)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:W},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})))),O>0&&r.a.createElement("div",{className:"score-top"},"Total J",a," : ",k," pts",r.a.createElement("br",null),"dont ",O," pts bonus (",z,"/10)"),!O&&r.a.createElement("div",{className:"score-top"},"Total J",a," : ",k," pts"),38!==parseInt(a)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:X},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}))))),r.a.createElement("div",{className:"list-fixtures-header"},r.a.createElement("div",{className:"header-title"},"Domicile"),r.a.createElement("div",null,"|"),r.a.createElement("div",{className:"header-title"},"Ext\xe9rieur")),E.map((function(e){return r.a.createElement("li",{className:"list-group-item",key:e._id,style:{background:"none"}},r.a.createElement(V,{fixtureID:e._id,geekID:s}))})),r.a.createElement("div",{className:"previous-next-btns"},r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:W},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})))),O>0&&r.a.createElement("div",{className:"score-bottom"},"Total J",a," : ",k," pts",r.a.createElement("br",null),"dont ",O," pts bonus (",z,"/10)"),!O&&r.a.createElement("div",{className:"score-bottom"},"Total J",a," : ",k," pts"),r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:X},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}))))))):r.a.createElement("div",{className:"pronogeeks-bg"},r.a.createElement(H,{color:"rgb(4, 78, 199)"}))},je=function(e){var t=e.match.params.userID,a=Object(n.useContext)(k),c=a.user,s=a.loginUser,i=Object(n.useState)(null),d=Object(p.a)(i,2),f=d[0],g=d[1],b=Object(n.useState)(!1),h=Object(p.a)(b,2),E=h[0],v=h[1],x=Object(n.useState)(!1),y=Object(p.a)(x,2),N=y[0],j=y[1];Object(n.useEffect)((function(){var e=function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:a=e.sent,g(a.username);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()?(a(),c&&!N&&function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,s(t),j(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()):(O("error","Erreur","Il y a eu une erreur lors de la confirmation de ton email. Merci de r\xe9essayer."),v(!0))}),[t,c,N]);var O=function(e,t,a){M.a[e]({message:t,description:a,placement:"bottomRight",className:"notification-box"})};return r.a.createElement("div",{className:"my-content-homepage",style:{display:"flex",justifyContent:"center",alignItems:"center"}},f?E?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",{style:{padding:30,background:"rgba(4, 78, 199, 0.8)",borderRadius:10,width:"80%"}},r.a.createElement("h4",{style:{color:"white"}},"Merci ",f,", ton email est confirm\xe9 !",r.a.createElement("br",null),"Tu peux maintenant te connecter."),r.a.createElement("div",{className:"home-register"},r.a.createElement(l.b,{className:"btn my-btn login-btn",to:"/login"},"Se connecter"))):r.a.createElement(H,{tip:"Enregistrement du compte...",color:"rgb(4, 78, 199)"}))},Oe=a(53),Se=function(e){var t=e.component,a=Object(Oe.a)(e,["component"]),c=Object(n.useContext)(k).user;return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return null===c?r.a.createElement(t,Object.assign({},e,{loading:!0})):c&&!c.confirmed?r.a.createElement(X,{confirm:!0}):c?r.a.createElement(t,e):r.a.createElement(o.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Ce=function(){return r.a.createElement("h2",{className:"page-404-heading"},"Cette page n'existe pas...",r.a.createElement("br",null),"Retourne faire tes pronos au lieu de papilloner !")},Me=function(){return r.a.createElement(l.a,null,r.a.createElement(N,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{component:Z,path:"/",exact:!0}),r.a.createElement(o.b,{component:X,path:"/signup"}),r.a.createElement(o.b,{component:je,path:"/confirm-account/:userID"}),r.a.createElement(o.b,{component:Y,path:"/login"}),r.a.createElement(Se,{component:$,path:"/profile",exact:!0}),r.a.createElement(Se,{component:ne,path:"/pronogeeks/:seasonID",exact:!0}),r.a.createElement(Se,{component:oe,path:"/pronogeeks/:seasonID/matchweek/:matchweekNumber"}),r.a.createElement(Se,{component:Ne,path:"/geek/:geekID/pronogeeks/:seasonID/matchweek/:matchweekNumber"}),r.a.createElement(Se,{component:ke,path:"/myGeekleagues",exact:!0}),r.a.createElement(Se,{component:ve,path:"/myGeekleagues/new",exact:!0}),r.a.createElement(Se,{component:xe,path:"/myGeekleagues/:geekLeagueID",exact:!0}),r.a.createElement(Se,{component:ye,path:"/myGeekleagues/:geekLeagueID/season/:seasonID"}),r.a.createElement(o.b,{component:Ce}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(297);s.a.render(r.a.createElement(y,null,r.a.createElement(Me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[152,1,2]]]);
//# sourceMappingURL=main.090462ac.chunk.js.map