(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{152:function(e,t,a){e.exports=a(298)},157:function(e,t,a){},298:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),s=(a(157),a(11)),o=a(17),i=a(1),u=a.n(i),m=a(5),p=a(6),d=a(22),g=a.n(d),f=g.a.create({baseURL:"/auth",withCredentials:!0}),b=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.post("/signup",t);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.post("/login",t);case 2:return e.abrupt("return",w());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.put("/edit",t);case 2:return e.abrupt("return",w());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.put("/editPic",t);case 2:return e.abrupt("return",w());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("/profile");case 2:return t=e.sent,a=t.data.user,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("/logout");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=Object(n.createContext)(),y=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(p.a)(a,2),l=c[0],s=c[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var o=function(e){return s(e)};return r.a.createElement(k.Provider,{value:{user:l,loginUser:o,logoutUser:function(){return s(null)}}},t)},N=function(e){var t=e.children,a=Object(n.useContext)(k),c=a.user,l=a.logoutUser,i=Object(o.g)(),p=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:l(),i.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg fixed-top navbar-dark bg-dark my-navbar"},r.a.createElement(s.b,{className:"navbar-brand my-brand",to:"/"},r.a.createElement("h1",null,"pronogeeks")),r.a.createElement("button",{className:"navbar-toggler my-navbar-btn",type:"button","data-toggle":"collapse","data-target":"#my-navbar-toggle","aria-controls":"my-navbar-toggle","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"my-navbar-toggle"},r.a.createElement("ul",{className:"navbar-nav mt-2 mt-lg-0"},c?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link logout-btn",onClick:p},"D\xe9connexion")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/myGeekLeagues"},"Mes ligues Geek")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/pronogeeks/5f67f525d7b14148997ee3eb"},"Mes pronogeeks")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/profile"},r.a.createElement("img",{className:"profile-pic-navbar",src:c.photo,alt:"Profile"})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/login"},"Se connecter")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/signup"},"Cr\xe9er un compte")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/"},r.a.createElement("svg",{width:"1.6em",height:"1.6em",viewBox:"0 0 16 16",className:"bi bi-house-fill my-home-icon",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M8 3.293l6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"}),r.a.createElement("path",{fillRule:"evenodd",d:"M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"}))," ",r.a.createElement("span",{className:"sr-only"},"(current)"))))))),r.a.createElement("div",{className:"my-content"},t))},j=g.a.create({baseURL:"/api/fixtures",withCredentials:!0}),O=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/".concat(t));case 2:return a=e.sent,n=a.data.fixture,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=g.a.create({baseURL:"/api/pronogeeks",withCredentials:!0}),z=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){var r,c,l,s,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/".concat(n));case 2:if(r=e.sent,c=r.data.pronogeek){e.next=12;break}return e.next=7,S.post("/".concat(n),{homeProno:t,awayProno:a});case 7:return l=e.sent,s=l.data.pronogeek,e.abrupt("return",s);case 12:return e.next=14,S.put("/".concat(c._id),{homeProno:t,awayProno:a});case 14:return o=e.sent,i=o.data.pronogeek,e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),C=a(302),M=a(306),L=function(e){var t=e.fixtureID,a=Object(n.useState)(null),c=Object(p.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(null),i=Object(p.a)(o,2),d=i[0],g=i[1],f=Object(n.useState)(!1),b=Object(p.a)(f,2),h=b[0],E=b[1],v=Object(n.useState)(null),w=Object(p.a)(v,2),x=w[0],y=w[1],N=Object(n.useState)(null),j=Object(p.a)(N,2),S=j[0],L=j[1],T=Object(n.useState)(!1),D=Object(p.a)(T,2),P=D[0],H=D[1],_=Object(n.useContext)(k).user;Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,c,l,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:a=e.sent,n=a.season,r=a.matchweek,new Date(a.date)-Date.now()<0&&E(!0),s(a),(c=_.seasons.filter((function(e){return e.season._id===n}))).length>0&&(c=c[0]),l={homeProno:"",awayProno:""},o=[],i=0,c.matchweeks.length>0&&(c.matchweeks.forEach((function(e,t){e.number.toString()===r.toString()&&(i=t)})),c.matchweeks[i].pronogeeks.length>0&&(o=c.matchweeks[i].pronogeeks.filter((function(e){return e.fixture===t})))),o.length>0&&(l=o[0]),g(l),y(l.homeProno),L(l.awayProno);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t)}),[t,_.seasons]);var I,B,A=function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(new Date(l.date).getTime()-Date.now()<0)){e.next=2;break}return e.abrupt("return",F("error","Erreur","Ce match est d\xe9j\xe0 commenc\xe9 ou fini. Tu ne peux plus changer ton prono."));case 2:if((x||0===parseInt(x))&&(S||0===parseInt(S))){e.next=4;break}return e.abrupt("return",F("warning","Attention","Tu n'as pas d\xe9fini de score pour le match ".concat(l.homeTeam.name," - ").concat(l.awayTeam.name,". Prono non enregistr\xe9.")));case 4:return a=!1,e.next=7,z(x,S,t).catch((function(e){F("warning","Attention",e.response.data.message.fr),a=!0}));case 7:a||(F("success","Enregistr\xe9","Pronogeek enregistr\xe9 pour ".concat(l.homeTeam.name," - ").concat(l.awayTeam.name)),H(!0),setTimeout((function(){return H(!1)}),3e3));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(e,t,a){C.a[e]({message:t,description:a,placement:"bottomRight",className:"notification-box"})},G=function(e){var t=(e=new Date(e)).getDay(),a=e.getMonth()<9?"0".concat(e.getMonth()+1):e.getMonth()+1,n=e.getMinutes()<=9?"0".concat(e.getMinutes()):e.getMinutes();switch(t){case 0:t="dimanche";break;case 1:t="lundi";break;case 2:t="mardi";break;case 3:t="mercredi";break;case 4:t="jeudi";break;case 5:t="vendredi";break;case 6:t="samedi";break;default:t=""}return{fullDate:"".concat(t," ").concat(e.getDate(),"/").concat(a,"/").concat(e.getFullYear()),fullTime:"".concat(e.getHours(),"h").concat(n)}};return l&&null!=x&&null!=S?r.a.createElement("div",{className:"fixture-line"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("img",{src:l.homeTeam.logo,alt:"logo",className:"team-logo"})),r.a.createElement("th",null,r.a.createElement("small",null,l.homeTeam.stadium,r.a.createElement("br",null),G(l.date).fullDate,r.a.createElement("br",null),"\xe0 ",G(l.date).fullTime)),r.a.createElement("th",null,r.a.createElement("img",{src:l.awayTeam.logo,alt:"logo",className:"team-logo"})))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:"score-teams-row"},r.a.createElement("td",{className:"team-name"},l.homeTeam.name),r.a.createElement("td",{className:"score-fixture"},l.goalsHomeTeam," - ",l.goalsAwayTeam),r.a.createElement("td",{className:"team-name"},l.awayTeam.name)),l.timeElapsed&&r.a.createElement("tr",{className:"pb-1"},r.a.createElement("td",null),r.a.createElement("td",{className:"fixture-status"},(I=l.statusShort,B=l.timeElapsed,"TBD"!==I&&"NS"!==I&&"1H"!==I&&"HT"!==I&&"2H"!==I&&"ET"!==I&&"P"!==I&&"BT"!==I&&"SUSP"!==I&&"INT"!==I&&"PST"!==I?"Match termin\xe9":"HT"===I?"Mi-temps":"".concat(B,"'"))),r.a.createElement("td",null)),r.a.createElement("tr",{className:"odds-section odds-top"},r.a.createElement("td",null,"Cote domicile :"),r.a.createElement("td",null,"Cote nul :"),r.a.createElement("td",null,"Cote ext\xe9rieur :")),r.a.createElement("tr",{className:"odds-section odds-bottom"},r.a.createElement("td",null,l.oddsWinHome),r.a.createElement("td",null,l.oddsDraw),r.a.createElement("td",null,l.oddsWinAway)),r.a.createElement("tr",{className:"prono-section"},r.a.createElement("td",{className:"prono-input-col"},r.a.createElement("label",null,"Buts domicile :"),r.a.createElement("input",{className:"prono-input",type:"number",name:"homeProno",value:x,min:0,onChange:function(e){return y(e.target.value)},placeholder:"Prono",disabled:h})),r.a.createElement("td",{className:"prono-input-col"},!P&&r.a.createElement(r.a.Fragment,null,!h&&r.a.createElement("small",{className:"legend-save-btn"},"Enregistrer prono"),r.a.createElement("button",{className:"btn my-btn save-prono",disabled:h,onClick:A},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"})))),P&&r.a.createElement(r.a.Fragment,null,!h&&r.a.createElement("small",{className:"legend-save-btn"},"Prono enregistr\xe9"),r.a.createElement("button",{className:"btn my-btn save-prono saved-prono",disabled:h,onClick:A},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))))),r.a.createElement("td",{className:"prono-input-col"},r.a.createElement("label",null,"Buts ext\xe9rieur :"),r.a.createElement("input",{className:"prono-input",type:"number",name:"awayProno",value:S,min:0,onChange:function(e){return L(e.target.value)},placeholder:"Prono",disabled:h}))))),d.points>0&&d.bonusFavTeam&&r.a.createElement("div",{className:"points-cell"},"Tu as scor\xe9 ",r.a.createElement("i",null,d.points,"pts")," ",d.exact&&"(".concat(d.potentialPoints,"*2)"),r.a.createElement("br",null),"dont 30 pts bonus pour ton \xe9quipe de ",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:" rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}))),d.points>0&&!d.bonusFavTeam&&r.a.createElement("div",{className:"points-cell"},"Tu as scor\xe9 ",r.a.createElement("i",null,d.points,"pts")," ",d.exact&&"(".concat(d.potentialPoints,"*2)")),0===d.points&&d.addedToProfile&&r.a.createElement("div",{className:"points-cell"},"Dommage, mauvais prono...")):r.a.createElement("div",{style:{padding:20,paddingTop:0}},r.a.createElement(M.a,{active:!0}))},T=g.a.create({baseURL:"/api/user",withCredentials:!0}),D=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/users");case 2:return t=e.sent,a=t.data.users,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/geek/".concat(t));case 2:return a=e.sent,n=a.data.user,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/".concat(t));case 2:return a=e.sent,n=a.data.newSeason,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/".concat(t,"/").concat(a));case 2:return n=e.sent,r=n.data.matchweek,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.put("/".concat(t,"/favTeam"),a);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),B=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/players/".concat(t));case 2:return a=e.sent,n=a.data.users,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.delete("/".concat(t));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){var t=e.fixtureID,a=e.geekID,c=Object(n.useState)(null),l=Object(p.a)(c,2),s=l[0],o=l[1],i=Object(n.useState)(null),d=Object(p.a)(i,2),g=d[0],f=d[1],b=Object(n.useState)(!1),h=Object(p.a)(b,2),E=h[0],v=h[1],w=Object(n.useState)(null),x=Object(p.a)(w,2),k=x[0],y=x[1],N=Object(n.useState)(null),j=Object(p.a)(N,2),S=j[0],z=j[1],C=Object(n.useState)(null),L=Object(p.a)(C,2),T=L[0],D=L[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(a);case 2:t=e.sent,D(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(n.useEffect)((function(){T&&T.seasons.length>0&&function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,c,l,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:a=e.sent,n=a.season,r=a.matchweek,new Date(a.date)-Date.now()<0&&v(!0),o(a),(c=T.seasons.filter((function(e){return e.season._id===n}))).length>0&&(c=c[0]),l={homeProno:"",awayProno:""},s=[],i=0,c.matchweeks.length>0&&(c.matchweeks.forEach((function(e,t){e.number.toString()===r.toString()&&(i=t)})),c.matchweeks[i].pronogeeks.length>0&&(s=c.matchweeks[i].pronogeeks.filter((function(e){return e.fixture===t})))),s.length>0&&(l=s[0]),f(l),y(l.homeProno),z(l.awayProno);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t)}),[t,T]);var H,_,I=function(e){var t=(e=new Date(e)).getDay(),a=e.getMonth()<9?"0".concat(e.getMonth()+1):e.getMonth()+1,n=e.getMinutes()<=9?"0".concat(e.getMinutes()):e.getMinutes();switch(t){case 0:t="dimanche";break;case 1:t="lundi";break;case 2:t="mardi";break;case 3:t="mercredi";break;case 4:t="jeudi";break;case 5:t="vendredi";break;case 6:t="samedi";break;default:t=""}return{fullDate:"".concat(t," ").concat(e.getDate(),"/").concat(a,"/").concat(e.getFullYear()),fullTime:"".concat(e.getHours(),"h").concat(n)}};return s&&null!=k&&null!=S?r.a.createElement("div",{className:"fixture-line"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("img",{src:s.homeTeam.logo,alt:"logo",className:"team-logo"})),r.a.createElement("th",null,r.a.createElement("small",null,s.homeTeam.stadium,r.a.createElement("br",null),I(s.date).fullDate,r.a.createElement("br",null),"\xe0 ",I(s.date).fullTime)),r.a.createElement("th",null,r.a.createElement("img",{src:s.awayTeam.logo,alt:"logo",className:"team-logo"})))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:"score-teams-row"},r.a.createElement("td",{className:"team-name"},s.homeTeam.name),r.a.createElement("td",{className:"score-fixture"},s.goalsHomeTeam," - ",s.goalsAwayTeam),r.a.createElement("td",{className:"team-name"},s.awayTeam.name)),s.timeElapsed&&r.a.createElement("tr",{className:"pb-1"},r.a.createElement("td",null),r.a.createElement("td",{className:"fixture-status"},(H=s.statusShort,_=s.timeElapsed,"TBD"!==H&&"NS"!==H&&"1H"!==H&&"HT"!==H&&"2H"!==H&&"ET"!==H&&"P"!==H&&"BT"!==H&&"SUSP"!==H&&"INT"!==H&&"PST"!==H?"Match termin\xe9":"HT"===H?"Mi-temps":"".concat(_,"'"))),r.a.createElement("td",null)),r.a.createElement("tr",{className:"odds-section odds-top"},r.a.createElement("td",null,"Cote domicile :"),r.a.createElement("td",null,"Cote nul :"),r.a.createElement("td",null,"Cote ext\xe9rieur :")),r.a.createElement("tr",{className:"odds-section odds-bottom"},r.a.createElement("td",null,s.oddsWinHome),r.a.createElement("td",null,s.oddsDraw),r.a.createElement("td",null,s.oddsWinAway)),E&&r.a.createElement("tr",{className:"prono-section"},r.a.createElement("td",{className:"prono-input-col"},r.a.createElement("label",null,"Buts domicile :"),r.a.createElement("input",{className:"prono-input",type:"number",name:"homeProno",value:k,placeholder:"Prono",disabled:!0})),r.a.createElement("td",{className:"prono-input-col"},g.points>0&&g.bonusFavTeam&&r.a.createElement("div",{style:{margin:"0 10px"}},T.username," a scor\xe9 ",r.a.createElement("i",null,g.points,"pts")," ",g.exact&&"(".concat(g.potentialPoints,"*2)"),r.a.createElement("br",null),"dont 30 pts bonus pour son \xe9quipe de ",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:" rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}))),g.points>0&&!g.bonusFavTeam&&r.a.createElement("div",{style:{margin:"0 10px"}},T.username," a scor\xe9 ",r.a.createElement("i",null,g.points,"pts")," ",g.exact&&"(".concat(g.potentialPoints,"*2)")),0===g.points&&g.addedToProfile&&r.a.createElement("div",{style:{margin:"0 10px"}},"Mauvais prono...")),r.a.createElement("td",{className:"prono-input-col"},r.a.createElement("label",null,"Buts ext\xe9rieur :"),r.a.createElement("input",{className:"prono-input",type:"number",name:"awayProno",value:S,placeholder:"Prono",disabled:!0}))),!E&&r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,"Pronogeek non visible."),r.a.createElement("td",null))))):r.a.createElement("div",{style:{padding:20,paddingTop:0}},r.a.createElement(M.a,{active:!0}))},G=a(7),R=a(301),U=a(307),q=a(300),V=a(305),J=a(304),K=function(e){var t=e.history,a=Object(n.useContext)(k).user,c=R.a.useForm(),l=Object(p.a)(c,1)[0],s=Object(n.useState)(null),i=Object(p.a)(s,2),d=i[0],f=i[1],h=Object(n.useState)("Charger une photo"),E=Object(p.a)(h,2),v=E[0],w=E[1],x=Object(n.useState)(!1),y=Object(p.a)(x,2),N=y[0],j=y[1],O=function(){var e=Object(m.a)(u.a.mark((function e(a){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@(([[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a.email).toLowerCase())){e.next=5;break}S("Je crois qu'il y a une faute de frappe dans ton email..."),e.next=17;break;case 5:if(j(!0),n=null,!d){e.next=13;break}return e.next=10,g.a.post("https://api.cloudinary.com/v1_1/dlyw9xi3k/image/upload",d);case 10:r=e.sent,c=r.data.secure_url,n=c;case 13:return e.next=15,b(Object(G.a)(Object(G.a)({},a),{},{photo:n})).catch((function(e){S(e.response.data.message.fr)}));case 15:t.push("/login"),j(!1);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t,a){C.a[e]({message:t,description:a,placement:"bottomRight",className:"notification-box"})};return r.a.createElement("div",{className:"register-pages"},N?r.a.createElement("div",{className:"loader-container"},r.a.createElement(U.b,{size:"large"},r.a.createElement(q.a,{size:"large",tip:"Enregistrement du compte...",style:{color:" rgb(4, 78, 199)",fontSize:"1.2rem"},indicator:r.a.createElement(J.a,{spin:!0,style:{color:" rgb(4, 78, 199)",fontSize:"3rem",marginBottom:8}})}))):a?r.a.createElement(o.a,{to:"/profile"}):r.a.createElement("div",{className:"row signup-form"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-xl-6 offset-xl-3"},r.a.createElement("h2",null,"Cr\xe9er un compte"),r.a.createElement(R.a,{form:l,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:O},r.a.createElement(R.a.Item,{type:"email",label:"Email :",name:"email",rules:[{required:!0,message:"L'email est n\xe9cessaire pour cr\xe9er un compte."}]},r.a.createElement(V.a,{style:{borderRadius:15.8},placeholder:"roi.geek@pronogeeks.fr"})),r.a.createElement(R.a.Item,{label:"Pseudo :",name:"username",rules:[{required:!0,message:"Le pseudo est obligatoire et doit \xeatre unique."}]},r.a.createElement(V.a,{style:{borderRadius:15.8},placeholder:"RoiGeek"})),r.a.createElement(R.a.Item,{label:"Mot de passe :",name:"password",rules:[{required:!0,message:"Tu auras besoin d'un mot de passe pour te connecter !"}]},r.a.createElement(V.a.Password,{style:{borderRadius:15.8},placeholder:"********"})),r.a.createElement("label",{className:"first-file-label signup-file-label",htmlFor:"profile-pic-input-signup"},"Photo de profil :"),r.a.createElement("br",null),r.a.createElement("div",{className:"custom-file custom-file-signup"},r.a.createElement("label",{className:"profile-image custom-file-label",htmlFor:"profile-pic-input-signup"},v,r.a.createElement("input",{id:"profile-pic-input-signup",type:"file",name:"image",className:"custom-file-input",onChange:function(e){if(e.target.files.length>0){var t=e.target.files[0];if(t.size>1e6)return S("warning","Attention","La taille du fichier ne peux pas exc\xe9der 1Mo.");if("image/jpeg"!==t.type&&"image/png"!==t.type&&"image/jpg"!==t.type)return S("warning","Attention","La photo doit \xeatre au format JPG ou PNG.");w(t.name);var a=new FormData;a.append("file",e.target.files[0]),a.append("upload_preset","pronogeeks"),f(a)}}}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("button",{type:"submit",className:"btn my-btn submit-btn register-btn",style:{marginTop:10}},"Cr\xe9er mon compte"))),r.a.createElement("div",{className:"social-logins"},r.a.createElement("h4",null,"Se connecter avec :"),r.a.createElement("div",{className:"social-login-links"},r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/facebook")},r.a.createElement("img",{src:"/images/facebook-logo.png",alt:"Facebook"})),r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/google")},r.a.createElement("img",{src:"/images/google-logo.png",alt:"Google"})))))))},W=function(e){var t=e.history,a=R.a.useForm(),c=Object(p.a)(a,1)[0],l=Object(n.useContext)(k),s=l.loginUser,i=l.user,d=function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(a).catch((function(e){return g(e.response.data.message)}));case 2:n=e.sent,s(n),t.push("/profile");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){C.a.warning({message:"Error",description:e,placement:"bottomRight",className:"notification-box"})};return i?r.a.createElement(o.a,{to:"/profile"}):r.a.createElement("div",{className:"register-pages"},r.a.createElement("div",{className:"row signup-form"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 col-xl-4 offset-xl-4"},r.a.createElement("h2",null,"Se connecter"),r.a.createElement(R.a,{form:c,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:d},r.a.createElement(R.a.Item,{type:"email",label:"Email :",name:"email",rules:[{required:!0,message:"L'email est n\xe9cessaire pour te connecter \xe0 ton compte"}]},r.a.createElement(V.a,{style:{borderRadius:15.8},placeholder:"roi.geek@pronogeeks.fr"})),r.a.createElement(R.a.Item,{label:"Mot de passe :",name:"password",rules:[{required:!0,message:"N'oublie pas ton mot de passe !"}]},r.a.createElement(V.a.Password,{style:{borderRadius:15.8},placeholder:"********"})),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("button",{type:"submit",className:"btn register-btn my-btn submit-btn"},"Me connecter"))),r.a.createElement("div",{className:"social-logins"},r.a.createElement("h4",null,"Se connecter avec :"),r.a.createElement("div",{className:"social-login-links"},r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/facebook")},r.a.createElement("img",{src:"/images/facebook-logo.png",alt:"Facebook"})),r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/google")},r.a.createElement("img",{src:"/images/google-logo.png",alt:"Google"})))))))},X=function(){return Object(n.useContext)(k).user?r.a.createElement(o.a,{to:"/profile"}):r.a.createElement("div",{className:"my-content-homepage"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},r.a.createElement("div",{className:"home-div"},r.a.createElement("div",null,r.a.createElement("h2",null,"Bienvenue sur",r.a.createElement("br",null),r.a.createElement("img",{className:"logo-homepage",src:"/images/logo-blue-home.png",alt:"Logo"})),r.a.createElement("p",{className:"home-message"},"Mesure-toi aux ma\xeetres geeks des pronostics de Ligue 1",r.a.createElement("br",null),"et deviens expert pronogeekeur !")),r.a.createElement("div",{className:"home-register"},r.a.createElement(s.b,{className:"btn my-btn login-btn",to:"/login"},"Se connecter"),r.a.createElement(s.b,{className:"btn my-btn signup-btn",to:"/signup"},"Cr\xe9er un compte")),r.a.createElement("div",{className:"social-logins"},r.a.createElement("h4",null,"Se connecter avec :"),r.a.createElement("div",{className:"social-login-links"},r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/facebook")},r.a.createElement("img",{src:"/images/facebook-logo.png",alt:"Facebook"})),r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/google")},r.a.createElement("img",{src:"/images/google-logo.png",alt:"Google"}))))))))},Y=function(e){var t=e.loading,a=e.history,c=Object(n.useContext)(k),l=c.user,o=c.loginUser,i=c.logoutUser,d=Object(n.useState)(!1),f=Object(p.a)(d,2),b=f[0],h=f[1],x=Object(n.useState)(!1),y=Object(p.a)(x,2),N=y[0],j=y[1],O=Object(n.useState)(!1),S=Object(p.a)(O,2),z=S[0],M=S[1],L=Object(n.useState)(""),T=Object(p.a)(L,2),D=T[0],P=T[1],H=Object(n.useState)(!1),_=Object(p.a)(H,2),I=_[0],F=_[1],G=Object(n.useState)(null),R=Object(p.a)(G,2),V=R[0],K=R[1],W=Object(n.useState)(null),X=Object(p.a)(W,2),Y=X[0],Z=X[1],$=Object(n.useState)(null),Q=Object(p.a)($,2),ee=Q[0],te=Q[1],ae=Object(n.useState)(null),ne=Object(p.a)(ae,2),re=ne[0],ce=ne[1],le=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=t.target.files[0]).size>1e6)){e.next=3;break}return e.abrupt("return",ie("warning","Attention","La taille du fichier ne peux pas exc\xe9der 1Mo. La photo de profil reste inchang\xe9e."));case 3:if("image/jpeg"===a.type||"image/png"===a.type||"image/jpg"===a.type){e.next=5;break}return e.abrupt("return",ie("warning","Attention","Le fichier doit \xeatre au format JPG ou PNG. La photo de profil reste inchang\xe9e."));case 5:return h(!0),(n=new FormData).append("file",t.target.files[0]),n.append("upload_preset","pronogeeks"),e.next=11,g.a.post("https://api.cloudinary.com/v1_1/dlyw9xi3k/image/upload",n);case 11:return r=e.sent,c=r.data.secure_url,e.next=15,v({photo:c});case 15:l=e.sent,o(l),h(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,e.next=3,E({username:D}).catch((function(e){t=!1,ie("warning","Attention",e.response.data.message.fr)}));case 3:if(!t){e.next=11;break}return F(!0),e.next=7,w();case 7:a=e.sent,o(a),j(!1),F(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l._id,i(),a.push("/"),e.next=5,A(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){P(null===l||void 0===l?void 0:l.username),function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===l||void 0===l?void 0:l.seasons.length)>0)){e.next=12;break}return t=l.seasons[l.seasons.length-1].season._id.toString(),K(l.seasons[l.seasons.length-1].season._id.toString()),e.next=5,B(t);case 5:a=e.sent,n=a.sort((function(e,a){return a.seasons.filter((function(e){return e.season.toString()===t}))[0].totalPoints-e.seasons.filter((function(e){return e.season.toString()===t}))[0].totalPoints})),r=n.map((function(e){return e.username})).indexOf(l.username)+1,c=n.slice(0,20),ce(r),Z(n),te(c);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[l]);var ie=function(e,t,a){C.a[e]({message:t,description:a,placement:"bottomRight",className:"notification-box"})},ue=function(e){return 1===parseInt(e)?"1er(e)":"".concat(e,"\xe8me")};return I||t?r.a.createElement("div",{className:"my-profile-page"},r.a.createElement("div",{className:"loader-container"},r.a.createElement(U.b,{size:"large"},r.a.createElement(q.a,{size:"large",tip:"Chargement de la page...",style:{color:"white",fontSize:"1.2rem"},indicator:r.a.createElement(J.a,{spin:!0,style:{color:"white",fontSize:"3rem",marginBottom:8}})})))):r.a.createElement("div",{className:"my-profile-page row"},r.a.createElement("div",{className:"my-profile col-10 offset-1 col-lg-4"},r.a.createElement("section",{className:"about-section"},r.a.createElement("h2",null,"Bonjour ",l.username,r.a.createElement("button",{onClick:function(){return j(!N)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"30px",height:"30px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})))),r.a.createElement("div",{className:"profile-details"},r.a.createElement("div",{className:"profile-picture-container"},!b&&r.a.createElement("img",{src:l.photo,alt:"Profile pic",className:"profile-pic"}),b&&r.a.createElement("div",{className:"profile-pic"},r.a.createElement(U.b,{size:"medium"},r.a.createElement(q.a,{size:"medium",tip:"Chargement de la photo...",style:{color:"rgb(26, 145, 254)"},indicator:r.a.createElement(J.a,{spin:!0,style:{color:"rgb(26, 145, 254)",fontSize:"2rem",marginBottom:8}})}))),r.a.createElement("label",{className:"first-file-label",htmlFor:"profile-pic-input"},"Changer de photo de profil :"),r.a.createElement("div",{className:"custom-file"},r.a.createElement("label",{className:"profile-image custom-file-label",htmlFor:"profile-pic-input"},"Charger une photo",r.a.createElement("input",{id:"profile-pic-input",type:"file",name:"image",className:"custom-file-input",onChange:le})))),l.seasons.length>0&&l.seasons[l.seasons.length-1].favTeam&&r.a.createElement("div",{className:"favteam-info"},r.a.createElement("div",null,r.a.createElement("img",{src:l.seasons[l.seasons.length-1].favTeam.logo,alt:"Logo \xe9quipe de coeur"})),r.a.createElement("h5",null,l.seasons[l.seasons.length-1].favTeam.name," est ton \xe9quipe de coeur",r.a.createElement("br",null),"pour la saison ",l.seasons[l.seasons.length-1].season.year," de ",l.seasons[l.seasons.length-1].season.leagueName,".")))),r.a.createElement("section",{className:"geekleagues-section"},r.a.createElement("h2",null,"Ligues Geek"),r.a.createElement(s.b,{to:"/myGeekLeagues/new",className:"btn my-btn new-league"},"Nouvelle ligue"),l.geekLeagues.length>0&&r.a.createElement("ul",{className:"list-group list-group-flush geekleagues-list-profile mt-4"},V&&!Y&&r.a.createElement("div",{className:"pt-4"},r.a.createElement(U.b,{size:"large"},r.a.createElement(q.a,{size:"large",tip:"Chargement des ligues...",style:{color:"white",fontSize:"1.2rem"},indicator:r.a.createElement(J.a,{spin:!0,style:{color:"white",fontSize:"3rem",marginBottom:8}})}))),Y&&r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center mb-2"},r.a.createElement("span",null,r.a.createElement("b",null,"Mes ligues")),r.a.createElement("span",null,r.a.createElement("b",null,"Mon classement"))),Y&&l.geekLeagues.map((function(e){return r.a.createElement(s.b,{to:"/myGeekLeagues/".concat(e._id),key:e._id},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("span",{style:{color:"rgb(4, 78, 199)"}},e.name),r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},ue(Y.filter((function(t){var a=!1;return e.geeks.forEach((function(e){e._id===t._id&&(a=!0)})),a})).map((function(e){return e._id})).indexOf(l._id)+1)," / ",e.geeks.length)))}))))),V&&r.a.createElement("section",{className:"my-profile-ranking col-10 offset-1 col-lg-4 offset-lg-2"},!ee&&r.a.createElement("div",{className:"pt-4"},r.a.createElement(U.b,{size:"large"},r.a.createElement(q.a,{size:"large",tip:"Chargement du classement...",style:{color:"white",fontSize:"1.2rem"},indicator:r.a.createElement(J.a,{spin:!0,style:{color:"white",fontSize:"3rem",marginBottom:8}})}))),ee&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,l.seasons[l.seasons.length-1].season.leagueName," saison ",l.seasons[l.seasons.length-1].season.year,r.a.createElement("br",null),"Classement g\xe9n\xe9ral"),r.a.createElement("ul",{className:"list-group list-group-flush season-ranking"},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center mb-2"},r.a.createElement("span",null,r.a.createElement("b",null,ue(re)," : ",l.username)),r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},l.seasons[l.seasons.length-1].totalPoints," pts")),ee.map((function(e,t){return r.a.createElement("li",{key:e._id,className:"list-group-item d-flex justify-content-between align-items-center"},e._id===l._id&&r.a.createElement("span",null,r.a.createElement("b",null,ue(t+1)," : ",e.username)),e._id!==l._id&&r.a.createElement("span",null,ue(t+1)," : ",e.username),r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},e.seasons.filter((function(e){return e.season.toString()===V.toString()}))[0].totalPoints," pts"))})))),r.a.createElement("div",{className:"delete-account"},r.a.createElement("button",{onClick:function(){return M(!z)},className:"btn my-btn delete-account-btn"},"Supprimer compte"))),N&&r.a.createElement("div",{id:"update-username-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"update-username-modal-title","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},"Changer de pseudo :"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return j(!1)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("label",{htmlFor:"pseudo-input-profile"},"Entrer un nouveau pseudo :"),r.a.createElement("input",{type:"text",id:"pseudo-input-profile",name:"username",value:D,onChange:function(e){return P(e.target.value)}})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"my-btn close",onClick:function(){return j(!1)}},"Fermer"),r.a.createElement("button",{type:"button",className:" my-btn save",onClick:se},"Enregistrer"))))),z&&r.a.createElement("div",{id:"delete-account-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"delete-account-modal-title","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},"Supprimer mon compte"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return M(!1)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}))," Es-tu s\xfbr de vouloir supprimer ton compte ? Toutes tes donn\xe9es seront perdues...")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"my-btn close-delete",onClick:function(){return M(!1)}},"Annuler"),r.a.createElement("button",{type:"button",className:" my-btn delete-account-btn",onClick:oe},"Supprimer"))))))},Z=g.a.create({baseURL:"/api/seasons",withCredentials:!0}),$=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("/".concat(t));case 2:return a=e.sent,n=a.data.season,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("/");case 2:return t=e.sent,a=t.data.seasons,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("/".concat(t,"/").concat(a));case 2:return n=e.sent,r=n.data.fixtures,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),te=function(e){var t=e.match.params.seasonID,a=e.loading,c=Object(n.useContext)(k).loginUser,l=Object(n.useState)(null),s=Object(p.a)(l,2),i=s[0],d=s[1],g=Object(n.useState)(!1),f=Object(p.a)(g,2),b=f[0],h=f[1],E=Object(n.useState)(null),v=Object(p.a)(E,2),x=v[0],y=v[1],N=function(e){var t=Object(n.useState)(e),a=Object(p.a)(t,2),r=a[0],c=a[1];return{value:r,onChange:function(e){return c(e.target.value)}}}("");Object(n.useEffect)((function(){var e=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(function(){var a=Object(m.a)(u.a.mark((function a(){var n,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(t);case 2:return n=a.sent,h(n),a.next=6,w();case 6:r=a.sent,c(r);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()(),function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t);case 2:a=e.sent,d(a.rankedTeams),n=a.fixtures.filter((function(e){return new Date(e.date).getTime()+72e5>Date.now()})),r=n[0].matchweek,c=n[0].date,n.forEach((function(e){return r=e.matchweek<r&&new Date(e.date).getTime()<new Date(c).getTime()?e.matchweek:r})),y(r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t)}),[t,c]);var j=function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==N.value){e.next=4;break}return e.abrupt("return",O("warning","Attention","Tu dois choisir une \xe9quipe de coeur avant de continuer."));case 4:return e.next=6,I(t,{favTeam:N.value});case 6:return O("success","\xc9quipe de coeur enregistr\xe9e."),e.next=9,w();case 9:a=e.sent,c(a),h(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e,t,a){C.a[e]({message:t,description:a,placement:"bottomRight",className:"notification-box"})};return r.a.createElement("div",{className:"pronogeeks-bg"},!i||a?r.a.createElement("div",{className:"loader-container"},r.a.createElement(U.b,{size:"large"},r.a.createElement(q.a,{size:"large",tip:"Chargement de la page...",style:{color:"rgb(4, 78, 199)",fontSize:"1.2rem"},indicator:r.a.createElement(J.a,{spin:!0,style:{color:"rgb(4, 78, 199)",fontSize:"3rem",marginBottom:8}})}))):b?r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"choose-favteam"},r.a.createElement("label",{htmlFor:"favteam-select"},"Choisis une \xe9quipe de coeur pour cette saison.",r.a.createElement("br",null),"NB : Chaque bon prono sur un match de ton \xe9quipe de coeur te rapporte un bonus de 30 pts.",r.a.createElement("br",null),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}))," R\xe9fl\xe9chis bien, tu ne pourras plus changer ensuite..."),r.a.createElement("br",null),r.a.createElement("select",Object.assign({name:"favTeam",id:"favteam-select"},N),r.a.createElement("option",{value:"",disabled:!0},"S\xe9lectionner une \xe9quipe"),i.map((function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)}))),r.a.createElement("br",null),r.a.createElement("button",{className:"btn my-btn save-favteam-btn",onClick:j},"Confirmer"))):x?r.a.createElement(o.a,{to:"/pronogeeks/".concat(t,"/matchweek/").concat(x)}):r.a.createElement("div",{className:"loader-container"},r.a.createElement(U.b,{size:"large"},r.a.createElement(q.a,{size:"large",tip:"Chargement de la page...",style:{color:"rgb(4, 78, 199)",fontSize:"1.2rem"},indicator:r.a.createElement(J.a,{spin:!0,style:{color:"rgb(4, 78, 199)",fontSize:"3rem",marginBottom:8}})}))))},ae=a(8),ne=g.a.create({baseURL:"/api/fetch",withCredentials:!0}),re=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.get("/fixtures/season/".concat(t,"/matchweek/").concat(a));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ce=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.get("/odds/season/".concat(t,"/matchweek/").concat(a));case 2:return n=e.sent,r=n.data.message,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),le=function(e){var t=e.match.params,a=t.matchweekNumber,c=t.seasonID,l=e.history,s=e.loading,o=Object(n.useState)(null),i=Object(p.a)(o,2),d=i[0],g=i[1],f=Object(n.useState)(null),b=Object(p.a)(f,2),h=b[0],E=b[1],v=Object(n.useState)(null),x=Object(p.a)(v,2),y=x[0],N=x[1],j=Object(n.useState)(null),O=Object(p.a)(j,2),S=O[0],z=O[1],M=Object(n.useState)(null),T=Object(p.a)(M,2),D=T[0],P=T[1],I=Object(n.useState)(!1),B=Object(p.a)(I,2),A=B[0],F=B[1],G=Object(n.useState)(!1),R=Object(p.a)(G,2),V=R[0],K=R[1],W=Object(n.useState)(!1),X=Object(p.a)(W,2),Y=X[0],Z=X[1],Q=Object(n.useState)(null),te=Object(p.a)(Q,2),ne=te[0],le=te[1],se=Object(n.useState)(null),oe=Object(p.a)(se,2),ie=oe[0],ue=oe[1],me=Object(n.useContext)(k),pe=me.loginUser,de=me.user,ge=function(e){var t=e.seasons.filter((function(e){return e.season._id.toString()===c.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===a.toString()}))[0];N(t.totalPoints),z(t.bonusPoints),P(t.numberCorrects)},fe=function(){var e=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(c,a);case 2:if(!(t=e.sent).message){e.next=7;break}return e.abrupt("return",ve("warning","Actualisation abort\xe9e",t.message.fr));case 7:return E(null),E(t.fixtures),ve("success","Scores actualis\xe9s"),e.next=12,w();case 12:n=e.sent,pe(n),ge(n);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(c,a);case 2:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",ve("warning","Actualisation abort\xe9e",t.fr));case 7:he(c,a)&&ve("success","Cotes actualis\xe9es");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t,a);case 2:return(n=e.sent).sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()})),E(null),E(n),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ee=function(e){var t=(e=new Date(e)).getMonth()<9?"0".concat(e.getMonth()+1):e.getMonth()+1,a=e.getMinutes()<=9?"0".concat(e.getMinutes()):e.getMinutes();return"".concat(e.getDate(),"/").concat(t,"/").concat(e.getFullYear()," \xe0 ").concat(e.getHours(),"h").concat(a)},ve=function(e,t,a){C.a[e]({message:t,description:a,placement:"bottomRight",className:"notification-box"})};Object(n.useEffect)((function(){var e=function(e){var t=e.seasons.filter((function(e){return e.season._id.toString()===c.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===a.toString()}))[0];N(t.totalPoints),z(t.bonusPoints),P(t.numberCorrects)},t=function(){var t=Object(m.a)(u.a.mark((function t(){var n,r,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re(c,a);case 2:return n=t.sent,r=n.fixtures,E(null),E(r),ve("success","Scores actualis\xe9s"),t.next=9,w();case 9:l=t.sent,pe(l),e(l);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(c,a);case 2:he(c,a)&&ve("success","Cotes actualis\xe9es");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(h&&de){var r=h.map((function(e){return new Date(e.date).getTime()})),l=Math.min.apply(Math,Object(ae.a)(r)),s=Math.max.apply(Math,Object(ae.a)(r)),o=l-Date.now()<6048e5,i=h.map((function(e){return new Date(e.lastScoreUpdate).getTime()})),p=Math.max.apply(Math,Object(ae.a)(i));ue(p);var d=Date.now()-s<1728e5,g=Date.now()-p>18e5;o&&d&&g&&!V&&("SUPER GEEK"===de.role||"GEEK ADMIN"===de.role)&&(K(!0),t(),ue(Date.now()));var f=h.map((function(e){return new Date(e.lastOddsUpdate).getTime()})),b=Math.max.apply(Math,Object(ae.a)(f));le(b);var v=Date.now()-s>0,x=Date.now()-b>864e5;!o||v||!x||Y||"SUPER GEEK"!==de.role&&"GEEK ADMIN"!==de.role||(Z(!0),n(),le(Date.now()))}}),[h,V,Y,a,c,de]),Object(n.useEffect)((function(){var e=function(e){var t=e.seasons.filter((function(e){return e.season._id.toString()===c.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===a.toString()}))[0];N(t.totalPoints),z(t.bonusPoints),P(t.numberCorrects)},t=function(){var e=Object(m.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:return e.next=4,_(t,a);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();(function(){var n=Object(m.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(c,a);case 2:return n.next=4,w();case 4:r=n.sent,pe(r),e(r);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()(),function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t);case 2:a=e.sent,g(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(c),he(c,a)}),[a,c]);var we=function(){E(null),l.push("/pronogeeks/".concat(c,"/matchweek/").concat(parseInt(a)-1))},xe=function(){E(null),l.push("/pronogeeks/".concat(c,"/matchweek/").concat(parseInt(a)+1))};return h&&d&&!s?r.a.createElement("div",{className:"pronogeeks-bg matchweek-page"},"GEEK ADMIN"===de.role&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn admin-btn top",onClick:fe},"Actualiser les scores"),r.a.createElement("button",{className:"btn my-btn admin-btn top",onClick:be},"Actualiser les cotes")),r.a.createElement("h2",null,r.a.createElement("svg",{onClick:function(){return F(!A)},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgb(4, 78, 199)",width:"40px",height:"40px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"})),d.leagueName," saison ",d.year," :",r.a.createElement("br",null),"journ\xe9e ",a),r.a.createElement("ul",{onClick:function(){return F(!1)},className:"list-group list-group-flush list-fixtures col-10 offset-1 col-md-8 offset-md-2 col-xl-6 offset-xl-3"},r.a.createElement("div",{className:"previous-next-btns"},1!==parseInt(a)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:we},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})))),S>0&&r.a.createElement("div",{className:"score-top"},"Ton total J",a," : ",y," pts",r.a.createElement("br",null),"dont ",S," pts bonus (",D,"/10)"),!S&&r.a.createElement("div",{className:"score-top"},"Ton total J",a," : ",y," pts"),38!==parseInt(a)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:xe},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}))))),r.a.createElement("div",{className:"list-fixtures-header"},r.a.createElement("div",{className:"header-title"},"Domicile"),r.a.createElement("div",null,"|"),r.a.createElement("div",{className:"header-title"},"Ext\xe9rieur")),h.map((function(e){return r.a.createElement("li",{className:"list-group-item",key:e._id,style:{background:"none"}},r.a.createElement(L,{fixtureID:e._id}))})),r.a.createElement("div",{className:"previous-next-btns"},r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:we},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})))),S>0&&r.a.createElement("div",{className:"score-bottom"},"Ton total J",a," : ",y," pts",r.a.createElement("br",null),"dont ",S," pts bonus (",D,"/10)"),!S&&r.a.createElement("div",{className:"score-bottom"},"Ton total J",a," : ",y," pts"),r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:xe},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})))))),"GEEK ADMIN"===de.role&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn admin-btn",onClick:fe},"Actualiser les scores"),r.a.createElement("button",{className:"btn my-btn admin-btn",onClick:be},"Actualiser les cotes")),A&&r.a.createElement("div",{className:"rules-box"},r.a.createElement("span",{onClick:function(){return F(!1)}},"X"),r.a.createElement("h4",null,"R\xe8gles des pronogeeks :"),r.a.createElement("hr",null),r.a.createElement("ul",null,r.a.createElement("li",null,"Les statuts et r\xe9sultats des matchs sont actualis\xe9s en moyenne toutes les 30 minutes (\xe0 partir de 7 jours avant le d\xe9but de la journ\xe9e) et les points de pronogeeks avec. (derni\xe8re mise \xe0 jour le ",Ee(ie),")"),r.a.createElement("br",null),r.a.createElement("li",null,"Les cotes sont actualis\xe9es une fois par jour (\xe0 partir de 7 jours avant le d\xe9but de la journ\xe9e). Une fois un match commenc\xe9, ses cotes ne changent plus. (derni\xe8re mise \xe0 jour le ",Ee(ne),")"),r.a.createElement("br",null),r.a.createElement("li",null,"Il n'est plus possible de changer son pronogeek apr\xe8s le coup d'envoi."),r.a.createElement("br",null),r.a.createElement("li",null,"Un pronogeek ",r.a.createElement("b",null,"correct")," (bon vainqueur ou match nul) rapporte le nombre de points indiqu\xe9s dans les cotes de la rencontre."),r.a.createElement("br",null),r.a.createElement("li",null,"Un pronogeek ",r.a.createElement("b",null,"exact")," (score exact bien pronogeek\xe9) rapporte le double de la cote correspondante."),r.a.createElement("br",null),r.a.createElement("li",null,"Un pronogeek correct sur un match de son ",r.a.createElement("b",null,"\xe9quipe de coeur")," (qu'elle soit gagnante ou perdante) rapporte 30 points bonus."),r.a.createElement("br",null),r.a.createElement("li",null,"D\xe9tail des bonus par journ\xe9e de ",d.leagueName," :",r.a.createElement("ul",null,r.a.createElement("li",null,"Moins de 5 pronos corrects : 0pt bonus"),r.a.createElement("li",null,"5 pronos corrects: 50pts bonus"),r.a.createElement("li",null,"6 pronos corrects: 100pts bonus"),r.a.createElement("li",null,"7 pronos corrects: 200pts bonus"),r.a.createElement("li",null,"8 pronos corrects: 300pts bonus"),r.a.createElement("li",null,"9 pronos corrects: 500pts bonus"),r.a.createElement("li",null,"10 pronos corrects: 700pts bonus")))))):r.a.createElement("div",{className:"pronogeeks-bg"},r.a.createElement("div",{className:"loader-container"},r.a.createElement(U.b,{size:"large"},r.a.createElement(q.a,{size:"large",tip:"Chargement de la page...",style:{color:"rgb(4, 78, 199)",fontSize:"1.2rem"},indicator:r.a.createElement(J.a,{spin:!0,style:{color:"rgb(4, 78, 199)",fontSize:"3rem",marginBottom:8}})}))))},se=a(303),oe=g.a.create({baseURL:"/api/geekLeagues",withCredentials:!0}),ie=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.post("/",t);case 2:return a=e.sent,n=a.data.geekLeague,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.get("/".concat(t));case 2:return a=e.sent,n=a.data.geekLeague,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.get("/ranking/".concat(t,"/season/").concat(a,"/matchweek/").concat(n));case 2:return r=e.sent,c=r.data.geeks,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),pe=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.get("/");case 2:return t=e.sent,a=t.data.geekLeagues,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.put("/".concat(t),{name:a,geeks:n});case 2:return r=e.sent,c=r.data.geekLeague,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ge=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.get("out/".concat(t));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.delete("/".concat(t));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=se.a.Option,he=function(e){var t=e.history,a=e.loading,c=Object(n.useContext)(k),l=c.user,s=c.loginUser,o=R.a.useForm(),i=Object(p.a)(o,1)[0],d=Object(n.useState)(null),g=Object(p.a)(d,2),f=g[0],b=g[1],h=Object(n.useState)(!1),E=Object(p.a)(h,2),v=E[0],x=E[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:t=e.sent,a=t.filter((function(e){return e._id!==(null===l||void 0===l?void 0:l._id)})),b(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l]);var y=function(){var e=Object(m.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.name&&a.geeks&&!(a.geeks.length<1)){e.next=2;break}return e.abrupt("return",N("warning","Attention","Tous les champs sont requis."));case 2:return x(!0),e.next=5,ie(a);case 5:return n=e.sent,N("success",'Ligue "'.concat(a.name,'" cr\xe9\xe9e')),t.push("/myGeekLeagues/".concat(n._id)),x(!1),e.next=11,w();case 11:r=e.sent,s(r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e,t,a){C.a[e]({message:t,description:a,placement:"bottomRight",className:"notification-box"})};return r.a.createElement("div",{className:"geekleague-bg"},!f||v||a?r.a.createElement("div",{className:"loader-container"},r.a.createElement(U.b,{size:"large"},r.a.createElement(q.a,{size:"large",tip:"Chargement de la page...",style:{color:"white",fontSize:"1.2rem"},indicator:r.a.createElement(J.a,{spin:!0,style:{color:"white",fontSize:"3rem",marginBottom:8}})}))):r.a.createElement("div",{className:"geekleague-form"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-xl-6 offset-xl-3"},r.a.createElement("h2",null,"Cr\xe9er une ligue"),r.a.createElement(R.a,{form:i,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:y},r.a.createElement(R.a.Item,{type:"text",label:"Nom de la ligue :",name:"name",rules:[{required:!0,message:"Le nom de ligue est n\xe9cessaire."}]},r.a.createElement(V.a,{style:{borderRadius:15.8},placeholder:"Ma Ligue Geek"})),r.a.createElement(R.a.Item,{type:"text",label:"S\xe9lectionne d'autres geeks :",name:"geeks",rules:[{required:!0,message:"Tu ne peux pas cr\xe9er de ligue sans autres geeks."}]},r.a.createElement(se.a,{mode:"multiple",style:{width:"100%",borderRadius:15.8,overflow:"hidden",textAlign:"left"},placeholder:"Ajoute des geeks \xe0 ta ligue !",optionLabelProp:"label",optionFilterProp:"label"},null===f||void 0===f?void 0:f.map((function(e){return r.a.createElement(be,{key:e._id,value:e._id,label:e.username},r.a.createElement("div",{className:"demo-option-label-item"},r.a.createElement("span",{role:"img","aria-label":e.username},r.a.createElement("img",{src:e.photo,alt:"profile",className:"profile-pic-preview"})),"\xa0\xa0",e.username))})))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("button",{type:"submit",className:"btn my-btn create-league-btn",style:{marginTop:10}},"Cr\xe9er ligue"))))))},Ee=se.a.Option,ve=function(e){var t=e.match.params.geekLeagueID,a=e.history,c=e.loading,l=Object(n.useContext)(k),o=l.user,i=l.loginUser,d=Object(n.useState)(null),g=Object(p.a)(d,2),f=g[0],b=g[1],h=Object(n.useState)(null),E=Object(p.a)(h,2),v=E[0],x=E[1],y=Object(n.useState)(!1),N=Object(p.a)(y,2),j=N[0],O=N[1],S=Object(n.useState)(!1),z=Object(p.a)(S,2),C=z[0],M=z[1],L=Object(n.useState)(!1),T=Object(p.a)(L,2),P=T[0],H=T[1],_=Object(n.useState)(null),I=Object(p.a)(_,2),B=I[0],A=I[1],F=R.a.useForm(),G=Object(p.a)(F,1)[0];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(t);case 2:a=e.sent,b(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=6;break}return e.next=3,D();case 3:t=e.sent,a=t.filter((function(e){var t=!0;return f.geeks.forEach((function(a){a._id.toString()===e._id.toString()&&(t=!1)})),t})),A(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[f]);var K=function(){var e=Object(m.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(t,a.name,a.geeks);case 2:return n=e.sent,O(!1),b(n),e.next=7,w();case 7:r=e.sent,i(r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(t);case 2:return e.next=4,w();case 4:n=e.sent,i(n),a.push("/myGeekLeagues");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(m.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(t);case 2:return e.next=4,w();case 4:n=e.sent,i(n),a.push("/myGeekLeagues");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(e){return 1===parseInt(e)?"1er(e)":"".concat(e,"\xe8me")};return r.a.createElement("div",{className:"geekleague-bg geekleague-details"},f&&v&&!c?r.a.createElement("div",{className:"geekleague-page container"},r.a.createElement("h2",null,'Ligue "',f.name,'"',f.creator.toString()===o._id.toString()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){O(!j),M(!1)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"30px",height:"30px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}))),r.a.createElement("button",{onClick:function(){M(!C),O(!1)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"30px",height:"30px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})))),f.creator.toString()!==o._id.toString()&&r.a.createElement("button",{onClick:function(){return H(!P)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"30px",height:"30px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})))),r.a.createElement("div",{className:"row geekleague-seasons",onClick:function(){O(!1),M(!1),H(!1)}},v.map((function(e){return r.a.createElement("div",{key:e._id,className:"league-season-ranking-container col-12 col-lg-6"},r.a.createElement("div",{className:"league-season-ranking"},r.a.createElement("h4",null,e.leagueName," saison ",e.year,r.a.createElement("br",null),"Classement g\xe9n\xe9ral"),r.a.createElement("ul",{className:"list-group list-group-flush geekleague-ranking-detail mt-2"},f.geeks.sort((function(t,a){var n;return t.seasons||a.seasons?t.seasons?a.seasons?t.seasons.length>0&&a.seasons.length>0?n=a.seasons.filter((function(t){return t.season.toString()===e._id.toString()}))[0].totalPoints-t.seasons.filter((function(t){return t.season.toString()===e._id.toString()}))[0].totalPoints:t.seasons.length>0&&a.seasons.length<1?n=-1:t.seasons.length<1&&a.seasons.length>0?n=1:t.seasons.length<1&&a.seasons.length<1&&(n=-1):n=-1:n=1:n=-1,n})).map((function(t,a){var n;return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",key:t._id},t._id===o._id&&r.a.createElement("span",null,r.a.createElement("b",null,Y(a+1)," : ",t.username)),t._id!==o._id&&r.a.createElement("span",null,Y(a+1)," : ",t.username),t.seasons.length>0&&r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},null===(n=t.seasons.filter((function(t){return t.season.toString()===e._id.toString()}))[0])||void 0===n?void 0:n.totalPoints," pts"),t.seasons.length<1&&r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},"0 pts"))}))),r.a.createElement(s.b,{to:"/myGeekLeagues/".concat(t,"/season/").concat(e._id)},r.a.createElement("button",{className:"btn my-btn see-more-btn"},"D\xe9tails par journ\xe9e"))))}))),j&&r.a.createElement("div",{className:"my-modal-edit-geekleague"},r.a.createElement("div",{className:"my-modal-body"},r.a.createElement("span",{className:"close-edit-modal",onClick:function(){return O(!1)}},"X"),r.a.createElement("h5",{className:"modal-title"},'Modifier "',f.name,'" :'),r.a.createElement("hr",null),r.a.createElement(R.a,{form:G,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:K},r.a.createElement(R.a.Item,{type:"text",label:"Nom de la ligue :",name:"name",color:"black"},r.a.createElement(V.a,{style:{borderRadius:15.8},placeholder:f.name})),r.a.createElement(R.a.Item,{type:"text",label:"Ajoute d'autres geeks :",name:"geeks"},r.a.createElement(se.a,{mode:"multiple",style:{width:"100%",borderRadius:15.8,overflow:"hidden",textAlign:"left",outline:"none"},placeholder:"Ajoute des geeks \xe0 ta ligue !",optionLabelProp:"label",optionFilterProp:"label"},null===B||void 0===B?void 0:B.map((function(e){return r.a.createElement(Ee,{key:e._id,value:e._id,label:e.username},r.a.createElement("div",{className:"demo-option-label-item"},r.a.createElement("span",{role:"img","aria-label":e.username},r.a.createElement("img",{src:e.photo,alt:"profile",className:"profile-pic-preview"})),"\xa0\xa0",e.username))})))),r.a.createElement("button",{type:"submit",className:" my-btn save"},"Enregistrer")))),C&&r.a.createElement("div",{className:"my-modal-delete-geekleague"},r.a.createElement("div",{className:"my-modal-body"},r.a.createElement("span",{className:"close-delete-modal",onClick:function(){return M(!1)}},"X"),r.a.createElement("h5",{className:"modal-title"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),'\xa0 Es-tu s\xfbr de vouloir supprimer "',f.name,'" ?'),r.a.createElement("hr",null),r.a.createElement("button",{type:"button",className:" my-btn delete",onClick:W},"Oui, supprimer"),r.a.createElement("button",{type:"button",className:" my-btn return",onClick:function(){return M(!1)}},"Non ! Annuler"))),P&&r.a.createElement("div",{className:"my-modal-delete-geekleague"},r.a.createElement("div",{className:"my-modal-body"},r.a.createElement("span",{className:"close-delete-modal",onClick:function(){return H(!1)}},"X"),r.a.createElement("h5",{className:"modal-title"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),'\xa0 Es-tu s\xfbr de vouloir sortir de "',f.name,'" ?'),r.a.createElement("hr",null),r.a.createElement("button",{type:"button",className:" my-btn delete",onClick:X},"Oui, sortir"),r.a.createElement("button",{type:"button",className:" my-btn return",onClick:function(){return H(!1)}},"Non ! Annuler")))):r.a.createElement("div",{className:"loader-container"},r.a.createElement(U.b,{size:"large"},r.a.createElement(q.a,{size:"large",tip:"Chargement de la page...",style:{color:"white",fontSize:"1.2rem"},indicator:r.a.createElement(J.a,{spin:!0,style:{color:"white",fontSize:"3rem",marginBottom:8}})}))))},we=function(e){var t=e.loading,a=Object(n.useState)(null),c=Object(p.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"geekleague-bg geekleagues-list"},!l||t?r.a.createElement("div",{className:"loader-container"},r.a.createElement(U.b,{size:"large"},r.a.createElement(q.a,{size:"large",tip:"Chargement de la page...",style:{color:"white",fontSize:"1.2rem"},indicator:r.a.createElement(J.a,{spin:!0,style:{color:"white",fontSize:"3rem",marginBottom:8}})}))):r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Mes Ligues Geek"),r.a.createElement("div",{className:"my-geekleagues row"},l.map((function(e){return r.a.createElement("div",{key:e._id,className:"col-10 col-lg-6 geekleague-card-container"},r.a.createElement("div",{className:"geekleague-card"},r.a.createElement("h4",null,e.name),r.a.createElement("h6",null,"Cr\xe9\xe9e par ",e.creator.username," en ",new Date(e.createdAt).getMonth().length>1?new Date(e.createdAt).getMonth():"0".concat(new Date(e.createdAt).getMonth()),"/",new Date(e.createdAt).getFullYear()),r.a.createElement(s.b,{to:"/myGeekLeagues/".concat(e._id),className:"btn my-btn new-league geekleagues-page-btn"},"Voir le d\xe9tail")))}))),r.a.createElement(s.b,{to:"/myGeekLeagues/new",className:"btn my-btn new-league geekleagues-page-btn"},"Cr\xe9er une ligue")))},xe=function(e){var t=e.match.params,a=t.geekLeagueID,c=t.seasonID,l=e.loading,o=Object(n.useContext)(k).user,i=Object(n.useState)(null),d=Object(p.a)(i,2),g=d[0],f=d[1],b=Object(n.useState)(null),h=Object(p.a)(b,2),E=h[0],v=h[1],w=Object(n.useState)(null),x=Object(p.a)(w,2),y=x[0],N=x[1],j=Object(n.useState)(null),O=Object(p.a)(j,2),S=O[0],z=O[1],C=Object(n.useState)(null),M=Object(p.a)(C,2),L=M[0],T=M[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t);case 2:a=e.sent,f(a),(n=a.fixtures.filter((function(e){return new Date(e.date).getTime()<Date.now()}))).length>0?(r=n[n.length-1].matchweek,v(r),N(r)):(v(1),N(1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(c),function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(t);case 2:a=e.sent,z(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(a)}),[a,c]),Object(n.useEffect)((function(){E&&function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(a,c,E);case 2:t=e.sent,T(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[E,a,c]);var D=function(e){return 1===parseInt(e)?"1er(e)":"".concat(e,"\xe8me")};return r.a.createElement("div",{className:"geekleague-bg geekleague-details"},!l&&S&&E&&g&&L&&y?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10 offset-1 col-lg-6 offset-lg-3"},r.a.createElement("h2",null,"Classement ",S.name),r.a.createElement("div",{className:"ranking-geekleague-matchweek"},r.a.createElement("div",null,r.a.createElement("div",{className:"previous-next-btns geekleague-btns"},E>1&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:function(){T(null),v(E-1)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})))),r.a.createElement("h4",null,"J",E," de ",g.leagueName,", saison ",g.year),E<y&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:function(){T(null),v(E+1)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})))))),r.a.createElement("ul",{className:"list-group list-group-flush geekleague-ranking-detail mt-2"},L.map((function(e,t){return r.a.createElement("li",{key:e._id,className:"list-group-item d-flex justify-content-between align-items-center"},o._id===e._id&&r.a.createElement("span",null,r.a.createElement("b",null,D(t+1)," : ",e.username)),o._id!==e._id&&r.a.createElement("span",null,D(t+1)," : ",e.username," ",r.a.createElement(s.b,{to:"/geek/".concat(e._id,"/pronogeeks/").concat(c,"/matchweek/").concat(E)},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgba(156, 0, 99, 0.8)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})))),e.seasons.length>0&&e.seasons.filter((function(e){return e.season.toString()===c.toString()})).length>0&&e.seasons.filter((function(e){return e.season.toString()===c.toString()}))[0].matchweeks.length>0&&e.seasons.filter((function(e){return e.season.toString()===c.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===E.toString()})).length>0&&r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},e.seasons.filter((function(e){return e.season.toString()===c.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===E.toString()}))[0].totalPoints," pts"),(e.seasons.length<1||e.seasons.filter((function(e){return e.season.toString()===c.toString()})).length<1||e.seasons.filter((function(e){return e.season.toString()===c.toString()}))[0].matchweeks.length<1||e.seasons.filter((function(e){return e.season.toString()===c.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===E.toString()})).length<1)&&r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},"0 pts"))}))))))):r.a.createElement("div",{className:"loader-container"},r.a.createElement(U.b,{size:"large"},r.a.createElement(q.a,{size:"large",tip:"Chargement de la page...",style:{color:"white",fontSize:"1.2rem"},indicator:r.a.createElement(J.a,{spin:!0,style:{color:"white",fontSize:"3rem",marginBottom:8}})}))))},ke=function(e){var t=e.match.params,a=t.matchweekNumber,c=t.seasonID,l=t.geekID,s=e.history,o=e.loading,i=Object(n.useState)(null),d=Object(p.a)(i,2),g=d[0],f=d[1],b=Object(n.useState)(null),h=Object(p.a)(b,2),E=h[0],v=h[1],w=Object(n.useState)(null),x=Object(p.a)(w,2),k=x[0],y=x[1],N=Object(n.useState)(null),j=Object(p.a)(N,2),O=j[0],S=j[1],z=Object(n.useState)(null),C=Object(p.a)(z,2),M=C[0],L=C[1],T=Object(n.useState)(null),D=Object(p.a)(T,2),H=D[0],_=D[1],I=Object(n.useState)(!0),B=Object(p.a)(I,2),A=B[0],G=B[1],R=Object(n.useState)(!1),V=Object(p.a)(R,2),K=V[0],W=V[1],X=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t,a);case 2:return(n=e.sent).sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()})),v(null),new Date(n[0].date).getTime()>Date.now()&&G(!1),v(n),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(l);case 2:t=e.sent,_(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l]),Object(n.useEffect)((function(){H&&function(e){if(e.seasons.length<1||e.seasons.filter((function(e){return e.season._id.toString()===c.toString()})).length<1||e.seasons.filter((function(e){return e.season._id.toString()===c.toString()}))[0].matchweeks.length<1||e.seasons.filter((function(e){return e.season._id.toString()===c.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===a.toString()})).length<1)return W(!0);var t=e.seasons.filter((function(e){return e.season._id.toString()===c.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===a.toString()}))[0];y(t.totalPoints),S(t.bonusPoints),L(t.numberCorrects)}(H),function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t);case 2:a=e.sent,f(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(c),X(c,a)}),[a,c,H]);var Y=function(){v(null),G(!0),s.push("/geek/".concat(l,"/pronogeeks/").concat(c,"/matchweek/").concat(parseInt(a)-1))},Z=function(){v(null),G(!0),s.push("/geek/".concat(l,"/pronogeeks/").concat(c,"/matchweek/").concat(parseInt(a)+1))};return E&&g&&!o&&H?!A||K?r.a.createElement("div",{className:"pronogeeks-bg matchweek-page"},r.a.createElement("h2",null,g.leagueName," saison ",g.year," :",r.a.createElement("br",null),"Pronos de ",H.username," J",a),r.a.createElement("ul",{className:"list-group list-group-flush list-fixtures col-10 offset-1 col-md-8 offset-md-2 col-xl-6 offset-xl-3"},r.a.createElement("div",{className:"previous-next-btns"},1!==parseInt(a)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:Y},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})))),O>0&&r.a.createElement("div",{className:"score-top"},"Total J",a," : ",k," pts",r.a.createElement("br",null),"dont ",O," pts bonus (",M,"/10)"),!O&&r.a.createElement("div",{className:"score-top"},"Total J",a," : ",k," pts"),38!==parseInt(a)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:Z},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})))))),r.a.createElement("h4",{className:"not-accessible"},"Les pronos de ",H.username," ne sont pas encore accessibles.")):r.a.createElement("div",{className:"pronogeeks-bg matchweek-page"},r.a.createElement("h2",null,g.leagueName," saison ",g.year," :",r.a.createElement("br",null),"Pronos de ",H.username," J",a),r.a.createElement("ul",{className:"list-group list-group-flush list-fixtures col-10 offset-1 col-md-8 offset-md-2 col-xl-6 offset-xl-3"},r.a.createElement("div",{className:"previous-next-btns"},1!==parseInt(a)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:Y},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})))),O>0&&r.a.createElement("div",{className:"score-top"},"Total J",a," : ",k," pts",r.a.createElement("br",null),"dont ",O," pts bonus (",M,"/10)"),!O&&r.a.createElement("div",{className:"score-top"},"Total J",a," : ",k," pts"),38!==parseInt(a)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:Z},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}))))),r.a.createElement("div",{className:"list-fixtures-header"},r.a.createElement("div",{className:"header-title"},"Domicile"),r.a.createElement("div",null,"|"),r.a.createElement("div",{className:"header-title"},"Ext\xe9rieur")),E.map((function(e){return r.a.createElement("li",{className:"list-group-item",key:e._id,style:{background:"none"}},r.a.createElement(F,{fixtureID:e._id,geekID:l}))})),r.a.createElement("div",{className:"previous-next-btns"},r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:Y},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})))),O>0&&r.a.createElement("div",{className:"score-bottom"},"Total J",a," : ",k," pts",r.a.createElement("br",null),"dont ",O," pts bonus (",M,"/10)"),!O&&r.a.createElement("div",{className:"score-bottom"},"Total J",a," : ",k," pts"),r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:Z},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}))))))):r.a.createElement("div",{className:"pronogeeks-bg"},r.a.createElement("div",{className:"loader-container"},r.a.createElement(U.b,{size:"large"},r.a.createElement(q.a,{size:"large",tip:"Chargement de la page...",style:{color:"rgb(4, 78, 199)",fontSize:"1.2rem"},indicator:r.a.createElement(J.a,{spin:!0,style:{color:"rgb(4, 78, 199)",fontSize:"3rem",marginBottom:8}})}))))},ye=a(54),Ne=function(e){var t=e.component,a=Object(ye.a)(e,["component"]),c=Object(n.useContext)(k).user;return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return null===c?r.a.createElement(t,Object.assign({},e,{loading:!0})):c?r.a.createElement(t,e):r.a.createElement(o.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},je=function(){return r.a.createElement("h2",{className:"page-404-heading"},"Cette page n'existe pas...",r.a.createElement("br",null),"Retourne faire tes pronos au lieu de papilloner !")},Oe=function(){return r.a.createElement(s.a,null,r.a.createElement(N,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{component:X,path:"/",exact:!0}),r.a.createElement(o.b,{component:K,path:"/signup"}),r.a.createElement(o.b,{component:W,path:"/login"}),r.a.createElement(Ne,{component:Y,path:"/profile",exact:!0}),r.a.createElement(Ne,{component:te,path:"/pronogeeks/:seasonID",exact:!0}),r.a.createElement(Ne,{component:le,path:"/pronogeeks/:seasonID/matchweek/:matchweekNumber"}),r.a.createElement(Ne,{component:ke,path:"/geek/:geekID/pronogeeks/:seasonID/matchweek/:matchweekNumber"}),r.a.createElement(Ne,{component:we,path:"/myGeekleagues",exact:!0}),r.a.createElement(Ne,{component:he,path:"/myGeekleagues/new",exact:!0}),r.a.createElement(Ne,{component:ve,path:"/myGeekleagues/:geekLeagueID",exact:!0}),r.a.createElement(Ne,{component:xe,path:"/myGeekleagues/:geekLeagueID/season/:seasonID"}),r.a.createElement(o.b,{component:je}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(297);l.a.render(r.a.createElement(y,null,r.a.createElement(Oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[152,1,2]]]);
//# sourceMappingURL=main.de45f341.chunk.js.map