(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{152:function(e,t,a){e.exports=a(298)},157:function(e,t,a){},298:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),c=a.n(s),l=(a(157),a(9)),o=a(17),i=a(1),u=a.n(i),m=a(5),p=a(6),d=a(22),f=a.n(d),g=f.a.create({baseURL:"/auth",withCredentials:!0}),b=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/signup",t);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/login",t);case 2:return e.abrupt("return",w());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.put("/edit",t);case 2:return e.abrupt("return",w());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.put("/editPic",t);case 2:return e.abrupt("return",w());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/profile");case 2:return t=e.sent,a=t.data.user,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/logout");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.put("/reset-pwd",{email:t});case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.put("/new-pwd/".concat(t,"/").concat(a),{password:n});case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),N=Object(n.createContext)(),j=function(e){var t=e.children,a=Object(n.useState)(null),s=Object(p.a)(a,2),c=s[0],l=s[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var o=function(e){return l(e)};return r.a.createElement(N.Provider,{value:{user:c,loginUser:o,logoutUser:function(){return l(null)}}},t)},O=function(e){var t=e.children,a=Object(n.useContext)(N),s=a.user,c=a.logoutUser,i=Object(o.g)(),p=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:c(),i.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg fixed-top navbar-dark bg-dark my-navbar"},r.a.createElement(l.b,{className:"navbar-brand my-brand",to:"/"},r.a.createElement("h1",null,"pronogeeks")),r.a.createElement("button",{className:"navbar-toggler my-navbar-btn",type:"button","data-toggle":"collapse","data-target":"#my-navbar-toggle","aria-controls":"my-navbar-toggle","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"my-navbar-toggle"},r.a.createElement("ul",{className:"navbar-nav mt-2 mt-lg-0"},s?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link logout-btn",onClick:p},"D\xe9connexion")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/myGeekLeagues"},"Mes ligues Geek")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/pronogeeks/5f67f525d7b14148997ee3eb"},"Mes pronogeeks")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/profile"},r.a.createElement("img",{className:"profile-pic-navbar",src:s.photo,alt:"Profile"})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/login"},"Se connecter")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/signup"},"Cr\xe9er un compte")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/"},r.a.createElement("svg",{width:"1.6em",height:"1.6em",viewBox:"0 0 16 16",className:"bi bi-house-fill my-home-icon",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M8 3.293l6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"}),r.a.createElement("path",{fillRule:"evenodd",d:"M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"})),r.a.createElement("span",{className:"sr-only"},"(current)"))))))),r.a.createElement("div",{className:"my-content"},t))},S=f.a.create({baseURL:"/api/fixtures",withCredentials:!0}),C=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/".concat(t));case 2:return a=e.sent,n=a.data.fixture,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=f.a.create({baseURL:"/api/pronogeeks",withCredentials:!0}),M=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){var r,s,c,l,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("/".concat(n));case 2:if(r=e.sent,s=r.data.pronogeek){e.next=12;break}return e.next=7,P.post("/".concat(n),{homeProno:t,awayProno:a});case 7:return c=e.sent,l=c.data.pronogeek,e.abrupt("return",l);case 12:return e.next=14,P.put("/".concat(s._id),{homeProno:t,awayProno:a});case 14:return o=e.sent,i=o.data.pronogeek,e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),T=a(306),z=a(302),L=function(e,t,a){z.a[e]({message:t,description:a,placement:"bottomRight",className:"notification-box"})},D=function(e){var t=(e=new Date(e)).getDay(),a=e.getMonth()<9?"0".concat(e.getMonth()+1):e.getMonth()+1,n=e.getMinutes()<=9?"0".concat(e.getMinutes()):e.getMinutes();switch(t){case 0:t="dimanche";break;case 1:t="lundi";break;case 2:t="mardi";break;case 3:t="mercredi";break;case 4:t="jeudi";break;case 5:t="vendredi";break;case 6:t="samedi";break;default:t=""}return{fullDate:"".concat(t," ").concat(e.getDate(),"/").concat(a,"/").concat(e.getFullYear()),fullTime:"".concat(e.getHours(),"h").concat(n)}},_=function(e){var t=(e=new Date(e)).getMonth()<9?"0".concat(e.getMonth()+1):e.getMonth()+1,a=e.getMinutes()<=9?"0".concat(e.getMinutes()):e.getMinutes();return"".concat(e.getDate(),"/").concat(t,"/").concat(e.getFullYear()," \xe0 ").concat(e.getHours(),"h").concat(a)},I=function(e,t){return"TBD"!==e&&"NS"!==e&&"1H"!==e&&"HT"!==e&&"2H"!==e&&"ET"!==e&&"P"!==e&&"BT"!==e&&"SUSP"!==e&&"INT"!==e&&"PST"!==e?"Match termin\xe9":"HT"===e?"Mi-temps":"PST"===e?"Match report\xe9":"SUSP"===e?"Match suspendu (".concat(t,"')"):"INT"===e?"Match interrompu (".concat(t,"')"):"".concat(t,"'")},H=a(307),B=a(300),q=a(304),A=function(e){var t=e.size,a=void 0===t?"large":t,n=e.tip,s=void 0===n?"Chargement de la page...":n,c=e.color,l=void 0===c?"white":c,o=e.fontSize,i=void 0===o?"3rem":o,u=e.container,m=void 0===u||u;return r.a.createElement("div",{className:m?"loader-container":""},r.a.createElement(H.b,{size:a},r.a.createElement(B.a,{size:a,tip:s,style:{color:l,fontSize:"1.2rem"},indicator:r.a.createElement(q.a,{style:{color:l,fontSize:i,marginBottom:8},spin:!0})})))},F=function(e){var t=e.saveSuccess,a=e.matchStarted,n=e.saveProno,s=e.saving;return t?r.a.createElement(r.a.Fragment,null,!a&&r.a.createElement("small",{className:"legend-save-btn"},"Prono enregistr\xe9"),r.a.createElement("button",{className:"btn my-btn save-prono saved-prono",disabled:a,onClick:n},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})))):r.a.createElement(r.a.Fragment,null,!a&&r.a.createElement("small",{className:"legend-save-btn"},"Enregistrer prono"),r.a.createElement("button",{className:"btn my-btn save-prono",disabled:a,onClick:n},!s&&r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"})),s&&r.a.createElement(A,{fontSize:"1.5rem",tip:"",container:!1})))},R=function(e){var t=e.fixtureID,a=e.saveAll,s=Object(n.useState)(null),c=Object(p.a)(s,2),l=c[0],o=c[1],i=Object(n.useState)(null),d=Object(p.a)(i,2),f=d[0],g=d[1],b=Object(n.useState)(!1),h=Object(p.a)(b,2),E=h[0],v=h[1],w=Object(n.useState)(null),x=Object(p.a)(w,2),k=x[0],y=x[1],j=Object(n.useState)(null),O=Object(p.a)(j,2),S=O[0],P=O[1],z=Object(n.useState)(!1),_=Object(p.a)(z,2),H=_[0],B=_[1],q=Object(n.useState)(!1),A=Object(p.a)(q,2),R=A[0],U=A[1],G=Object(n.useContext)(N).user,V=function(){var e=Object(m.a)(u.a.mark((function e(){var a,n,r,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!(s.length>0&&void 0!==s[0])||s[0],n=s.length>1&&void 0!==s[1]?s[1]:4500,U(!1),!(new Date(l.date).getTime()-Date.now()<0&&"PST"!==l.statusShort)){e.next=5;break}return e.abrupt("return",L("error","Erreur","Ce match est d\xe9j\xe0 commenc\xe9 ou fini. Tu ne peux plus changer ton prono."));case 5:if((k||0===parseInt(k))&&(S||0===parseInt(S))){e.next=7;break}return e.abrupt("return",L("warning","Attention","Tu n'as pas d\xe9fini de score pour le match ".concat(l.homeTeam.name," - ").concat(l.awayTeam.name,". Prono non enregistr\xe9.")));case 7:return r=!1,B(!0),e.next=11,M(k,S,t).catch((function(e){L("warning","Attention",e.response.data.message.fr),r=!0,B(!1)}));case 11:r||(a&&L("success","Enregistr\xe9","Pronogeek enregistr\xe9 pour ".concat(l.homeTeam.name," - ").concat(l.awayTeam.name)),B(!1),U(!0),setTimeout((function(){return U(!1)}),n));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,s,c,l,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:a=e.sent,n=a.season,r=a.matchweek,new Date(a.date)-Date.now()<0&&"PST"!==a.statusShort&&v(!0),o(a),(s=G.seasons.filter((function(e){return e.season._id===n}))).length>0&&(s=s[0]),c={homeProno:"",awayProno:""},l=[],i=0,s.matchweeks.length>0&&(s.matchweeks.forEach((function(e,t){e.number.toString()===r.toString()&&(i=t)})),s.matchweeks[i].pronogeeks.length>0&&(l=s.matchweeks[i].pronogeeks.filter((function(e){return e.fixture===t})))),l.length>0&&(c=l[0]),g(c),y(c.homeProno),P(c.awayProno);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t)}),[t,G]),Object(n.useEffect)((function(){a&&new Date(l.date).getTime()-Date.now()>0&&(k||0===parseInt(k))&&(S||0===parseInt(S))&&V(!1,1e4)}),[a,S,k,l]),l&&null!=k&&null!=S?r.a.createElement("div",{className:"fixture-line"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("img",{src:l.homeTeam.logo,alt:"logo",className:"team-logo"})),r.a.createElement("th",null,r.a.createElement("small",null,l.homeTeam.stadium,r.a.createElement("br",null),D(l.date).fullDate,r.a.createElement("br",null),"\xe0 ",D(l.date).fullTime)),r.a.createElement("th",null,r.a.createElement("img",{src:l.awayTeam.logo,alt:"logo",className:"team-logo"})))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:"score-teams-row"},r.a.createElement("td",{className:"team-name"},l.homeTeam.name),r.a.createElement("td",{className:"score-fixture"},l.goalsHomeTeam," - ",l.goalsAwayTeam),r.a.createElement("td",{className:"team-name"},l.awayTeam.name)),(l.timeElapsed||"PST"===l.statusShort)&&r.a.createElement("tr",{className:"pb-1"},r.a.createElement("td",null),r.a.createElement("td",{className:"fixture-status"},I(l.statusShort,l.timeElapsed)),r.a.createElement("td",null)),r.a.createElement("tr",{className:"odds-section odds-top"},r.a.createElement("td",null,"Cote domicile :"),r.a.createElement("td",null,"Cote nul :"),r.a.createElement("td",null,"Cote ext\xe9rieur :")),r.a.createElement("tr",{className:"odds-section odds-bottom"},r.a.createElement("td",null,l.oddsWinHome),r.a.createElement("td",null,l.oddsDraw),r.a.createElement("td",null,l.oddsWinAway)),r.a.createElement("tr",{className:"prono-section"},r.a.createElement("td",{className:"prono-input-col"},r.a.createElement("label",null,"Buts domicile :"),r.a.createElement("input",{className:"prono-input",type:"number",name:"homeProno",value:k,min:0,onChange:function(e){return y(e.target.value)},placeholder:"Prono",disabled:E})),r.a.createElement("td",{className:"prono-input-col"},r.a.createElement(F,{saveSuccess:R,matchStarted:E,saveProno:V,saving:H})),r.a.createElement("td",{className:"prono-input-col"},r.a.createElement("label",null,"Buts ext\xe9rieur :"),r.a.createElement("input",{className:"prono-input",type:"number",name:"awayProno",value:S,min:0,onChange:function(e){return P(e.target.value)},placeholder:"Prono",disabled:E}))))),f.points>0&&f.bonusFavTeam&&r.a.createElement("div",{className:"points-cell"},"Tu as scor\xe9 ",r.a.createElement("i",null,f.points,"pts")," ",f.exact&&"(".concat((f.points-30)/2,"*2)"),r.a.createElement("br",null),"dont 30pts bonus pour ton \xe9quipe de ",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:" rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}))),f.points>0&&!f.bonusFavTeam&&r.a.createElement("div",{className:"points-cell"},"Tu as scor\xe9 ",r.a.createElement("i",null,f.points,"pts")," ",f.exact&&"(".concat(f.points/2,"*2)")),0===f.points&&f.addedToProfile&&r.a.createElement("div",{className:"points-cell"},"Dommage, mauvais prono...")):r.a.createElement("div",{style:{padding:20,paddingTop:0}},r.a.createElement(T.a,{active:!0}))},U=function(e){var t=e.fixtureID,a=e.user,s=Object(n.useState)(null),c=Object(p.a)(s,2),l=c[0],o=c[1],i=Object(n.useState)(null),d=Object(p.a)(i,2),f=d[0],g=d[1],b=Object(n.useState)(!1),h=Object(p.a)(b,2),E=h[0],v=h[1],w=Object(n.useState)(null),x=Object(p.a)(w,2),k=x[0],y=x[1],N=Object(n.useState)(null),j=Object(p.a)(N,2),O=j[0],S=j[1];return Object(n.useEffect)((function(){a&&a.seasons.length>0&&function(){var e=Object(m.a)(u.a.mark((function e(t){var n,r,s,c,l,i,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:n=e.sent,r=n.season,s=n.matchweek,new Date(n.date)-Date.now()<0&&v(!0),o(n),(c=a.seasons.filter((function(e){return e.season._id===r}))).length>0&&(c=c[0]),l={homeProno:"",awayProno:""},i=[],m=0,c.matchweeks.length>0&&(c.matchweeks.forEach((function(e,t){e.number.toString()===s.toString()&&(m=t)})),c.matchweeks[m].pronogeeks.length>0&&(i=c.matchweeks[m].pronogeeks.filter((function(e){return e.fixture===t})))),i.length>0&&(l=i[0]),g(l),y(l.homeProno),S(l.awayProno);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t)}),[t,a]),l&&null!=k&&null!=O?r.a.createElement("div",{className:"fixture-line"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("img",{src:l.homeTeam.logo,alt:"logo",className:"team-logo"})),r.a.createElement("th",null,r.a.createElement("small",null,l.homeTeam.stadium,r.a.createElement("br",null),D(l.date).fullDate,r.a.createElement("br",null),"\xe0 ",D(l.date).fullTime)),r.a.createElement("th",null,r.a.createElement("img",{src:l.awayTeam.logo,alt:"logo",className:"team-logo"})))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:"score-teams-row"},r.a.createElement("td",{className:"team-name"},l.homeTeam.name),r.a.createElement("td",{className:"score-fixture"},l.goalsHomeTeam," - ",l.goalsAwayTeam),r.a.createElement("td",{className:"team-name"},l.awayTeam.name)),(l.timeElapsed||"PST"===l.statusShort)&&r.a.createElement("tr",{className:"pb-1"},r.a.createElement("td",null),r.a.createElement("td",{className:"fixture-status"},I(l.statusShort,l.timeElapsed)),r.a.createElement("td",null)),r.a.createElement("tr",{className:"odds-section odds-top"},r.a.createElement("td",null,"Cote domicile :"),r.a.createElement("td",null,"Cote nul :"),r.a.createElement("td",null,"Cote ext\xe9rieur :")),r.a.createElement("tr",{className:"odds-section odds-bottom"},r.a.createElement("td",null,l.oddsWinHome),r.a.createElement("td",null,l.oddsDraw),r.a.createElement("td",null,l.oddsWinAway)),E&&"PST"!==l.statusShort&&r.a.createElement("tr",{className:"prono-section"},r.a.createElement("td",{className:"prono-input-col"},r.a.createElement("label",null,"Buts domicile :"),r.a.createElement("input",{className:"prono-input",type:"number",name:"homeProno",value:k,placeholder:"Prono",disabled:!0})),r.a.createElement("td",{className:"prono-input-col"},f.points>0&&f.bonusFavTeam&&r.a.createElement("div",{style:{margin:"0 10px"}},a.username," a scor\xe9 ",r.a.createElement("i",null,f.points,"pts")," ",f.exact&&"(".concat((f.points-30)/2,"*2)"),r.a.createElement("br",null),"dont 30 pts bonus pour son \xe9quipe de",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:" rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}))),f.points>0&&!f.bonusFavTeam&&r.a.createElement("div",{style:{margin:"0 10px"}},a.username," a scor\xe9 ",r.a.createElement("i",null,f.points,"pts")," ",f.exact&&"(".concat(f.points/2,"*2)")),0===f.points&&f.addedToProfile&&r.a.createElement("div",{style:{margin:"0 10px"}},"Mauvais prono...")),r.a.createElement("td",{className:"prono-input-col"},r.a.createElement("label",null,"Buts ext\xe9rieur :"),r.a.createElement("input",{className:"prono-input",type:"number",name:"awayProno",value:O,placeholder:"Prono",disabled:!0}))),(!E||"PST"===l.statusShort)&&r.a.createElement("tr",{style:{marginTop:10}},r.a.createElement("td",null),r.a.createElement("td",null,"Pronogeek non visible."),r.a.createElement("td",null))))):r.a.createElement("div",{style:{padding:20,paddingTop:0}},r.a.createElement(T.a,{active:!0}))},G=function(e){var t=e.matchweekNumber,a=e.matchweekPoints,n=e.matchweekCorrects,s=e.matchweekBonus,c=e.previousPage,l=e.nextPage,o=e.myClassName,i=e.noPronos;return r.a.createElement("div",{className:"previous-next-btns"},1!==parseInt(t)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:c},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})))),!i&&s>0&&r.a.createElement("div",{className:o},r.a.createElement("p",null,"Total J",t," : ",a," pts",r.a.createElement("br",null),"dont ",s," pts bonus (",n,"/10)")),!i&&!s&&r.a.createElement("div",{className:o},r.a.createElement("p",null,"Total J",t," : ",a," pts (",n,"/10)")),i&&r.a.createElement("div",{className:"score-top"},r.a.createElement("p",null,"Total J",t," : ? pts (?/10)")),38!==parseInt(t)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:l},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})))))},V=function(e){var t=e.user,a=e.getStatus,n=e.getOdds;return"GEEK ADMIN"===t.role&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn admin-btn top",onClick:a},"Actualiser les scores"),r.a.createElement("button",{className:"btn my-btn admin-btn top",onClick:n},"Actualiser les cotes"))},J=a(7),W=a(301),K=a(305),X=function(e){var t=e.confirm,a=void 0!==t&&t,s=Object(n.useContext)(N).user,c=W.a.useForm(),i=Object(p.a)(c,1)[0],d=Object(n.useState)(null),g=Object(p.a)(d,2),h=g[0],E=g[1],v=Object(n.useState)("Charger une photo"),w=Object(p.a)(v,2),x=w[0],k=w[1],y=Object(n.useState)(!1),j=Object(p.a)(y,2),O=j[0],S=j[1],C=Object(n.useState)(a),P=Object(p.a)(C,2),M=P[0],T=P[1],z=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@(([[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t.email).toLowerCase())){e.next=5;break}L("warning","Attention","Je crois qu'il y a une faute de frappe dans ton email..."),e.next=18;break;case 5:if(S(!0),a=null,!h){e.next=13;break}return e.next=10,f.a.post("https://api.cloudinary.com/v1_1/dlyw9xi3k/image/upload",h);case 10:n=e.sent,r=n.data.secure_url,a=r;case 13:return s=!1,e.next=16,b(Object(J.a)(Object(J.a)({},t),{},{photo:a})).catch((function(e){L("error","Erreur",e.response.data.message.fr),s=!0}));case 16:s||T(!0),S(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"register-pages"},O?r.a.createElement(A,{tip:"Enregistrement du compte...",color:"rgb(4, 78, 199)"}):M?r.a.createElement("div",{className:"row signup-form"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-xl-6 offset-xl-3"},r.a.createElement("h3",null,"Merci pour ton inscription ! Un mail t'a \xe9t\xe9 envoy\xe9 pour confirmer ton adresse email."))):s?r.a.createElement(o.a,{to:"/profile"}):r.a.createElement("div",{className:"row signup-form"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-xl-6 offset-xl-3"},r.a.createElement("h2",null,"Cr\xe9er un compte"),r.a.createElement(W.a,{form:i,layout:"vertical",name:"basic",onFinish:z,initialValues:{remember:!0}},r.a.createElement(W.a.Item,{type:"email",label:"Email :",name:"email",rules:[{required:!0,message:"L'email est n\xe9cessaire pour cr\xe9er un compte."}]},r.a.createElement(K.a,{style:{borderRadius:15.8},placeholder:"roi.geek@pronogeeks.fr"})),r.a.createElement(W.a.Item,{label:"Pseudo :",name:"username",rules:[{required:!0,message:"Le pseudo est obligatoire et doit \xeatre unique."}]},r.a.createElement(K.a,{style:{borderRadius:15.8},placeholder:"RoiGeek"})),r.a.createElement(W.a.Item,{label:"Mot de passe :",name:"password",rules:[{required:!0,message:"Tu auras besoin d'un mot de passe pour te connecter !"}]},r.a.createElement(K.a.Password,{style:{borderRadius:15.8},placeholder:"********"})),r.a.createElement("label",{className:"first-file-label signup-file-label",htmlFor:"profile-pic-input-signup"},"Photo de profil :"),r.a.createElement("br",null),r.a.createElement("div",{className:"custom-file custom-file-signup"},r.a.createElement("label",{className:"profile-image custom-file-label",htmlFor:"profile-pic-input-signup"},x,r.a.createElement("input",{id:"profile-pic-input-signup",type:"file",name:"image",className:"custom-file-input",onChange:function(e){if(e.target.files.length>0){console.log("TEST");var t=e.target.files[0];if(t.size>1e6)return L("warning","Attention","La taille du fichier ne peux pas exc\xe9der 1Mo.");if("image/jpeg"!==t.type&&"image/png"!==t.type&&"image/jpg"!==t.type)return L("warning","Attention","La photo doit \xeatre au format JPG ou PNG.");k(t.name);var a=new FormData;a.append("file",e.target.files[0]),a.append("upload_preset","pronogeeks"),E(a)}}}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("button",{type:"submit",className:"btn my-btn submit-btn register-btn",style:{marginTop:10}},"Cr\xe9er mon compte"))),r.a.createElement("div",{className:"social-logins"},r.a.createElement("h4",null,"Cr\xe9er un compte avec :"),r.a.createElement("div",{className:"social-login-links"},r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/facebook")},r.a.createElement("img",{src:"/images/facebook-logo.png",alt:"Facebook"})),r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/google")},r.a.createElement("img",{src:"/images/google-logo.png",alt:"Google"})))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",marginTop:20,marginBottom:20}},r.a.createElement("p",{className:"reset-pwd"},"Tu as d\xe9j\xe0 un compte ?",r.a.createElement("br",null),"Connecte-toi ",r.a.createElement(l.b,{to:"/login"},"ici"),"."))),r.a.createElement(l.b,{to:"/privacy-policy",className:"privacy-policy-link"},"Politique de confidentialit\xe9")))},Y=function(e){var t=e.history,a=W.a.useForm(),s=Object(p.a)(a,1)[0],c=Object(n.useContext)(N),i=c.loginUser,d=c.user,f=function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(a).catch((function(e){return L("error","Erreur",e.response.data.message)}));case 2:n=e.sent,i(n),t.push("/profile");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d?r.a.createElement(o.a,{to:"/profile"}):r.a.createElement("div",{className:"register-pages"},r.a.createElement("div",{className:"row signup-form"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 col-xl-4 offset-xl-4"},r.a.createElement("h2",null,"Se connecter"),r.a.createElement(W.a,{form:s,layout:"vertical",name:"basic",onFinish:f,initialValues:{remember:!0}},r.a.createElement(W.a.Item,{type:"email",label:"Email :",name:"email",rules:[{required:!0,message:"L'email est n\xe9cessaire pour te connecter \xe0 ton compte"}]},r.a.createElement(K.a,{style:{borderRadius:15.8},placeholder:"roi.geek@pronogeeks.fr"})),r.a.createElement(W.a.Item,{label:"Mot de passe :",name:"password",rules:[{required:!0,message:"N'oublie pas ton mot de passe !"}]},r.a.createElement(K.a.Password,{style:{borderRadius:15.8},placeholder:"********"})),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"}},r.a.createElement("button",{type:"submit",className:"btn register-btn my-btn submit-btn"},"Me connecter"),r.a.createElement("p",{className:"reset-pwd"},"Tu as encore oubli\xe9 ton mot de passe ?",r.a.createElement("br",null),"Clique ",r.a.createElement(l.b,{to:"/reset-pwd"},"ici")," pour le renouveler."))),r.a.createElement("div",{className:"social-logins"},r.a.createElement("h4",null,"Se connecter avec :"),r.a.createElement("div",{className:"social-login-links"},r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/facebook")},r.a.createElement("img",{src:"/images/facebook-logo.png",alt:"Facebook"})),r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/google")},r.a.createElement("img",{src:"/images/google-logo.png",alt:"Google"})))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",marginTop:20,marginBottom:20}},r.a.createElement("p",{className:"reset-pwd"},"Ou cr\xe9e un compte ",r.a.createElement(l.b,{to:"/signup"},"ici"),"."))),r.a.createElement(l.b,{to:"/privacy-policy",className:"privacy-policy-link"},"Politique de confidentialit\xe9")))},Z=function(){return Object(n.useContext)(N).user?r.a.createElement(o.a,{to:"/profile"}):r.a.createElement("div",{className:"my-content-homepage"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},r.a.createElement("div",{className:"home-div"},r.a.createElement("div",null,r.a.createElement("h2",null,"Bienvenue sur",r.a.createElement("br",null),r.a.createElement("img",{className:"logo-homepage",src:"/images/logo-blue-home.png",alt:"Logo"})),r.a.createElement("p",{className:"home-message"},"Mesure-toi aux ma\xeetres geeks des pronostics de Ligue 1",r.a.createElement("br",null),"et deviens expert pronogeekeur !")),r.a.createElement("div",{className:"home-register"},r.a.createElement(l.b,{className:"btn my-btn login-btn",to:"/login"},"Se connecter"),r.a.createElement(l.b,{className:"btn my-btn signup-btn",to:"/signup"},"Cr\xe9er un compte")),r.a.createElement("div",{className:"social-logins"},r.a.createElement("h4",null,"Se connecter avec :"),r.a.createElement("div",{className:"social-login-links"},r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/facebook")},r.a.createElement("img",{src:"/images/facebook-logo.png",alt:"Facebook"})),r.a.createElement("a",{href:"".concat("https://pronogeeks.herokuapp.com","/auth/google")},r.a.createElement("img",{src:"/images/google-logo.png",alt:"Google"}))))))))},$=f.a.create({baseURL:"/api/user",withCredentials:!0}),Q=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/users");case 2:return t=e.sent,a=t.data.users,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/geek/".concat(t));case 2:return a=e.sent,n=a.data.user,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/".concat(t));case 2:return a=e.sent,n=a.data.newSeason,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/".concat(t,"/").concat(a));case 2:return n=e.sent,r=n.data.matchweek,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ne=function(){var e=Object(m.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.put("/".concat(t,"/favTeam"),a);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),re=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/players/".concat(t));case 2:return a=e.sent,n=a.data.users,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.next=3,$.put("/".concat(t,"/").concat(a));case 3:return n=!0,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ce=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.delete("/".concat(t));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(e){var t=e.loading,a=e.history,s=Object(n.useContext)(N),c=s.user,o=s.loginUser,i=s.logoutUser,d=Object(n.useState)(!1),g=Object(p.a)(d,2),b=g[0],h=g[1],x=Object(n.useState)(!1),k=Object(p.a)(x,2),y=k[0],j=k[1],O=Object(n.useState)(!1),S=Object(p.a)(O,2),C=S[0],P=S[1],M=Object(n.useState)(""),T=Object(p.a)(M,2),z=T[0],D=T[1],_=Object(n.useState)(!1),I=Object(p.a)(_,2),F=I[0],R=I[1],U=Object(n.useState)(null),G=Object(p.a)(U,2),V=G[0],J=G[1],W=Object(n.useState)(null),K=Object(p.a)(W,2),X=K[0],Y=K[1],Z=Object(n.useState)(null),$=Object(p.a)(Z,2),Q=$[0],ee=$[1],te=Object(n.useState)(null),ae=Object(p.a)(te,2),ne=ae[0],se=ae[1],le=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=t.target.files[0]).size>1e6)){e.next=3;break}return e.abrupt("return",L("warning","Attention","La taille du fichier ne peux pas exc\xe9der 1Mo. La photo de profil reste inchang\xe9e."));case 3:if("image/jpeg"===a.type||"image/png"===a.type||"image/jpg"===a.type){e.next=5;break}return e.abrupt("return",L("warning","Attention","Le fichier doit \xeatre au format JPG ou PNG. La photo de profil reste inchang\xe9e."));case 5:return h(!0),(n=new FormData).append("file",t.target.files[0]),n.append("upload_preset","pronogeeks"),e.next=11,f.a.post("https://api.cloudinary.com/v1_1/dlyw9xi3k/image/upload",n);case 11:return r=e.sent,s=r.data.secure_url,e.next=15,v({photo:s});case 15:c=e.sent,o(c),h(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,e.next=3,E({username:z}).catch((function(e){t=!1,L("warning","Attention",e.response.data.message.fr)}));case 3:if(!t){e.next=11;break}return R(!0),e.next=7,w();case 7:a=e.sent,o(a),j(!1),R(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c._id,i(),a.push("/"),e.next=5,ce(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){D(null===c||void 0===c?void 0:c.username),function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===c||void 0===c?void 0:c.seasons.length)>0)){e.next=12;break}return t=c.seasons[c.seasons.length-1].season._id.toString(),J(c.seasons[c.seasons.length-1].season._id.toString()),e.next=5,re(t);case 5:a=e.sent,n=a.sort((function(e,a){return a.seasons.filter((function(e){return e.season.toString()===t}))[0].totalPoints-e.seasons.filter((function(e){return e.season.toString()===t}))[0].totalPoints})),r=n.map((function(e){return e.username})).indexOf(c.username)+1,s=n.slice(0,20),se(r),Y(n),ee(s);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[c]);var ue=function(e){return 1===parseInt(e)?"1er(e)":"".concat(e,"\xe8me")};return F||t?r.a.createElement("div",{className:"my-profile-page"},r.a.createElement(A,null)):r.a.createElement("div",{className:"my-profile-page row"},r.a.createElement("div",{className:"my-profile col-10 offset-1 col-lg-4"},r.a.createElement("section",{className:"about-section"},r.a.createElement("h2",null,"Bonjour ",c.username,r.a.createElement("button",{onClick:function(){return j(!y)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"30px",height:"30px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})))),r.a.createElement("div",{className:"profile-details"},r.a.createElement("div",{className:"profile-picture-container"},!b&&r.a.createElement("img",{src:c.photo,alt:"Profile pic",className:"profile-pic"}),b&&r.a.createElement("div",{className:"profile-pic"},r.a.createElement(H.b,{size:"medium"},r.a.createElement(B.a,{size:"medium",tip:"Chargement de la photo...",style:{color:"rgb(26, 145, 254)"},indicator:r.a.createElement(q.a,{style:{color:"rgb(26, 145, 254)",fontSize:"2rem",marginBottom:8},spin:!0})}))),r.a.createElement("label",{className:"first-file-label",htmlFor:"profile-pic-input"},"Changer de photo de profil :"),r.a.createElement("div",{className:"custom-file"},r.a.createElement("label",{className:"profile-image custom-file-label",htmlFor:"profile-pic-input"},"Charger une photo",r.a.createElement("input",{id:"profile-pic-input",type:"file",name:"image",className:"custom-file-input",onChange:le})))),c.seasons.length>0&&c.seasons[c.seasons.length-1].favTeam&&r.a.createElement("div",{className:"favteam-info"},r.a.createElement("div",null,r.a.createElement("img",{src:c.seasons[c.seasons.length-1].favTeam.logo,alt:"Logo \xe9quipe de coeur"})),r.a.createElement("h5",null,c.seasons[c.seasons.length-1].favTeam.name," est ton \xe9quipe de coeur",r.a.createElement("br",null),"pour la saison ",c.seasons[c.seasons.length-1].season.year," de ",c.seasons[c.seasons.length-1].season.leagueName,".")))),r.a.createElement("section",{className:"geekleagues-section"},r.a.createElement("h2",null,"Ligues Geek"),r.a.createElement(l.b,{to:"/myGeekLeagues/new",className:"btn my-btn new-league"},"Nouvelle ligue"),c.geekLeagues.length>0&&r.a.createElement("ul",{className:"list-group list-group-flush geekleagues-list-profile mt-4"},V&&!X&&r.a.createElement("div",{className:"pt-4"},r.a.createElement(H.b,{size:"large"},r.a.createElement(B.a,{size:"large",tip:"Chargement des ligues...",style:{color:"white",fontSize:"1.2rem"},indicator:r.a.createElement(q.a,{style:{color:"white",fontSize:"3rem",marginBottom:8},spin:!0})}))),X&&r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center mb-2"},r.a.createElement("span",null,r.a.createElement("b",null,"Mes ligues")),r.a.createElement("span",null,r.a.createElement("b",null,"Mon classement"))),X&&c.geekLeagues.map((function(e){return r.a.createElement(l.b,{to:"/myGeekLeagues/".concat(e._id),key:e._id},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("span",{style:{color:"rgb(4, 78, 199)"}},e.name),r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},ue(X.filter((function(t){var a=!1;return e.geeks.forEach((function(e){e._id===t._id&&(a=!0)})),a})).map((function(e){return e._id})).indexOf(c._id)+1)," / ",e.geeks.length)))}))))),r.a.createElement("div",{className:"col-10 offset-1 col-lg-4 offset-lg-2",style:{paddingLeft:0,paddingRight:0}},V&&r.a.createElement("section",{className:"my-profile-ranking pt-4"},!Q&&r.a.createElement("div",null,r.a.createElement(H.b,{size:"large"},r.a.createElement(B.a,{size:"large",tip:"Chargement du classement...",style:{color:"white",fontSize:"1.2rem"},indicator:r.a.createElement(q.a,{style:{color:"white",fontSize:"3rem",marginBottom:8},spin:!0})}))),Q&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{style:{marginTop:0}},c.seasons[c.seasons.length-1].season.leagueName," saison ",c.seasons[c.seasons.length-1].season.year,r.a.createElement("br",null),"Classement g\xe9n\xe9ral"),r.a.createElement("ul",{className:"list-group list-group-flush season-ranking"},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center mb-2"},r.a.createElement("span",null,r.a.createElement("b",null,ue(ne)," : ",c.username)),r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},c.seasons[c.seasons.length-1].totalPoints," pts")),Q.map((function(e,t){return r.a.createElement("li",{key:e._id,className:"list-group-item d-flex justify-content-between align-items-center"},e._id===c._id&&r.a.createElement("span",null,r.a.createElement("b",null,ue(t+1)," : ",e.username)),e._id!==c._id&&r.a.createElement("span",null,ue(t+1)," : ",e.username),r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},e.seasons.filter((function(e){return e.season.toString()===V.toString()}))[0].totalPoints," pts"))}))))),r.a.createElement("div",{className:"delete-account"},r.a.createElement("button",{onClick:function(){return P(!C)},className:"btn my-btn delete-account-btn"},"Supprimer compte"))),y&&r.a.createElement("div",{id:"update-username-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"update-username-modal-title","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},"Changer de pseudo :"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return j(!1)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("label",{htmlFor:"pseudo-input-profile"},"Entrer un nouveau pseudo :"),r.a.createElement("input",{type:"text",id:"pseudo-input-profile",name:"username",value:z,onChange:function(e){return D(e.target.value)}})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"my-btn close",onClick:function(){return j(!1)}},"Fermer"),r.a.createElement("button",{type:"button",className:"my-btn save",onClick:oe},"Enregistrer"))))),C&&r.a.createElement("div",{id:"delete-account-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"delete-account-modal-title","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},"Supprimer mon compte"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return P(!1)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),"Es-tu s\xfbr de vouloir supprimer ton compte ? Toutes tes donn\xe9es seront perdues...")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"my-btn close-delete",onClick:function(){return P(!1)}},"Annuler"),r.a.createElement("button",{type:"button",className:"my-btn delete-account-btn",onClick:ie},"Supprimer"))))))},oe=f.a.create({baseURL:"/api/seasons",withCredentials:!0}),ie=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.get("/".concat(t));case 2:return a=e.sent,n=a.data.season,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.get("/");case 2:return t=e.sent,a=t.data.seasons,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.get("/".concat(t,"/").concat(a));case 2:return n=e.sent,r=n.data.fixtures,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),pe=function(e){var t=e.match.params.seasonID,a=e.loading,s=Object(n.useContext)(N).loginUser,c=Object(n.useState)(null),l=Object(p.a)(c,2),i=l[0],d=l[1],f=Object(n.useState)(!1),g=Object(p.a)(f,2),b=g[0],h=g[1],E=Object(n.useState)(null),v=Object(p.a)(E,2),x=v[0],k=v[1],y=function(e){var t=Object(n.useState)(e),a=Object(p.a)(t,2),r=a[0],s=a[1];return{value:r,onChange:function(e){return s(e.target.value)}}}("");Object(n.useEffect)((function(){var e=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(function(){var a=Object(m.a)(u.a.mark((function a(){var n,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(t);case 2:return n=a.sent,h(n),a.next=6,w();case 6:r=a.sent,s(r);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()(),function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t);case 2:a=e.sent,d(a.rankedTeams),n=a.fixtures.filter((function(e){return new Date(e.date).getTime()+72e5>Date.now()})),r=n[0].matchweek,s=n[0].date,n.forEach((function(e){return r=e.matchweek<r&&new Date(e.date).getTime()<new Date(s).getTime()?e.matchweek:r})),k(r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t)}),[t,s]);var j=function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==y.value){e.next=4;break}return e.abrupt("return",L("warning","Attention","Tu dois choisir une \xe9quipe de coeur avant de continuer."));case 4:return e.next=6,ne(t,{favTeam:y.value});case 6:return L("success","\xc9quipe de coeur enregistr\xe9e."),e.next=9,w();case 9:a=e.sent,s(a),h(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"pronogeeks-bg"},i&&!a&&x?b?r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"choose-favteam"},r.a.createElement("label",{htmlFor:"favteam-select"},"Choisis une \xe9quipe de coeur pour cette saison.",r.a.createElement("br",null),"NB : Chaque bon prono sur un match de ton \xe9quipe de coeur te rapporte un bonus de 30 pts.",r.a.createElement("br",null),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),"\xa0 R\xe9fl\xe9chis bien, tu ne pourras plus changer ensuite..."),r.a.createElement("br",null),r.a.createElement("select",Object.assign({name:"favTeam",id:"favteam-select"},y),r.a.createElement("option",{value:"",disabled:!0},"S\xe9lectionner une \xe9quipe"),i.map((function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)}))),r.a.createElement("br",null),r.a.createElement("button",{className:"btn my-btn save-favteam-btn",onClick:j},"Confirmer"))):r.a.createElement(o.a,{to:"/pronogeeks/".concat(t,"/matchweek/").concat(x)}):r.a.createElement(A,{color:"rgb(4, 78, 199)"}))},de=a(8),fe=f.a.create({baseURL:"/api/fetch",withCredentials:!0}),ge=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.get("/fixtures/season/".concat(t,"/matchweek/").concat(a));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),be=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.get("/odds/season/".concat(t,"/matchweek/").concat(a));case 2:return n=e.sent,r=n.data.message,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),he=function(e){var t=e.match.params,a=t.matchweekNumber,s=t.seasonID,c=e.history,l=e.loading,o=Object(n.useState)(null),i=Object(p.a)(o,2),d=i[0],f=i[1],g=Object(n.useState)(null),b=Object(p.a)(g,2),h=b[0],E=b[1],v=Object(n.useState)(null),x=Object(p.a)(v,2),k=x[0],y=x[1],j=Object(n.useState)(null),O=Object(p.a)(j,2),S=O[0],C=O[1],P=Object(n.useState)(null),M=Object(p.a)(P,2),T=M[0],z=M[1],D=Object(n.useState)(!1),I=Object(p.a)(D,2),H=I[0],B=I[1],q=Object(n.useState)(!1),F=Object(p.a)(q,2),U=F[0],J=F[1],W=Object(n.useState)(!1),K=Object(p.a)(W,2),X=K[0],Y=K[1],Z=Object(n.useState)(null),$=Object(p.a)(Z,2),Q=$[0],ee=$[1],ne=Object(n.useState)(null),re=Object(p.a)(ne,2),se=re[0],ce=re[1],le=Object(n.useState)(!1),oe=Object(p.a)(le,2),ue=oe[0],pe=oe[1],fe=Object(n.useContext)(N),he=fe.loginUser,Ee=fe.user,ve=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(t,a);case 2:return(n=e.sent).sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()})),E(null),E(n),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),we=function(e){var t=e.seasons.filter((function(e){return e.season._id.toString()===s.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===a.toString()}))[0];y(t.totalPoints),C(t.bonusPoints),z(t.numberCorrects)},xe=function(){var e=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(s,a);case 2:if(!(t=e.sent).message){e.next=7;break}return e.abrupt("return",L("warning","Actualisation abort\xe9e",t.message.fr));case 7:return E(null),E(t.fixtures),L("success","Scores et dates actualis\xe9s"),e.next=12,w();case 12:n=e.sent,he(n),we(n);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(s,a);case 2:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",L("warning","Actualisation abort\xe9e",t.fr));case 7:return e.next=9,ve(s,a);case 9:e.sent&&L("success","Cotes actualis\xe9es");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=function(e){var t=e.seasons.filter((function(e){return e.season._id.toString()===s.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===a.toString()}))[0];y(t.totalPoints),C(t.bonusPoints),z(t.numberCorrects)},t=function(){var t=Object(m.a)(u.a.mark((function t(){var n,r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ge(s,a);case 2:return n=t.sent,r=n.fixtures,E(null),E(r),L("success","Scores et dates actualis\xe9s"),t.next=9,w();case 9:c=t.sent,he(c),e(c);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(s,a);case 2:return e.next=4,ve(s,a);case 4:e.sent&&L("success","Cotes actualis\xe9es");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(h&&Ee){var r=h.map((function(e){return new Date(e.date).getTime()})),c=Math.min.apply(Math,Object(de.a)(r)),l=Math.max.apply(Math,Object(de.a)(r)),o=c-Date.now()<6048e5,i=h.map((function(e){return new Date(e.lastScoreUpdate).getTime()})),p=Math.max.apply(Math,Object(de.a)(i));ce(p);var d=Date.now()-l<1728e5,f=Date.now()-p>18e5;o&&d&&f&&!U&&("SUPER GEEK"===Ee.role||"GEEK ADMIN"===Ee.role)&&(J(!0),t(),ce(Date.now()));var g=h.map((function(e){return new Date(e.lastOddsUpdate).getTime()})),b=Math.max.apply(Math,Object(de.a)(g));ee(b);var v=Date.now()-l>0,x=Date.now()-b>864e5;!o||v||!x||X||"SUPER GEEK"!==Ee.role&&"GEEK ADMIN"!==Ee.role||(Y(!0),n(),ee(Date.now()))}}),[h,U,X,a,s,Ee]),Object(n.useEffect)((function(){var e=function(e){var t=e.seasons.filter((function(e){return e.season._id.toString()===s.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===a.toString()}))[0];y(t.totalPoints),C(t.bonusPoints),z(t.numberCorrects)},t=function(){var e=Object(m.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(t);case 2:return e.next=4,ae(t,a);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();(function(){var n=Object(m.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(s,a);case 2:return n.next=4,w();case 4:r=n.sent,he(r),e(r);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()(),function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t);case 2:a=e.sent,f(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s),ve(s,a)}),[a,s]);var ye=function(){E(null),c.push("/pronogeeks/".concat(s,"/matchweek/").concat(parseInt(a)-1))},Ne=function(){E(null),c.push("/pronogeeks/".concat(s,"/matchweek/").concat(parseInt(a)+1))};return h&&d&&!l?r.a.createElement("div",{className:"pronogeeks-bg matchweek-page"},r.a.createElement("div",{className:"save-all"},r.a.createElement("button",{onClick:function(){var e=h.map((function(e){return new Date(e.date).getTime()}));if(Math.max.apply(Math,Object(de.a)(e))<Date.now())return L("warning","Pronos termin\xe9s pour cette journ\xe9e.");pe(!0),setTimeout((function(){return pe(!1)}),1e3)},className:"btn my-btn save-all-btn"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"40px",height:"40px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"})),"\xa0",r.a.createElement("span",null,"Enregistrer tout")),r.a.createElement("div",{className:"save-all-info"},r.a.createElement("p",null,"Enregistrer tous les pronos de la journ\xe9e."))),r.a.createElement(V,{user:Ee,getStatus:xe,getOdds:ke}),r.a.createElement("h2",null,r.a.createElement("svg",{onClick:function(){return B(!H)},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgb(4, 78, 199)",width:"40px",height:"40px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"})),d.leagueName," saison ",d.year," :",r.a.createElement("br",null),"journ\xe9e ",a),r.a.createElement("ul",{onClick:function(){return B(!1)},className:"list-group list-group-flush list-fixtures col-10 offset-1 col-md-8 offset-md-2 col-xl-6 offset-xl-3"},r.a.createElement(G,{matchweekNumber:a,matchweekPoints:k,matchweekCorrects:T,matchweekBonus:S,previousPage:ye,nextPage:Ne,myClassName:"score-top"}),r.a.createElement("div",{className:"list-fixtures-header"},r.a.createElement("div",{className:"header-title"},"Domicile"),r.a.createElement("div",null,"|"),r.a.createElement("div",{className:"header-title"},"Ext\xe9rieur")),h.map((function(e){return r.a.createElement("li",{className:"list-group-item",key:e._id,style:{background:"none"}},r.a.createElement(R,{fixtureID:e._id,saveAll:ue}))})),r.a.createElement(G,{matchweekNumber:a,matchweekPoints:k,matchweekCorrects:T,matchweekBonus:S,previousPage:ye,nextPage:Ne,myClassName:"score-bottom"})),r.a.createElement(V,{user:Ee,getStatus:xe,getOdds:ke}),H&&r.a.createElement("div",{className:"rules-box"},r.a.createElement("span",{onClick:function(){return B(!1)}},"X"),r.a.createElement("h4",null,"R\xe8gles des pronogeeks :"),r.a.createElement("hr",null),r.a.createElement("ul",null,r.a.createElement("li",null,"Les statuts et r\xe9sultats des matchs sont actualis\xe9s en moyenne toutes les 30 minutes (\xe0 partir de 7 jours avant le d\xe9but de la journ\xe9e) et les points de pronogeeks avec. (derni\xe8re mise \xe0 jour le ",_(se),")"),r.a.createElement("br",null),r.a.createElement("li",null,"Les cotes sont actualis\xe9es une fois par jour (\xe0 partir de 7 jours avant le d\xe9but de la journ\xe9e). \xc0 partir de 30 minutes avant le d\xe9but d'un match, ses cotes ne changent plus. (derni\xe8re mise \xe0 jour le ",_(Q),")"),r.a.createElement("br",null),r.a.createElement("li",null,"Il n'est plus possible de changer son pronogeek apr\xe8s le coup d'envoi."),r.a.createElement("br",null),r.a.createElement("li",null,"Un pronogeek ",r.a.createElement("b",null,"correct")," (bon vainqueur ou match nul) rapporte le nombre de points indiqu\xe9s dans les cotes de la rencontre."),r.a.createElement("br",null),r.a.createElement("li",null,"Un pronogeek ",r.a.createElement("b",null,"exact")," (score exact bien pronogeek\xe9) rapporte le double de la cote correspondante."),r.a.createElement("br",null),r.a.createElement("li",null,"Un pronogeek correct sur un match de son ",r.a.createElement("b",null,"\xe9quipe de coeur")," (qu'elle soit gagnante ou perdante) rapporte 30 points bonus."),r.a.createElement("br",null),r.a.createElement("li",null,"D\xe9tail des bonus par journ\xe9e de ",d.leagueName," :",r.a.createElement("ul",null,r.a.createElement("li",null,"Moins de 5 pronos corrects : 0pt bonus"),r.a.createElement("li",null,"5 pronos corrects: 50pts bonus"),r.a.createElement("li",null,"6 pronos corrects: 100pts bonus"),r.a.createElement("li",null,"7 pronos corrects: 200pts bonus"),r.a.createElement("li",null,"8 pronos corrects: 300pts bonus"),r.a.createElement("li",null,"9 pronos corrects: 500pts bonus"),r.a.createElement("li",null,"10 pronos corrects: 700pts bonus")))))):r.a.createElement("div",{className:"pronogeeks-bg"},r.a.createElement(A,{color:"rgb(4, 78, 199)"}))},Ee=a(303),ve=f.a.create({baseURL:"/api/geekLeagues",withCredentials:!0}),we=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.post("/",t);case 2:return a=e.sent,n=a.data.geekLeague,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.get("/".concat(t));case 2:return a=e.sent,n=a.data.geekLeague,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){var r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.get("/ranking/".concat(t,"/season/").concat(a,"/matchweek/").concat(n));case 2:return r=e.sent,s=r.data.geeks,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ye=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.get("/");case 2:return t=e.sent,a=t.data.geekLeagues,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){var r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.put("/".concat(t),{name:a,geeks:n});case 2:return r=e.sent,s=r.data.geekLeague,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),je=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.get("out/".concat(t));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.delete("/".concat(t));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=Ee.a.Option,Ce=function(e){var t=e.history,a=e.loading,s=Object(n.useContext)(N),c=s.user,l=s.loginUser,o=W.a.useForm(),i=Object(p.a)(o,1)[0],d=Object(n.useState)(null),f=Object(p.a)(d,2),g=f[0],b=f[1],h=Object(n.useState)(!1),E=Object(p.a)(h,2),v=E[0],x=E[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:t=e.sent,a=t.filter((function(e){return e._id!==(null===c||void 0===c?void 0:c._id)})),b(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]);var k=function(){var e=Object(m.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.name&&a.geeks&&!(a.geeks.length<1)){e.next=2;break}return e.abrupt("return",L("warning","Attention","Tous les champs sont requis."));case 2:return x(!0),e.next=5,we(a);case 5:return n=e.sent,L("success",'Ligue "'.concat(a.name,'" cr\xe9\xe9e')),t.push("/myGeekLeagues/".concat(n._id)),x(!1),e.next=11,w();case 11:r=e.sent,l(r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"geekleague-bg"},!g||v||a?r.a.createElement(A,null):r.a.createElement("div",{className:"geekleague-form"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-xl-6 offset-xl-3"},r.a.createElement("h2",null,"Cr\xe9er une ligue"),r.a.createElement(W.a,{form:i,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:k},r.a.createElement(W.a.Item,{type:"text",label:"Nom de la ligue :",name:"name",rules:[{required:!0,message:"Le nom de ligue est n\xe9cessaire."}]},r.a.createElement(K.a,{style:{borderRadius:15.8},placeholder:"Ma Ligue Geek"})),r.a.createElement(W.a.Item,{type:"text",label:"S\xe9lectionne d'autres geeks :",name:"geeks",rules:[{required:!0,message:"Tu ne peux pas cr\xe9er de ligue sans autres geeks."}]},r.a.createElement(Ee.a,{mode:"multiple",style:{width:"100%",borderRadius:15.8,overflow:"hidden",textAlign:"left"},placeholder:"Ajoute des geeks \xe0 ta ligue !",optionLabelProp:"label",optionFilterProp:"label"},null===g||void 0===g?void 0:g.map((function(e){return r.a.createElement(Se,{key:e._id,value:e._id,label:e.username},r.a.createElement("div",{className:"demo-option-label-item"},r.a.createElement("span",{role:"img","aria-label":e.username},r.a.createElement("img",{src:e.photo,alt:"profile",className:"profile-pic-preview"})),"\xa0\xa0",e.username))})))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("button",{type:"submit",className:"btn my-btn create-league-btn",style:{marginTop:10}},"Cr\xe9er ligue"))))))},Pe=Ee.a.Option,Me=function(e){var t=e.match.params.geekLeagueID,a=e.history,s=e.loading,c=Object(n.useContext)(N),o=c.user,i=c.loginUser,d=Object(n.useState)(null),f=Object(p.a)(d,2),g=f[0],b=f[1],h=Object(n.useState)(null),E=Object(p.a)(h,2),v=E[0],x=E[1],k=Object(n.useState)(!1),y=Object(p.a)(k,2),j=y[0],O=y[1],S=Object(n.useState)(!1),C=Object(p.a)(S,2),P=C[0],M=C[1],T=Object(n.useState)(!1),z=Object(p.a)(T,2),L=z[0],D=z[1],_=Object(n.useState)(null),I=Object(p.a)(_,2),H=I[0],B=I[1],q=W.a.useForm(),F=Object(p.a)(q,1)[0];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(t);case 2:a=e.sent,b(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=6;break}return e.next=3,Q();case 3:t=e.sent,a=t.filter((function(e){var t=!0;return g.geeks.forEach((function(a){a._id.toString()===e._id.toString()&&(t=!1)})),t})),B(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[g]);var R=function(){var e=Object(m.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(t,a.name,a.geeks);case 2:return n=e.sent,O(!1),b(n),e.next=7,w();case 7:r=e.sent,i(r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(t);case 2:return e.next=4,w();case 4:n=e.sent,i(n),a.push("/myGeekLeagues");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(t);case 2:return e.next=4,w();case 4:n=e.sent,i(n),a.push("/myGeekLeagues");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(e){return 1===parseInt(e)?"1er(e)":"".concat(e,"\xe8me")};return r.a.createElement("div",{className:"geekleague-bg geekleague-details"},g&&v&&!s?r.a.createElement("div",{className:"geekleague-page container"},r.a.createElement("h2",null,'Ligue "',g.name,'"',g.creator.toString()===o._id.toString()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){O(!j),M(!1)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"30px",height:"30px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}))),r.a.createElement("button",{onClick:function(){M(!P),O(!1)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"30px",height:"30px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})))),g.creator.toString()!==o._id.toString()&&r.a.createElement("button",{onClick:function(){return D(!L)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"30px",height:"30px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})))),r.a.createElement("div",{className:"row geekleague-seasons",onClick:function(){O(!1),M(!1),D(!1)}},v.map((function(e){return r.a.createElement("div",{key:e._id,className:"league-season-ranking-container col-12 col-lg-6"},r.a.createElement("div",{className:"league-season-ranking"},r.a.createElement("h4",null,e.leagueName," saison ",e.year,r.a.createElement("br",null),"Classement g\xe9n\xe9ral"),r.a.createElement("ul",{className:"list-group list-group-flush geekleague-ranking-detail mt-2"},g.geeks.sort((function(t,a){var n;return t.seasons||a.seasons?t.seasons?a.seasons?t.seasons.length>0&&a.seasons.length>0?n=a.seasons.filter((function(t){return t.season.toString()===e._id.toString()}))[0].totalPoints-t.seasons.filter((function(t){return t.season.toString()===e._id.toString()}))[0].totalPoints:t.seasons.length>0&&a.seasons.length<1?n=-1:t.seasons.length<1&&a.seasons.length>0?n=1:t.seasons.length<1&&a.seasons.length<1&&(n=-1):n=-1:n=1:n=-1,n})).map((function(t,a){var n;return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",key:t._id},t._id===o._id&&r.a.createElement("span",null,r.a.createElement("b",null,V(a+1)," : ",t.username)),t._id!==o._id&&r.a.createElement("span",null,V(a+1)," : ",t.username),t.seasons.length>0&&r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},null===(n=t.seasons.filter((function(t){return t.season.toString()===e._id.toString()}))[0])||void 0===n?void 0:n.totalPoints," pts"),t.seasons.length<1&&r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},"0 pts"))}))),r.a.createElement(l.b,{to:"/myGeekLeagues/".concat(t,"/season/").concat(e._id)},r.a.createElement("button",{className:"btn my-btn see-more-btn"},"D\xe9tails par journ\xe9e"))))}))),j&&r.a.createElement("div",{className:"my-modal-edit-geekleague"},r.a.createElement("div",{className:"my-modal-body"},r.a.createElement("span",{className:"close-edit-modal",onClick:function(){return O(!1)}},"X"),r.a.createElement("h5",{className:"modal-title"},'Modifier "',g.name,'" :'),r.a.createElement("hr",null),r.a.createElement(W.a,{form:F,layout:"vertical",name:"basic",onFinish:R,initialValues:{remember:!0}},r.a.createElement(W.a.Item,{type:"text",label:"Nom de la ligue :",name:"name",color:"black"},r.a.createElement(K.a,{style:{borderRadius:15.8},placeholder:g.name})),r.a.createElement(W.a.Item,{type:"text",label:"Ajoute d'autres geeks :",name:"geeks"},r.a.createElement(Ee.a,{mode:"multiple",style:{width:"100%",borderRadius:15.8,overflow:"hidden",textAlign:"left",outline:"none"},placeholder:"Ajoute des geeks \xe0 ta ligue !",optionLabelProp:"label",optionFilterProp:"label"},null===H||void 0===H?void 0:H.map((function(e){return r.a.createElement(Pe,{key:e._id,value:e._id,label:e.username},r.a.createElement("div",{className:"demo-option-label-item"},r.a.createElement("span",{role:"img","aria-label":e.username},r.a.createElement("img",{src:e.photo,alt:"profile",className:"profile-pic-preview"})),"\xa0\xa0",e.username))})))),r.a.createElement("button",{type:"submit",className:" my-btn save"},"Enregistrer")))),P&&r.a.createElement("div",{className:"my-modal-delete-geekleague"},r.a.createElement("div",{className:"my-modal-body"},r.a.createElement("span",{className:"close-delete-modal",onClick:function(){return M(!1)}},"X"),r.a.createElement("h5",{className:"modal-title"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),'\xa0 Es-tu s\xfbr de vouloir supprimer "',g.name,'" ?'),r.a.createElement("hr",null),r.a.createElement("button",{type:"button",className:"my-btn delete",onClick:U},"Oui, supprimer"),r.a.createElement("button",{type:"button",className:"my-btn return",onClick:function(){return M(!1)}},"Non ! Annuler"))),L&&r.a.createElement("div",{className:"my-modal-delete-geekleague"},r.a.createElement("div",{className:"my-modal-body"},r.a.createElement("span",{className:"close-delete-modal",onClick:function(){return D(!1)}},"X"),r.a.createElement("h5",{className:"modal-title"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),'\xa0 Es-tu s\xfbr de vouloir sortir de "',g.name,'" ?'),r.a.createElement("hr",null),r.a.createElement("button",{type:"button",className:"my-btn delete",onClick:G},"Oui, sortir"),r.a.createElement("button",{type:"button",className:"my-btn return",onClick:function(){return D(!1)}},"Non ! Annuler")))):r.a.createElement(A,null))},Te=function(e){var t=e.loading,a=Object(n.useState)(null),s=Object(p.a)(a,2),c=s[0],o=s[1];return Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"geekleague-bg geekleagues-list"},!c||t?r.a.createElement(A,null):r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Mes Ligues Geek"),r.a.createElement("div",{className:"my-geekleagues row"},c.map((function(e){return r.a.createElement("div",{key:e._id,className:"col-10 col-lg-6 geekleague-card-container"},r.a.createElement("div",{className:"geekleague-card"},r.a.createElement("h4",null,e.name),r.a.createElement("h6",null,"Cr\xe9\xe9e par ",e.creator.username," en ",new Date(e.createdAt).getMonth()+1>9?new Date(e.createdAt).getMonth()+1:"0".concat(new Date(e.createdAt).getMonth()+1),"/",new Date(e.createdAt).getFullYear()),r.a.createElement(l.b,{to:"/myGeekLeagues/".concat(e._id),className:"btn my-btn new-league geekleagues-page-btn"},"Voir le d\xe9tail")))}))),r.a.createElement(l.b,{to:"/myGeekLeagues/new",className:"btn my-btn new-league geekleagues-page-btn"},"Cr\xe9er une ligue")))},ze=function(e){var t=e.match.params,a=t.geekLeagueID,s=t.seasonID,c=e.loading,o=Object(n.useContext)(N).user,i=Object(n.useState)(null),d=Object(p.a)(i,2),f=d[0],g=d[1],b=Object(n.useState)(null),h=Object(p.a)(b,2),E=h[0],v=h[1],w=Object(n.useState)(null),x=Object(p.a)(w,2),k=x[0],y=x[1],j=Object(n.useState)(null),O=Object(p.a)(j,2),S=O[0],C=O[1],P=Object(n.useState)(null),M=Object(p.a)(P,2),T=M[0],z=M[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t);case 2:a=e.sent,g(a),(n=a.fixtures.filter((function(e){return new Date(e.date).getTime()<Date.now()}))).length>0?(r=n[n.length-1].matchweek,v(r),y(r)):(v(1),y(1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(s),function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(t);case 2:a=e.sent,C(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(a)}),[a,s]),Object(n.useEffect)((function(){E&&function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(a,s,E);case 2:t=e.sent,z(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[E,a,s]);var L=function(e){return 1===parseInt(e)?"1er(e)":"".concat(e,"\xe8me")};return r.a.createElement("div",{className:"geekleague-bg geekleague-details"},!c&&S&&E&&f&&T&&k?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10 offset-1 col-lg-6 offset-lg-3"},r.a.createElement("h2",null,"Classement ",S.name),r.a.createElement("div",{className:"ranking-geekleague-matchweek"},r.a.createElement("div",null,r.a.createElement("div",{className:"previous-next-btns geekleague-btns"},E>1&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:function(){z(null),v(E-1)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})))),r.a.createElement("h4",null,"J",E," de ",f.leagueName,", saison ",f.year),E<k&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:function(){z(null),v(E+1)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})))))),r.a.createElement("ul",{className:"list-group list-group-flush geekleague-ranking-detail mt-2"},T.map((function(e,t){return r.a.createElement("li",{key:e._id,className:"list-group-item d-flex justify-content-between align-items-center"},o._id===e._id&&r.a.createElement("span",null,r.a.createElement("b",null,L(t+1)," : ",e.username)),o._id!==e._id&&r.a.createElement("span",null,L(t+1)," : ",e.username,"\xa0",r.a.createElement(l.b,{to:"/geek/".concat(e._id,"/pronogeeks/").concat(s,"/matchweek/").concat(E)},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgba(156, 0, 99, 0.8)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})))),e.seasons.length>0&&e.seasons.filter((function(e){return e.season.toString()===s.toString()})).length>0&&e.seasons.filter((function(e){return e.season.toString()===s.toString()}))[0].matchweeks.length>0&&e.seasons.filter((function(e){return e.season.toString()===s.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===E.toString()})).length>0&&r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},e.seasons.filter((function(e){return e.season.toString()===s.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===E.toString()}))[0].totalPoints," pts"),(e.seasons.length<1||e.seasons.filter((function(e){return e.season.toString()===s.toString()})).length<1||e.seasons.filter((function(e){return e.season.toString()===s.toString()}))[0].matchweeks.length<1||e.seasons.filter((function(e){return e.season.toString()===s.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===E.toString()})).length<1)&&r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},"0 pts"))}))))))):r.a.createElement(A,null))},Le=function(e){var t=e.match.params,a=t.matchweekNumber,s=t.seasonID,c=t.geekID,l=e.history,o=e.loading,i=Object(n.useState)(null),d=Object(p.a)(i,2),f=d[0],g=d[1],b=Object(n.useState)(null),h=Object(p.a)(b,2),E=h[0],v=h[1],w=Object(n.useState)(null),x=Object(p.a)(w,2),k=x[0],y=x[1],N=Object(n.useState)(null),j=Object(p.a)(N,2),O=j[0],S=j[1],C=Object(n.useState)(null),P=Object(p.a)(C,2),M=P[0],T=P[1],z=Object(n.useState)(null),L=Object(p.a)(z,2),D=L[0],_=L[1],I=Object(n.useState)(!0),H=Object(p.a)(I,2),B=H[0],q=H[1],F=Object(n.useState)(!1),R=Object(p.a)(F,2),V=R[0],J=R[1],W=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(t,a);case 2:return(n=e.sent).sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()})),v(null),new Date(n[0].date).getTime()>Date.now()&&q(!1),v(n),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(c);case 2:t=e.sent,_(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]),Object(n.useEffect)((function(){D&&function(e){if(e.seasons.length<1||e.seasons.filter((function(e){return e.season._id.toString()===s.toString()})).length<1||e.seasons.filter((function(e){return e.season._id.toString()===s.toString()}))[0].matchweeks.length<1||e.seasons.filter((function(e){return e.season._id.toString()===s.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===a.toString()})).length<1)return J(!0);J(!1);var t=e.seasons.filter((function(e){return e.season._id.toString()===s.toString()}))[0].matchweeks.filter((function(e){return e.number.toString()===a.toString()}))[0];y(t.totalPoints),S(t.bonusPoints),T(t.numberCorrects)}(D),function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t);case 2:a=e.sent,g(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s),W(s,a)}),[a,s,D]);var K=function(){v(null),q(!0),l.push("/geek/".concat(c,"/pronogeeks/").concat(s,"/matchweek/").concat(parseInt(a)-1))},X=function(){v(null),q(!0),l.push("/geek/".concat(c,"/pronogeeks/").concat(s,"/matchweek/").concat(parseInt(a)+1))};return E&&f&&!o&&D?!B||V?r.a.createElement("div",{className:"pronogeeks-bg matchweek-page"},r.a.createElement("h2",null,f.leagueName," saison ",f.year," :",r.a.createElement("br",null),"Pronos de ",D.username," J",a),r.a.createElement("ul",{className:"list-group list-group-flush list-fixtures col-10 offset-1 col-md-8 offset-md-2 col-xl-6 offset-xl-3"},r.a.createElement(G,{matchweekNumber:a,previousPage:K,nextPage:X,noPronos:!0})),r.a.createElement("h4",{className:"not-accessible"},"Les pronos de ",D.username," ne sont pas accessibles.")):r.a.createElement("div",{className:"pronogeeks-bg matchweek-page"},r.a.createElement("h2",null,f.leagueName," saison ",f.year," :",r.a.createElement("br",null),"Pronos de ",D.username," J",a),r.a.createElement("ul",{className:"list-group list-group-flush list-fixtures col-10 offset-1 col-md-8 offset-md-2 col-xl-6 offset-xl-3"},r.a.createElement(G,{matchweekNumber:a,matchweekPoints:k,matchweekCorrects:M,matchweekBonus:O,previousPage:K,nextPage:X,myClassName:"score-top"}),r.a.createElement("div",{className:"list-fixtures-header"},r.a.createElement("div",{className:"header-title"},"Domicile"),r.a.createElement("div",null,"|"),r.a.createElement("div",{className:"header-title"},"Ext\xe9rieur")),E.map((function(e){return r.a.createElement("li",{className:"list-group-item",key:e._id,style:{background:"none"}},r.a.createElement(U,{fixtureID:e._id,user:D}))})),r.a.createElement(G,{matchweekNumber:a,matchweekPoints:k,matchweekCorrects:M,matchweekBonus:O,previousPage:K,nextPage:X,myClassName:"score-bottom"}))):r.a.createElement("div",{className:"pronogeeks-bg"},r.a.createElement(A,{color:"rgb(4, 78, 199)"}))},De=function(e){var t=e.match.params,a=t.userID,s=t.confirmToken,c=Object(n.useContext)(N),i=c.user,d=c.loginUser,f=Object(n.useState)(null),g=Object(p.a)(f,2),b=g[0],h=g[1],E=Object(n.useState)(!1),v=Object(p.a)(E,2),x=v[0],k=v[1],y=Object(n.useState)(!1),j=Object(p.a)(y,2),O=j[0],S=j[1];return Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,x){e.next=5;break}return e.next=4,se(a,s).catch((function(e){L("error","Erreur",e.response.data.message.fr),k(!0)}));case 4:t=e.sent;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()?(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(a);case 2:t=e.sent,h(t.username);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),i&&!O&&function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,d(t),S(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()):x||(L("error","Erreur","Il y a eu une erreur lors de la confirmation de ton email. Merci de r\xe9essayer."),k(!0))}),[a,s,i,O,x]),r.a.createElement("div",{className:"my-content-homepage",style:{display:"flex",justifyContent:"center",alignItems:"center"}},b?x?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",{style:{padding:30,background:"rgba(4, 78, 199, 0.8)",borderRadius:10,width:"80%"}},r.a.createElement("h4",{style:{color:"white"}},"Merci ",b,", ton email est confirm\xe9 !",r.a.createElement("br",null),"Tu peux maintenant te connecter."),r.a.createElement("div",{className:"home-register"},r.a.createElement(l.b,{className:"btn my-btn login-btn",to:"/login"},"Se connecter"))):r.a.createElement(A,{tip:"Enregistrement du compte...",color:"rgb(4, 78, 199)"}))},_e=function(e){var t=e.history,a=Object(n.useContext)(N).user,s=Object(n.useState)(!1),c=Object(p.a)(s,2),l=c[0],i=c[1],d=W.a.useForm(),f=Object(p.a)(d,1)[0],g=function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.email,i(!0),e.next=4,k(n).catch((function(e){L("warning","Attention",e.response.data.message.fr),i(!1)}));case 4:e.sent&&(L("success","Email envoy\xe9","Un email a \xe9t\xe9 envoy\xe9 \xe0 ton adresse mail pour renouveler ton mot de passe."),t.push("/login"),i(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a?r.a.createElement(o.a,{to:"/profile"}):l?r.a.createElement("div",{className:"register-pages"},r.a.createElement(A,{tip:"Envoi de l'email...",color:"rgb(4, 78, 199)"})):r.a.createElement("div",{className:"register-pages"},r.a.createElement("div",{className:"row signup-form"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 col-xl-4 offset-xl-4"},r.a.createElement("h2",null,"Renouvelle ton mot de passe"),r.a.createElement(W.a,{form:f,layout:"vertical",name:"basic",onFinish:g,initialValues:{remember:!0}},r.a.createElement(W.a.Item,{type:"email",label:"Email :",name:"email",rules:[{required:!0,message:"L'email est n\xe9cessaire pour te connecter \xe0 ton compte"}]},r.a.createElement(K.a,{style:{borderRadius:15.8},placeholder:"roi.geek@pronogeeks.fr"})),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"}},r.a.createElement("button",{type:"submit",className:"btn register-btn my-btn submit-btn"},"Renouveler"))))))},Ie=function(e){var t=e.match.params,a=t.userID,s=t.renewToken,c=e.history,l=Object(n.useContext)(N).user,i=Object(n.useState)(!1),d=Object(p.a)(i,2),f=d[0],g=d[1],b=W.a.useForm(),h=Object(p.a)(b,1)[0],E=function(){var e=Object(m.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.password,r=t.passwordCopy,n===r){e.next=3;break}return e.abrupt("return",L("warning","Les mots de passe sont diff\xe9rents."));case 3:return g(!0),e.next=6,y(a,s,n).catch((function(e){L("error","Erreur",e.response.data.message.fr),g(!1)}));case 6:e.sent&&(L("success","Mot de passe actualis\xe9."),c.push("/login"),g(!1));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l?r.a.createElement(o.a,{to:"/profile"}):f?r.a.createElement("div",{className:"register-pages"},r.a.createElement(A,{tip:"Enregistrement du mot de passe...",color:"rgb(4, 78, 199)"})):r.a.createElement("div",{className:"register-pages"},r.a.createElement("div",{className:"row signup-form"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 col-xl-4 offset-xl-4"},r.a.createElement("h2",null,"Renouvelle ton mot de passe"),r.a.createElement(W.a,{form:h,layout:"vertical",name:"basic",onFinish:E,initialValues:{remember:!0}},r.a.createElement(W.a.Item,{label:"Mot de passe :",name:"password",rules:[{required:!0,message:"N'oublie pas ton mot de passe !"}]},r.a.createElement(K.a.Password,{style:{borderRadius:15.8},placeholder:"********"})),r.a.createElement(W.a.Item,{label:"R\xe9p\xe9ter le mot de passe :",name:"passwordCopy",rules:[{required:!0,message:"N'oublie pas ton mot de passe !"}]},r.a.createElement(K.a.Password,{style:{borderRadius:15.8},placeholder:"********"})),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"}},r.a.createElement("button",{type:"submit",className:"btn register-btn my-btn submit-btn"},"Confirmer"))))))},He=function(){return r.a.createElement("div",{className:"my-content-homepage"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10 offset-1 col-md-8 offset-md-2"},r.a.createElement("div",{className:"home-div",style:{width:"100%"}},r.a.createElement("div",{className:"home-message privacy-policy",style:{width:"100%"}},r.a.createElement("h2",null,"Politique de confidentialit\xe9"),r.a.createElement("section",{id:"data-collection"},r.a.createElement("h4",null,"1. Collecte de l'information"),r.a.createElement("p",null,"Nous recueillons des informations lorsque vous vous inscrivez sur notre site, lorsque vous vous connectez \xe0 votre compte et lorsque vous vous d\xe9connectez. Les informations recueillies incluent votre adresse e-mail.")),r.a.createElement("section",{id:"data-use"},r.a.createElement("h4",null,"2. Utilisation des informations"),r.a.createElement("p",null,"Toutes les informations que nous recueillons aupr\xe8s de vous peuvent \xeatre utilis\xe9es pour :"),r.a.createElement("ul",null,r.a.createElement("li",null,"Personnaliser votre exp\xe9rience et r\xe9pondre \xe0 vos besoins individuels"),r.a.createElement("li",null,"Am\xe9liorer le service utilisateur et vos besoins de prise en charge"),r.a.createElement("li",null,"Vous contacter par e-mail"),r.a.createElement("li",null,"Administrer un concours, une promotion, ou une enqu\xeate"))),r.a.createElement("section",{id:"data-confidentiality"},r.a.createElement("h4",null,"3. Confidentialit\xe9"),r.a.createElement("p",null,"Nous sommes les seuls propri\xe9taires des informations recueillies sur ce site. Vos informations personnelles ne seront pas vendues, \xe9chang\xe9es, transf\xe9r\xe9es, ou donn\xe9es \xe0 une autre soci\xe9t\xe9 pour n'importe quelle raison, sans votre consentement.")),r.a.createElement("section",{id:"data-protection"},r.a.createElement("h4",null,"4. Protection des informations"),r.a.createElement("p",null,"Nous mettons en \u0153uvre une vari\xe9t\xe9 de mesures de s\xe9curit\xe9 pour pr\xe9server la s\xe9curit\xe9 de vos informations personnelles. Nous utilisons un cryptage pour prot\xe9ger votre mot de passe. Nous prot\xe9geons \xe9galement vos informations hors ligne. Seuls les employ\xe9s qui ont besoin d'effectuer un travail sp\xe9cifique (par exemple le service \xe0 l'utilisateur) ont acc\xe8s aux informations personnelles identifiables comme les emails. Les ordinateurs et serveurs utilis\xe9s pour stocker des informations personnelles identifiables sont conserv\xe9s dans un environnement s\xe9curis\xe9.")),r.a.createElement("section",{id:"cookie-use"},r.a.createElement("h4",null,"5. Utilisation des cookies"),r.a.createElement("p",null,"Nos cookies am\xe9liorent l'acc\xe8s \xe0 notre site et identifient les visiteurs r\xe9guliers. Cependant, cette utilisation des cookies n'est en aucune fa\xe7on li\xe9e \xe0 des informations personnelles identifiables sur notre site.")),r.a.createElement("section",{id:"email-use"},r.a.createElement("h4",null,"6. Emails"),r.a.createElement("p",null,"Nous utilisons l'adresse e-mail que vous nous fournissez pour confirmer votre compte et pour vous permettre d'actualiser votre mot de passe, le cas \xe9ch\xe9ant.")),r.a.createElement("section",{id:"policy-consent"},r.a.createElement("h4",null,"7. Consentement"),r.a.createElement("p",null,"En utilisant notre site, vous consentez \xe0 notre politique de confidentialit\xe9.")))))))},Be=a(53),qe=function(e){var t=e.component,a=Object(Be.a)(e,["component"]),s=Object(n.useContext)(N).user;return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return null===s?r.a.createElement(t,Object.assign({},e,{loading:!0})):s&&!s.confirmed?r.a.createElement(X,{confirm:!0}):s?r.a.createElement(t,e):r.a.createElement(o.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Ae=function(){return r.a.createElement("h2",{className:"page-404-heading"},"Cette page n'existe pas...",r.a.createElement("br",null),"Retourne faire tes pronos au lieu de papilloner !")},Fe=function(){return r.a.createElement(l.a,null,r.a.createElement(O,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{component:Z,path:"/",exact:!0}),r.a.createElement(o.b,{component:X,path:"/signup"}),r.a.createElement(o.b,{component:De,path:"/confirm-account/:userID/:confirmToken"}),r.a.createElement(o.b,{component:Y,path:"/login"}),r.a.createElement(o.b,{component:_e,path:"/reset-pwd",exact:!0}),r.a.createElement(o.b,{component:Ie,path:"/reset-pwd/:userID/:renewToken"}),r.a.createElement(o.b,{component:He,path:"/privacy-policy"}),r.a.createElement(qe,{component:le,path:"/profile",exact:!0}),r.a.createElement(qe,{component:pe,path:"/pronogeeks/:seasonID",exact:!0}),r.a.createElement(qe,{component:he,path:"/pronogeeks/:seasonID/matchweek/:matchweekNumber"}),r.a.createElement(qe,{component:Le,path:"/geek/:geekID/pronogeeks/:seasonID/matchweek/:matchweekNumber"}),r.a.createElement(qe,{component:Te,path:"/myGeekleagues",exact:!0}),r.a.createElement(qe,{component:Ce,path:"/myGeekleagues/new",exact:!0}),r.a.createElement(qe,{component:Me,path:"/myGeekleagues/:geekLeagueID",exact:!0}),r.a.createElement(qe,{component:ze,path:"/myGeekleagues/:geekLeagueID/season/:seasonID"}),r.a.createElement(o.b,{component:Ae}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(297);c.a.render(r.a.createElement(j,null,r.a.createElement(Fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[152,1,2]]]);
//# sourceMappingURL=main.4962c640.chunk.js.map