(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{150:function(e,t,a){e.exports=a(295)},295:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),c=a.n(s),l=a(22),o=a(15),i=a(4),u=a.n(i),m=a(5),p=a(6),f=a(20),d=a.n(f),g=d.a.create({baseURL:"/auth",withCredentials:!0}),b=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/signup",t);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/login",t);case 2:return e.abrupt("return",w());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.put("/edit",t);case 2:return e.abrupt("return",w());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.put("/editPic",t);case 2:return e.abrupt("return",w());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/profile");case 2:return t=e.sent,a=t.data.user,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/logout");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=Object(n.createContext)(),k=function(e){var t=e.children,a=Object(n.useState)(null),s=Object(p.a)(a,2),c=s[0],l=s[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var o=function(e){return l(e)};return r.a.createElement(y.Provider,{value:{user:c,loginUser:o,logoutUser:function(){return l(null)}}},t)},N=function(e){var t=e.children,a=Object(n.useContext)(y),s=a.user,c=a.logoutUser,i=Object(o.g)(),p=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:c(),i.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg fixed-top navbar-dark bg-dark my-navbar"},r.a.createElement(l.b,{className:"navbar-brand my-brand",to:"/"},r.a.createElement("h1",null,"pronogeeks")),r.a.createElement("button",{className:"navbar-toggler my-navbar-btn",type:"button","data-toggle":"collapse","data-target":"#my-navbar-toggle","aria-controls":"my-navbar-toggle","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"my-navbar-toggle"},r.a.createElement("ul",{className:"navbar-nav mt-2 mt-lg-0"},s?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{to:"/",className:"nav-link",onClick:p},"D\xe9connexion")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/pronogeeks/5f67f525d7b14148997ee3eb"},"Mes pronogeeks")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/profile"},r.a.createElement("img",{className:"profile-pic-navbar",src:s.photo,alt:"Profile"})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/login"},"Se connecter")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/signup"},"Cr\xe9er un compte")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/"},r.a.createElement("svg",{width:"1.6em",height:"1.6em",viewBox:"0 0 16 16",className:"bi bi-house-fill my-home-icon",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M8 3.293l6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"}),r.a.createElement("path",{fillRule:"evenodd",d:"M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"}))," ",r.a.createElement("span",{className:"sr-only"},"(current)"))))))),r.a.createElement("div",{className:"my-content"},t))},j=d.a.create({baseURL:"/api/fixtures",withCredentials:!0}),O=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/".concat(t));case 2:return a=e.sent,n=a.data.fixture,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=d.a.create({baseURL:"/api/pronogeeks",withCredentials:!0}),S=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){var r,s,c,l,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("/".concat(n));case 2:if(r=e.sent,s=r.data.pronogeek){e.next=12;break}return e.next=7,C.post("/".concat(n),{homeProno:t,awayProno:a});case 7:return c=e.sent,l=c.data.pronogeek,e.abrupt("return",l);case 12:return e.next=14,C.put("/".concat(s._id),{homeProno:t,awayProno:a});case 14:return o=e.sent,i=o.data.pronogeek,e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),z=a(299),L=a(303),T=function(e){var t=e.fixtureID,a=Object(n.useState)(null),s=Object(p.a)(a,2),c=s[0],l=s[1],o=Object(n.useState)(null),i=Object(p.a)(o,2),f=i[0],d=i[1],g=Object(n.useState)(!1),b=Object(p.a)(g,2),h=b[0],v=b[1],E=Object(n.useState)(null),w=Object(p.a)(E,2),x=w[0],k=w[1],N=Object(n.useState)(null),j=Object(p.a)(N,2),C=j[0],T=j[1],P=Object(n.useState)(!1),M=Object(p.a)(P,2),R=M[0],D=M[1],B=Object(n.useContext)(y).user;Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,s,c,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:a=e.sent,n=a.season,r=a.matchweek,new Date(a.date)-Date.now()<0&&v(!0),l(a),(s=B.seasons.filter((function(e){return e.season._id===n}))).length>0&&(s=s[0]),c={homeProno:"",awayProno:""},o=[],i=0,s.matchweeks.length>0&&(s.matchweeks.forEach((function(e,t){e.number.toString()===r.toString()&&(i=t)})),s.matchweeks[i].pronogeeks.length>0&&(o=s.matchweeks[i].pronogeeks.filter((function(e){return e.fixture===t})))),o.length>0&&(c=o[0]),d(c),k(c.homeProno),T(c.awayProno);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t)}),[t,B.seasons]);var F,H,I=function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(new Date(c.date).getTime()-Date.now()<0)){e.next=2;break}return e.abrupt("return",A("error","Erreur","Ce match est d\xe9j\xe0 commenc\xe9 ou fini. Tu ne peux plus changer ton prono."));case 2:if(x&&C||0===parseInt(x)&&0===parseInt(C)){e.next=4;break}return e.abrupt("return",A("warning","Attention","Tu n'as pas d\xe9fini de score pour le match ".concat(c.homeTeam.name," - ").concat(c.awayTeam.name,". Prono non enregistr\xe9.")));case 4:return a=!1,e.next=7,S(x,C,t).catch((function(e){A("warning","Attention",e.response.data.message.fr),a=!0}));case 7:a||(A("success","Enregistr\xe9","Pronogeek enregistr\xe9 pour ".concat(c.homeTeam.name," - ").concat(c.awayTeam.name)),D(!0),setTimeout((function(){return D(!1)}),3e3));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(e,t,a){z.a[e]({message:t,description:a,placement:"bottomRight"})},_=function(e){var t=(e=new Date(e)).getDay(),a=e.getMonth()<9?"0".concat(e.getMonth()+1):e.getMonth()+1,n=e.getMinutes()<=9?"0".concat(e.getMinutes()):e.getMinutes();switch(t){case 0:t="dimanche";break;case 1:t="lundi";break;case 2:t="mardi";break;case 3:t="mercredi";break;case 4:t="jeudi";break;case 5:t="vendredi";break;case 6:t="samedi";break;default:t=""}return{fullDate:"".concat(t," ").concat(e.getDate(),"/").concat(a,"/").concat(e.getFullYear()),fullTime:"".concat(e.getHours(),"h").concat(n)}};return c&&null!=x&&null!=C?r.a.createElement("div",{className:"fixture-line"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("img",{src:c.homeTeam.logo,alt:"logo",className:"team-logo"})),r.a.createElement("th",null,r.a.createElement("small",null,c.homeTeam.stadium,r.a.createElement("br",null),_(c.date).fullDate,r.a.createElement("br",null),"\xe0 ",_(c.date).fullTime)),r.a.createElement("th",null,r.a.createElement("img",{src:c.awayTeam.logo,alt:"logo",className:"team-logo"})))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"team-name"},c.homeTeam.name),r.a.createElement("td",{className:"score-fixture"},c.goalsHomeTeam," - ",c.goalsAwayTeam),r.a.createElement("td",{className:"team-name"},c.awayTeam.name)),c.timeElapsed&&r.a.createElement("tr",{className:"pb-1"},r.a.createElement("td",null),r.a.createElement("td",{className:"fixture-status"},(F=c.statusShort,H=c.timeElapsed,"TBD"!==F&&"NS"!==F&&"1H"!==F&&"HT"!==F&&"2H"!==F&&"ET"!==F&&"P"!==F&&"BT"!==F&&"SUSP"!==F&&"INT"!==F&&"PST"!==F?"Match termin\xe9":"HT"===F?"Mi-temps":"".concat(H,"'"))),r.a.createElement("td",null)),r.a.createElement("tr",{className:"odds-section odds-top"},r.a.createElement("td",null,"Cote domicile :"),r.a.createElement("td",null,"Cote nul :"),r.a.createElement("td",null,"Cote ext\xe9rieur :")),r.a.createElement("tr",{className:"odds-section odds-bottom"},r.a.createElement("td",null,c.oddsWinHome),r.a.createElement("td",null,c.oddsDraw),r.a.createElement("td",null,c.oddsWinAway)),r.a.createElement("tr",{className:"prono-section"},r.a.createElement("td",{className:"prono-input-col"},r.a.createElement("label",null,"Buts domicile :"),r.a.createElement("input",{className:"prono-input",type:"number",name:"homeProno",value:x,min:0,onChange:function(e){return k(e.target.value)},placeholder:"Prono",disabled:h})),r.a.createElement("td",{className:"prono-input-col"},!R&&r.a.createElement(r.a.Fragment,null,!h&&r.a.createElement("small",{className:"legend-save-btn"},"Enregistrer prono"),r.a.createElement("button",{className:"btn my-btn save-prono",disabled:h,onClick:I},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"})))),R&&r.a.createElement(r.a.Fragment,null,!h&&r.a.createElement("small",{className:"legend-save-btn"},"Prono enregistr\xe9"),r.a.createElement("button",{className:"btn my-btn save-prono saved-prono",disabled:h,onClick:I},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))))),r.a.createElement("td",{className:"prono-input-col"},r.a.createElement("label",null,"Buts ext\xe9rieur :"),r.a.createElement("input",{className:"prono-input",type:"number",name:"awayProno",value:C,min:0,onChange:function(e){return T(e.target.value)},placeholder:"Prono",disabled:h}))))),f.points>0&&f.bonusFavTeam&&r.a.createElement("div",{className:"points-cell"},"Tu as scor\xe9 ",r.a.createElement("i",null,f.points," pts"),r.a.createElement("br",null),"dont 30 pts bonus pour ton \xe9quipe de ",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:" rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}))),f.points>0&&!f.bonusFavTeam&&r.a.createElement("div",{className:"points-cell"},"Tu as scor\xe9 ",r.a.createElement("i",null,f.points," pts"))):r.a.createElement("div",{style:{padding:20,paddingTop:0}},r.a.createElement(L.a,{active:!0}))},P=a(7),M=a(298),R=a(304),D=a(297),B=a(302),F=a(301),H=function(e){var t=e.history,a=M.a.useForm(),s=Object(p.a)(a,1)[0],c=Object(n.useState)(null),l=Object(p.a)(c,2),o=l[0],i=l[1],f=Object(n.useState)("Charger une photo"),g=Object(p.a)(f,2),h=g[0],v=g[1],E=Object(n.useState)(!1),w=Object(p.a)(E,2),x=w[0],y=w[1],k=function(){var e=Object(m.a)(u.a.mark((function e(a){var n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@(([[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a.email).toLowerCase())){e.next=5;break}N("Je crois qu'il y a une faute de frappe dans ton email..."),e.next=17;break;case 5:if(y(!0),n=null,!o){e.next=13;break}return e.next=10,d.a.post("https://api.cloudinary.com/v1_1/dlyw9xi3k/image/upload",o);case 10:r=e.sent,s=r.data.secure_url,n=s;case 13:return e.next=15,b(Object(P.a)(Object(P.a)({},a),{},{photo:n})).catch((function(e){N(e.response.data.message.fr)}));case 15:t.push("/login"),y(!1);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e,t,a){z.a[e]({message:t,description:a,placement:"bottomRight"})};return r.a.createElement("div",{className:"register-pages"},x?r.a.createElement("div",{className:"loader-container"},r.a.createElement(R.b,{size:"large"},r.a.createElement(D.a,{size:"large",tip:"Enregistrement du compte...",style:{color:" rgb(4, 78, 199)",fontSize:"1.2rem"},indicator:r.a.createElement(F.a,{spin:!0,style:{color:" rgb(4, 78, 199)",fontSize:"3rem",marginBottom:8}})}))):r.a.createElement("div",{className:"row signup-form"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-xl-6 offset-xl-3"},r.a.createElement("h2",null,"Cr\xe9er un compte"),r.a.createElement(M.a,{form:s,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:k},r.a.createElement(M.a.Item,{type:"email",label:"Email :",name:"email",rules:[{required:!0,message:"L'email est n\xe9cessaire pour cr\xe9er un compte."}]},r.a.createElement(B.a,{style:{borderRadius:15.8},placeholder:"roi.geek@pronogeeks.fr"})),r.a.createElement(M.a.Item,{label:"Pseudo :",name:"username",rules:[{required:!0,message:"Le pseudo est obligatoire et doit \xeatre unique."}]},r.a.createElement(B.a,{style:{borderRadius:15.8},placeholder:"RoiGeek"})),r.a.createElement(M.a.Item,{label:"Mot de passe :",name:"password",rules:[{required:!0,message:"Tu auras besoin d'un mot de passe pour te connecter !"}]},r.a.createElement(B.a.Password,{style:{borderRadius:15.8},placeholder:"********"})),r.a.createElement("label",{className:"first-file-label signup-file-label",htmlFor:"profile-pic-input-signup"},"Photo de profil :"),r.a.createElement("br",null),r.a.createElement("div",{className:"custom-file custom-file-signup"},r.a.createElement("label",{className:"profile-image custom-file-label",htmlFor:"profile-pic-input-signup"},h,r.a.createElement("input",{id:"profile-pic-input-signup",type:"file",name:"image",className:"custom-file-input",onChange:function(e){if(e.target.files.length>0){var t=e.target.files[0];if(t.size>1e6)return N("warning","Attention","La taille du fichier ne peux pas exc\xe9der 1Mo.");if("image/jpeg"!==t.type&&"image/png"!==t.type&&"image/jpg"!==t.type)return N("warning","Attention","La photo doit \xeatre au format JPG ou PNG.");v(t.name);var a=new FormData;a.append("file",e.target.files[0]),a.append("upload_preset","pronogeeks"),i(a)}}}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("button",{type:"submit",className:"btn my-btn submit-btn register-btn",style:{marginTop:10}},"Cr\xe9er mon compte"))))))},I=function(e){var t=e.history,a=M.a.useForm(),s=Object(p.a)(a,1)[0],c=Object(n.useContext)(y).loginUser,l=function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(a).catch((function(e){return o(e.response.data.message)}));case 2:n=e.sent,c(n),t.push("/profile");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(e){z.a.warning({message:"Error",description:e,placement:"bottomRight"})};return r.a.createElement("div",{className:"register-pages"},r.a.createElement("div",{className:"row signup-form"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3 col-xl-4 offset-xl-4"},r.a.createElement("h2",null,"Se connecter"),r.a.createElement(M.a,{form:s,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:l},r.a.createElement(M.a.Item,{type:"email",label:"Email :",name:"email",rules:[{required:!0,message:"L'email est n\xe9cessaire pour te connecter \xe0 ton compte"}]},r.a.createElement(B.a,{style:{borderRadius:15.8},placeholder:"roi.geek@pronogeeks.fr"})),r.a.createElement(M.a.Item,{label:"Mot de passe :",name:"password",rules:[{required:!0,message:"N'oublie pas ton mot de passe !"}]},r.a.createElement(B.a.Password,{style:{borderRadius:15.8},placeholder:"********"})),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("button",{type:"submit",className:"btn register-btn my-btn submit-btn"},"Me connecter"))))))},A=function(){return Object(n.useContext)(y).user?r.a.createElement(o.a,{to:"/profile"}):r.a.createElement("div",{className:"my-content-homepage"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-lg-6 offset-lg-3"},r.a.createElement("div",{className:"home-div"},r.a.createElement("div",null,r.a.createElement("h2",null,"Bienvenue sur",r.a.createElement("br",null),r.a.createElement("img",{className:"logo-homepage",src:"/images/logo-blue-home.png",alt:"Logo"})),r.a.createElement("p",{className:"home-message"},"Mesure-toi aux ma\xeetres geeks des pronostics de Ligue 1",r.a.createElement("br",null),"et deviens expert pronogeekeur !")),r.a.createElement("div",{className:"home-register"},r.a.createElement(l.b,{className:"btn my-btn login-btn",to:"/login"},"Se connecter"),r.a.createElement(l.b,{className:"btn my-btn signup-btn",to:"/signup"},"Cr\xe9er un compte"))))))},_=d.a.create({baseURL:"/api/user",withCredentials:!0}),q=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/users");case 2:return t=e.sent,a=t.data.users,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/".concat(t));case 2:return a=e.sent,n=a.data.newSeason,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/".concat(t,"/").concat(a));case 2:return n=e.sent,r=n.data.matchweek,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),V=function(){var e=Object(m.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.put("/".concat(t,"/favTeam"),a);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/players/".concat(t));case 2:return a=e.sent,n=a.data.users,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(n.useContext)(y),t=e.user,a=e.loginUser,s=Object(n.useState)(!1),c=Object(p.a)(s,2),o=c[0],i=c[1],f=Object(n.useState)(!1),g=Object(p.a)(f,2),b=g[0],h=g[1],x=Object(n.useState)(""),k=Object(p.a)(x,2),N=k[0],j=k[1],O=Object(n.useState)(!1),C=Object(p.a)(O,2),S=C[0],L=C[1],T=Object(n.useState)(null),P=Object(p.a)(T,2),M=P[0],B=P[1],H=Object(n.useState)(null),I=Object(p.a)(H,2),A=I[0],_=I[1],q=Object(n.useState)(null),U=Object(p.a)(q,2),G=U[0],V=U[1],W=function(){var e=Object(m.a)(u.a.mark((function e(t){var n,r,s,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=t.target.files[0]).size>1e6)){e.next=3;break}return e.abrupt("return",Z("warning","Attention","La taille du fichier ne peux pas exc\xe9der 1Mo. La photo de profil reste inchang\xe9e."));case 3:if("image/jpeg"===n.type||"image/png"===n.type||"image/jpg"===n.type){e.next=5;break}return e.abrupt("return",Z("warning","Attention","Le fichier doit \xeatre au format JPG ou PNG. La photo de profil reste inchang\xe9e."));case 5:return i(!0),(r=new FormData).append("file",t.target.files[0]),r.append("upload_preset","pronogeeks"),e.next=11,d.a.post("https://api.cloudinary.com/v1_1/dlyw9xi3k/image/upload",r);case 11:return s=e.sent,c=s.data.secure_url,e.next=15,E({photo:c});case 15:l=e.sent,a(l),i(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,L(!0),e.next=4,v({username:N}).catch((function(e){L(!1),t=!1,Z("warning","Attention",e.response.data.message.fr)}));case 4:if(!t){e.next=11;break}return e.next=7,w();case 7:n=e.sent,a(n),h(!1),L(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){j(null===t||void 0===t?void 0:t.username),function(){var e=Object(m.a)(u.a.mark((function e(){var a,n,r,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.seasons.length>0)){e.next=11;break}return a=null===t||void 0===t?void 0:t.seasons[t.seasons.length-1].season._id.toString(),B(null===t||void 0===t?void 0:t.seasons[t.seasons.length-1].season._id.toString()),e.next=5,J(a);case 5:n=e.sent,r=n.sort((function(e,t){return t.seasons.filter((function(e){return e.season.toString()===a}))[0].totalPoints-e.seasons.filter((function(e){return e.season.toString()===a}))[0].totalPoints})),s=r.map((function(e){return e.username})).indexOf(t.username)+1,c=r.slice(0,20),V(s),_(c);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]);var Z=function(e,t,a){z.a[e]({message:t,description:a,placement:"bottomRight"})},$=function(e){return 1===parseInt(e)?"1er":"".concat(e,"\xe8me")};return!t||S?r.a.createElement("div",{className:"my-profile-page"},r.a.createElement("div",{className:"loader-container"},r.a.createElement(R.b,{size:"large"},r.a.createElement(D.a,{size:"large",tip:"Chargement de la page...",style:{color:"white",fontSize:"1.2rem"},indicator:r.a.createElement(F.a,{spin:!0,style:{color:"white",fontSize:"3rem",marginBottom:8}})})))):r.a.createElement("div",{className:"my-profile-page row"},r.a.createElement("div",{className:"my-profile col-10 offset-1 col-lg-4"},r.a.createElement("section",{className:"about-section"},r.a.createElement("h2",null,"Bonjour ",t.username,r.a.createElement("button",{onClick:function(){return h(!b)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"30px",height:"30px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})))),r.a.createElement("div",{className:"profile-details"},r.a.createElement("div",{className:"profile-picture-container"},!o&&r.a.createElement("img",{src:t.photo,alt:"Profile pic",className:"profile-pic"}),o&&r.a.createElement("div",{className:"profile-pic"},r.a.createElement(R.b,{size:"medium"},r.a.createElement(D.a,{size:"medium",tip:"Chargement de la photo...",style:{color:"rgb(26, 145, 254)"},indicator:r.a.createElement(F.a,{spin:!0,style:{color:"rgb(26, 145, 254)",fontSize:"2rem",marginBottom:8}})}))),r.a.createElement("label",{className:"first-file-label",htmlFor:"profile-pic-input"},"Changer de photo de profil :"),r.a.createElement("div",{className:"custom-file"},r.a.createElement("label",{className:"profile-image custom-file-label",htmlFor:"profile-pic-input"},"Charger une photo",r.a.createElement("input",{id:"profile-pic-input",type:"file",name:"image",className:"custom-file-input",onChange:W})))),t.seasons.length>0&&t.seasons[t.seasons.length-1].favTeam&&r.a.createElement("div",{className:"favteam-info"},r.a.createElement("div",null,r.a.createElement("img",{src:t.seasons[t.seasons.length-1].favTeam.logo,alt:"Logo \xe9quipe de coeur"})),r.a.createElement("h5",null,t.seasons[t.seasons.length-1].favTeam.name," est ton \xe9quipe de coeur",r.a.createElement("br",null),"pour la saison ",t.seasons[t.seasons.length-1].season.year," de ",t.seasons[t.seasons.length-1].season.leagueName,".")))),r.a.createElement("section",{className:"geekleagues-section"},r.a.createElement("h2",null,"Ligues Geek"),r.a.createElement(l.b,{to:"/myGeekLeagues/new",className:"btn my-btn new-league"},"Nouvelle ligue"),t.geekLeagues.length>0&&r.a.createElement("ul",null,t.geekLeagues.map((function(e){return r.a.createElement("li",null,e.name)}))))),r.a.createElement("section",{className:"my-profile-ranking col-10 offset-1 col-lg-4 offset-lg-2"},!A&&r.a.createElement("div",{className:"pt-4"},r.a.createElement(R.b,{size:"large"},r.a.createElement(D.a,{size:"large",tip:"Chargement du classement...",style:{color:"white",fontSize:"1.2rem"},indicator:r.a.createElement(F.a,{spin:!0,style:{color:"white",fontSize:"3rem",marginBottom:8}})}))),A&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,t.seasons[t.seasons.length-1].season.leagueName," saison ",t.seasons[t.seasons.length-1].season.year,r.a.createElement("br",null),"Classement g\xe9n\xe9ral"),r.a.createElement("ul",{className:"list-group list-group-flush season-ranking"},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center mb-2"},r.a.createElement("span",null,r.a.createElement("b",null,$(G)," : ",t.username)),r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},t.seasons[t.seasons.length-1].totalPoints," pts")),A.map((function(e,t){return r.a.createElement("li",{key:e._id,className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("span",null,$(t+1)," : ",e.username),r.a.createElement("span",{className:"badge badge-success badge-pill my-badge"},e.seasons.filter((function(e){return e.season.toString()===M.toString()}))[0].totalPoints," pts"))}))))),b&&r.a.createElement("div",{id:"update-username-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"update-username-modal-title","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},"Changer de pseudo :"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return h(!1)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("label",{htmlFor:"pseudo-input-profile"},"Entrer un nouveau pseudo :"),r.a.createElement("input",{type:"text",id:"pseudo-input-profile",name:"username",value:N,onChange:function(e){return j(e.target.value)}})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"my-btn close",onClick:function(){return h(!1)}},"Fermer"),r.a.createElement("button",{type:"button",className:" my-btn save",onClick:K},"Enregistrer"))))))},K=d.a.create({baseURL:"/api/seasons",withCredentials:!0}),Z=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.get("/".concat(t));case 2:return a=e.sent,n=a.data.season,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.get("/".concat(t,"/").concat(a));case 2:return n=e.sent,r=n.data.fixtures,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Y=function(e){var t=e.match.params.seasonID,a=Object(n.useContext)(y),s=a.loginUser,c=a.user,l=Object(n.useState)(null),i=Object(p.a)(l,2),f=i[0],d=i[1],g=Object(n.useState)(!1),b=Object(p.a)(g,2),h=b[0],v=b[1],E=Object(n.useState)(null),x=Object(p.a)(E,2),k=x[0],N=x[1],j=function(e){var t=Object(n.useState)(e),a=Object(p.a)(t,2),r=a[0],s=a[1];return{value:r,onChange:function(e){return s(e.target.value)}}}("");Object(n.useEffect)((function(){var e=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(function(){var a=Object(m.a)(u.a.mark((function a(){var n,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(t);case 2:return n=a.sent,v(n),a.next=6,w();case 6:r=a.sent,s(r);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()(),function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t);case 2:a=e.sent,d(a.rankedTeams),n=a.fixtures.filter((function(e){return new Date(e.date).getTime()-Date.now()>-72e5})),r=n[0].matchweek,s=n[0].date,n.forEach((function(e){return r=e.matchweek<r&&new Date(e.date).getTime()<new Date(s).getTime()?e.matchweek:r})),N(r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t)}),[t,s]);var O=function(){var e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==j.value){e.next=4;break}return e.abrupt("return",C("warning","Attention","Tu dois choisir une \xe9quipe de coeur avant de continuer."));case 4:return e.next=6,V(t,{favTeam:j.value});case 6:return C("success","\xc9quipe de coeur enregistr\xe9e."),e.next=9,w();case 9:a=e.sent,s(a),v(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e,t,a){z.a[e]({message:t,description:a,placement:"bottomRight"})};return r.a.createElement("div",{className:"pronogeeks-bg"},f?h?r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"choose-favteam"},r.a.createElement("label",{htmlFor:"favteam-select"},"Choisis une \xe9quipe de coeur pour cette saison.",r.a.createElement("br",null),"NB : Chaque bon prono sur un match de ton \xe9quipe de coeur te rapporte un bonus de 30 pts.",r.a.createElement("br",null),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgb(253, 0, 7)",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}))," R\xe9fl\xe9chis bien, tu ne pourras plus changer ensuite..."),r.a.createElement("br",null),r.a.createElement("select",Object.assign({name:"favTeam",id:"favteam-select"},j),r.a.createElement("option",{value:"",disabled:!0},"S\xe9lectionner une \xe9quipe"),f.map((function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)}))),r.a.createElement("br",null),r.a.createElement("button",{className:"btn my-btn save-favteam-btn",onClick:O},"Confirmer"))):k?c?r.a.createElement(o.a,{to:"/pronogeeks/".concat(t,"/matchweek/").concat(k)}):r.a.createElement(o.a,{to:"/login"}):r.a.createElement("div",{className:"loader-container"},r.a.createElement(R.b,{size:"large"},r.a.createElement(D.a,{size:"large",tip:"Chargement de la page...",style:{color:"rgb(4, 78, 199)",fontSize:"1.2rem"},indicator:r.a.createElement(F.a,{spin:!0,style:{color:"rgb(4, 78, 199)",fontSize:"3rem",marginBottom:8}})}))):r.a.createElement("div",{className:"loader-container"},r.a.createElement(R.b,{size:"large"},r.a.createElement(D.a,{size:"large",tip:"Chargement de la page...",style:{color:"rgb(4, 78, 199)",fontSize:"1.2rem"},indicator:r.a.createElement(F.a,{spin:!0,style:{color:"rgb(4, 78, 199)",fontSize:"3rem",marginBottom:8}})}))))},Q=d.a.create({baseURL:"/api/fetch",withCredentials:!0}),X=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.get("/fixtures/season/".concat(t,"/matchweek/").concat(a));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ee=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.get("/odds/season/".concat(t,"/matchweek/").concat(a));case 2:return n=e.sent,r=n.data.message,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),te=function(e){var t=e.match.params,a=t.matchweekNumber,s=t.seasonID,c=e.history,l=Object(n.useState)(null),i=Object(p.a)(l,2),f=i[0],d=i[1],g=Object(n.useState)(null),b=Object(p.a)(g,2),h=b[0],v=b[1],E=Object(n.useState)(null),x=Object(p.a)(E,2),k=x[0],N=x[1],j=Object(n.useState)(null),O=Object(p.a)(j,2),C=O[0],S=O[1],L=Object(n.useState)(null),P=Object(p.a)(L,2),M=P[0],B=P[1],H=Object(n.useContext)(y),I=H.loginUser,A=H.user;Object(n.useEffect)((function(){var e=function(){var e=Object(m.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t);case 2:return e.next=4,G(t,a);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();(function(){var t=Object(m.a)(u.a.mark((function t(){var n,r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(s,a);case 2:return t.next=4,w();case 4:n=t.sent,I(n),r=n.seasons.filter((function(e){return e.season._id.toString()===s.toString()}))[0],c=r.matchweeks.filter((function(e){return e.number.toString()===a.toString()}))[0],N(c.totalPoints),S(c.bonusPoints),B(c.numberCorrects);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t);case 2:a=e.sent,d(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s),V(s,a)}),[a,s]);var _=function(){var e=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(s,a);case 2:if(!(t=e.sent).message){e.next=7;break}return e.abrupt("return",J("warning","Actualisation abort\xe9e",t.message.fr));case 7:return v(null),v(h),J("success","Scores actualis\xe9s"),e.next=12,w();case 12:n=e.sent,I(n);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(s,a);case 2:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",J("warning","Actualisation abort\xe9e",t.fr));case 7:V(s,a)&&J("success","Cotes actualis\xe9es");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t,a);case 2:return(n=e.sent).sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()})),v(null),v(n),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=function(e,t,a){z.a[e]({message:t,description:a,placement:"bottomRight"})},W=function(){v(null),c.push("/pronogeeks/".concat(s,"/matchweek/").concat(parseInt(a)-1))},K=function(){v(null),c.push("/pronogeeks/".concat(s,"/matchweek/").concat(parseInt(a)+1))};return h&&f?A?r.a.createElement("div",{className:"pronogeeks-bg matchweek-page"},"SUPER GEEK"===A.role&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn admin-btn top",onClick:_},"Actualiser les scores"),r.a.createElement("button",{className:"btn my-btn admin-btn top",onClick:q},"Actualiser les cotes")),r.a.createElement("h2",null,f.leagueName," saison ",f.year," :",r.a.createElement("br",null),"journ\xe9e ",a),r.a.createElement("ul",{className:"list-group list-group-flush list-fixtures col-10 offset-1 col-md-8 offset-md-2 col-xl-6 offset-xl-3"},r.a.createElement("div",{className:"previous-next-btns"},1!==parseInt(a)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:W},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})))),C>0&&r.a.createElement("div",{className:"score-top"},"Ton total J",a," : ",k," pts",r.a.createElement("br",null),"dont ",C," pts bonus (",M,"/10)"),!C&&r.a.createElement("div",{className:"score-top"},"Ton total J",a," : ",k," pts"),38!==parseInt(a)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:K},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}))))),r.a.createElement("div",{className:"list-fixtures-header"},r.a.createElement("div",{className:"header-title"},"Domicile"),r.a.createElement("div",null,"|"),r.a.createElement("div",{className:"header-title"},"Ext\xe9rieur")),h.map((function(e){return r.a.createElement("li",{className:"list-group-item",key:e._id,style:{background:"none"}},r.a.createElement(T,{fixtureID:e._id}))})),r.a.createElement("div",{className:"previous-next-btns"},r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:W},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})))),C>0&&r.a.createElement("div",{className:"score-bottom"},"Ton total J",a," : ",k," pts",r.a.createElement("br",null),"dont ",C," pts bonus (",M,"/10)"),!C&&r.a.createElement("div",{className:"score-bottom"},"Ton total J",a," : ",k," pts"),r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn",onClick:K},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"24px",height:"24px"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})))))),"SUPER GEEK"===A.role&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn my-btn admin-btn",onClick:_},"Actualiser les scores"),r.a.createElement("button",{className:"btn my-btn admin-btn",onClick:q},"Actualiser les cotes"))):r.a.createElement(o.a,{to:"/login"}):r.a.createElement("div",{className:"pronogeeks-bg"},r.a.createElement("div",{className:"loader-container"},r.a.createElement(R.b,{size:"large"},r.a.createElement(D.a,{size:"large",tip:"Chargement de la page...",style:{color:"rgb(4, 78, 199)",fontSize:"1.2rem"},indicator:r.a.createElement(F.a,{spin:!0,style:{color:"rgb(4, 78, 199)",fontSize:"3rem",marginBottom:8}})}))))},ae=a(300),ne=d.a.create({baseURL:"/api/geekLeagues",withCredentials:!0}),re=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/",t);case 2:return a=e.sent,n=a.data.geekLeague,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=ae.a.Option,ce=function(e){var t=e.history,a=Object(n.useContext)(y).user,s=M.a.useForm(),c=Object(p.a)(s,1)[0],l=Object(n.useState)(null),o=Object(p.a)(l,2),i=o[0],f=o[1],d=Object(n.useState)(!1),g=Object(p.a)(d,2),b=g[0],h=g[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:t=e.sent,n=t.filter((function(e){return e._id!==(null===a||void 0===a?void 0:a._id)})),f(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]);var v=function(){var e=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.name&&a.geeks&&!(a.geeks.length<1)){e.next=2;break}return e.abrupt("return",E("warning","Attention","Tous les champs sont requis."));case 2:return h(!0),e.next=5,re(a);case 5:n=e.sent,E("success",'Ligue "'.concat(a.name,'" cr\xe9\xe9e')),t.push("/myGeekLeagues/".concat(n._id)),h(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e,t,a){z.a[e]({message:t,description:a,placement:"bottomRight"})};return r.a.createElement("div",{className:"geekleague-bg row"},!a||b?r.a.createElement("div",{className:"loader-container"},r.a.createElement(R.b,{size:"large"},r.a.createElement(D.a,{size:"large",tip:"Chargement de la page...",style:{color:"white",fontSize:"1.2rem"},indicator:r.a.createElement(F.a,{spin:!0,style:{color:"white",fontSize:"3rem",marginBottom:8}})}))):r.a.createElement("div",{className:"geekleague-form"},r.a.createElement("div",{className:"col-10 offset-1 col-sm-8 offset-sm-2 col-xl-6 offset-xl-3"},r.a.createElement("h2",null,"Cr\xe9er une ligue"),r.a.createElement(M.a,{form:c,layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:v},r.a.createElement(M.a.Item,{type:"text",label:"Nom de la ligue :",name:"name",rules:[{required:!0,message:"Le nom de ligue est n\xe9cessaire."}]},r.a.createElement(B.a,{style:{borderRadius:15.8},placeholder:"Ma Ligue Geek"})),r.a.createElement(M.a.Item,{type:"text",label:"S\xe9lectionne d'autres geeks :",name:"geeks",rules:[{required:!0,message:"Tu ne peux pas cr\xe9er de ligue sans autres geeks."}]},r.a.createElement(ae.a,{mode:"multiple",style:{width:"100%",borderRadius:15.8,overflow:"hidden",textAlign:"left"},placeholder:"Ajoute des geeks \xe0 ta ligue !",optionLabelProp:"label",optionFilterProp:"label"},null===i||void 0===i?void 0:i.map((function(e){return r.a.createElement(se,{key:e._id,value:e._id,label:e.username},r.a.createElement("div",{className:"demo-option-label-item"},r.a.createElement("span",{role:"img","aria-label":e.username},r.a.createElement("img",{src:e.photo,alt:"profile",className:"profile-pic-preview"})),"\xa0\xa0",e.username))})))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("button",{type:"submit",className:"btn my-btn create-league-btn",style:{marginTop:10}},"Cr\xe9er ligue"))))))},le=function(e){var t=e.match.params.geekLeagueID;return r.a.createElement("div",{className:"geekleague-bg row"},r.a.createElement("h2",null,t))},oe=function(){return r.a.createElement("h1",null,"Provisional Ranking")},ie=function(){return r.a.createElement("h2",null,"Cette page n'existe pas...",r.a.createElement("br",null),"Retourne faire tes pronos au lieu de papilloner !")},ue=function(){return r.a.createElement(l.a,null,r.a.createElement(N,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{component:A,path:"/",exact:!0}),r.a.createElement(o.b,{component:H,path:"/signup"}),r.a.createElement(o.b,{component:I,path:"/login"}),r.a.createElement(o.b,{component:W,path:"/profile",exact:!0}),r.a.createElement(o.b,{component:oe,path:"/profile/provRanking"}),r.a.createElement(o.b,{component:Y,path:"/pronogeeks/:seasonID",exact:!0}),r.a.createElement(o.b,{component:te,path:"/pronogeeks/:seasonID/matchweek/:matchweekNumber"}),r.a.createElement(o.b,{component:ce,path:"/myGeekleagues/new",exact:!0}),r.a.createElement(o.b,{component:le,path:"/myGeekleagues/:geekLeagueID"}),r.a.createElement(o.b,{component:ie}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(294);c.a.render(r.a.createElement(k,null,r.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[150,1,2]]]);
//# sourceMappingURL=main.6e24472f.chunk.js.map